(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"003c":function(e,t,n){},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0b25":function(e,t,n){var r=n("a691"),i=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"0d3b":function(e,t,n){var r=n("d039"),i=n("b622"),a=n("c430"),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),h=[].push,p=Math.min,g=4294967295,m=!d((function(){return!RegExp(g,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var s,u,c,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,d+"g");while(s=f.call(m,r)){if(u=m.lastIndex,u>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&h.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===r.length?!c&&m.test("")||l.push(""):l.push(r.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var f=a(e),d=String(this),h=s(f,RegExp),v=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),y=new h(m?f:"^(?:"+f.source+")",b),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===d.length)return null===l(y,d)?[d]:[];var S=0,T=0,E=[];while(T<d.length){y.lastIndex=m?T:0;var x,k=l(y,m?d:d.slice(T));if(null===k||(x=p(c(y.lastIndex+(m?0:T)),d.length))===S)T=u(d,T,v);else{if(E.push(d.slice(S,T)),E.length===w)return E;for(var A=1;A<=k.length-1;A++)if(E.push(k[A]),E.length===w)return E;T=S=x}}return E.push(d.slice(S)),E}]}),!m)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,a=n("a640"),o=n("ae40"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"143c":function(e,t,n){var r=n("74e8");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"145e":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4"),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),u=i(e,s),c=i(t,s),l=arguments.length>2?arguments[2]:void 0,f=o((void 0===l?s:i(l,s))-c,s-u),d=1;c<u&&u<c+f&&(d=-1,c+=f-1,u+=f-1);while(f-- >0)c in n?n[u]=n[c]:delete n[u],u+=d,c+=d;return n}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(l){c.forEach=a}}},"170b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("23cb"),o=n("4840"),s=r.aTypedArray,u=r.exportTypedArrayMethod;u("subarray",(function(e,t){var n=s(this),r=n.length,u=a(e,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-u))}))},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=n("ae40"),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"182d":function(e,t,n){var r=n("f8cd");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},"1b05":function(e,t,n){"use strict";var r=n("e04d"),i=n.n(r);i.a},"219c":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(i(this),e)}))},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2954:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4840"),a=n("d039"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice,l=a((function(){new Int8Array(1).slice()}));u("slice",(function(e,t){var n=c.call(o(this),e,t),r=i(this,this.constructor),a=0,u=n.length,l=new(s(r))(u);while(u>a)l[a]=n[a++];return l}),l)},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,i=n("23e7"),a=n("83ab"),o=n("0d3b"),s=n("da84"),u=n("37e8"),c=n("6eeb"),l=n("19aa"),f=n("5135"),d=n("60da"),h=n("4df4"),p=n("6547").codeAt,g=n("5fb2"),m=n("d44e"),v=n("9861"),b=n("69f3"),y=s.URL,w=v.URLSearchParams,S=v.getState,T=b.set,E=b.getterFor("URL"),x=Math.floor,k=Math.pow,A="Invalid authority",I="Invalid scheme",M="Invalid host",C="Invalid port",P=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,N=/\d/,D=/^(0x|0X)/,L=/^[0-7]+$/,O=/^\d+$/,_=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,K=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(n=z(t.slice(1,-1)),!n)return M;e.host=n}else if($(e)){if(t=g(t),U.test(t))return M;if(n=V(t),null===n)return M;e.host=n}else{if(j.test(t))return M;for(n="",r=h(t),i=0;i<r.length;i++)n+=Y(r[i],W);e.host=n}},V=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=D.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?O:8==a?L:_).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=k(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*k(256,3-r);return s},z=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c++,l=c}while(d()){if(8==c)return;if(":"!=d()){t=n=0;while(n<4&&_.test(d()))t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;r=0;while(d()){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!N.test(d()))return;while(N.test(d())){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[c]=256*u[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!=c&&o>0)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s}else if(8!=c)return;return u},q=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},H=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=q(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},G=d({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),J=d({},G,{"#":1,"?":1,"{":1,"}":1}),X=d({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(e){return f(Q,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},ce={},le={},fe={},de={},he={},pe={},ge={},me={},ve={},be={},ye={},we={},Se={},Te={},Ee={},xe={},ke={},Ae={},Ie=function(e,t,n,i){var a,o,s,u,c=n||oe,l=0,d="",p=!1,g=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(K,"")),t=t.replace(B,""),a=h(t);while(l<=a.length){switch(o=a[l],c){case oe:if(!o||!P.test(o)){if(n)return I;c=ue;continue}d+=o.toLowerCase(),c=se;break;case se:if(o&&(R.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return I;d="",c=ue,l=0;continue}if(n&&($(e)!=f(Q,d)||"file"==d&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void($(e)&&Q[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=ye:$(e)&&i&&i.scheme==e.scheme?c=ce:$(e)?c=he:"/"==a[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=xe)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return I;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ae;break}c="file"==i.scheme?ye:fe;continue;case ce:if("/"!=o||"/"!=a[l+1]){c=fe;continue}c=pe,l++;break;case le:if("/"==o){c=ge;break}c=Ee;continue;case fe:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&$(e))c=de;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Ee;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Ae}break;case de:if(!$(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Ee;continue}c=ge}else c=pe;break;case he:if(c=pe,"/"!=o||"/"!=d.charAt(l+1))continue;l++;break;case pe:if("/"!=o&&"\\"!=o){c=ge;continue}break;case ge:if("@"==o){p&&(d="%40"+d),p=!0,s=h(d);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var y=Y(b,X);m?e.password+=y:e.username+=y}else m=!0}d=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)){if(p&&""==d)return A;l-=h(d).length+1,d="",c=me}else d+=o;break;case me:case ve:if(n&&"file"==e.scheme){c=Se;continue}if(":"!=o||g){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)){if($(e)&&""==d)return M;if(n&&""==d&&(Z(e)||null!==e.port))return;if(u=F(e,d),u)return u;if(d="",c=Te,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return M;if(u=F(e,d),u)return u;if(d="",c=be,n==ve)return}break;case be:if(!N.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&$(e)||n){if(""!=d){var w=parseInt(d,10);if(w>65535)return C;e.port=$(e)&&w===Q[e.scheme]?null:w,d=""}if(n)return;c=Te;continue}return C}d+=o;break;case ye:if(e.scheme="file","/"==o||"\\"==o)c=we;else{if(!i||"file"!=i.scheme){c=Ee;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){ne(a.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),c=Ee;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Ae}}break;case we:if("/"==o||"\\"==o){c=Se;break}i&&"file"==i.scheme&&!ne(a.slice(l).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Ee;continue;case Se:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(d))c=Ee;else if(""==d){if(e.host="",n)return;c=Te}else{if(u=F(e,d),u)return u;if("localhost"==e.host&&(e.host=""),n)return;d="",c=Te}continue}d+=o;break;case Te:if($(e)){if(c=Ee,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(c=Ee,"/"!=o))continue}else e.fragment="",c=Ae;else e.query="",c=ke;break;case Ee:if(o==r||"/"==o||"\\"==o&&$(e)||!n&&("?"==o||"#"==o)){if(ae(d)?(re(e),"/"==o||"\\"==o&&$(e)||e.path.push("")):ie(d)?"/"==o||"\\"==o&&$(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=ke):"#"==o&&(e.fragment="",c=Ae)}else d+=Y(o,J);break;case xe:"?"==o?(e.query="",c=ke):"#"==o?(e.fragment="",c=Ae):o!=r&&(e.path[0]+=Y(o,W));break;case ke:n||"#"!=o?o!=r&&("'"==o&&$(e)?e.query+="%27":e.query+="#"==o?"%23":Y(o,W)):(e.fragment="",c=Ae);break;case Ae:o!=r&&(e.fragment+=Y(o,G));break}l++}},Me=function(e){var t,n,r=l(this,Me,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=T(r,{type:"URL"});if(void 0!==i)if(i instanceof Me)t=E(i);else if(n=Ie(t={},String(i)),n)throw TypeError(n);if(n=Ie(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new w,c=S(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(r.href=Pe.call(r),r.origin=Re.call(r),r.protocol=Ne.call(r),r.username=De.call(r),r.password=Le.call(r),r.host=Oe.call(r),r.hostname=_e.call(r),r.port=Ue.call(r),r.pathname=je.call(r),r.search=Ke.call(r),r.searchParams=Be.call(r),r.hash=Fe.call(r))},Ce=Me.prototype,Pe=function(){var e=E(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",Z(e)&&(c+=n+(r?":"+r:"")+"@"),c+=H(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Re=function(){var e=E(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&$(e)?t+"://"+H(e.host)+(null!==n?":"+n:""):"null"},Ne=function(){return E(this).scheme+":"},De=function(){return E(this).username},Le=function(){return E(this).password},Oe=function(){var e=E(this),t=e.host,n=e.port;return null===t?"":null===n?H(t):H(t)+":"+n},_e=function(){var e=E(this).host;return null===e?"":H(e)},Ue=function(){var e=E(this).port;return null===e?"":String(e)},je=function(){var e=E(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ke=function(){var e=E(this).query;return e?"?"+e:""},Be=function(){return E(this).searchParams},Fe=function(){var e=E(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ce,{href:Ve(Pe,(function(e){var t=E(this),n=String(e),r=Ie(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Re),protocol:Ve(Ne,(function(e){var t=E(this);Ie(t,String(e)+":",oe)})),username:Ve(De,(function(e){var t=E(this),n=h(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Y(n[r],X)}})),password:Ve(Le,(function(e){var t=E(this),n=h(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Y(n[r],X)}})),host:Ve(Oe,(function(e){var t=E(this);t.cannotBeABaseURL||Ie(t,String(e),me)})),hostname:Ve(_e,(function(e){var t=E(this);t.cannotBeABaseURL||Ie(t,String(e),ve)})),port:Ve(Ue,(function(e){var t=E(this);ee(t)||(e=String(e),""==e?t.port=null:Ie(t,e,be))})),pathname:Ve(je,(function(e){var t=E(this);t.cannotBeABaseURL||(t.path=[],Ie(t,e+"",Te))})),search:Ve(Ke,(function(e){var t=E(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ie(t,e,ke)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(Be),hash:Ve(Fe,(function(e){var t=E(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ie(t,e,Ae)):t.fragment=null}))}),c(Ce,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),c(Ce,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),y){var ze=y.createObjectURL,qe=y.revokeObjectURL;ze&&c(Me,"createObjectURL",(function(e){return ze.apply(y,arguments)})),qe&&c(Me,"revokeObjectURL",(function(e){return qe.apply(y,arguments)}))}m(Me,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Me})},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,f=Math.min,d=u("startsWith"),h=!c&&!d&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!d},{startsWith:function(e){var t=String(s(this));o(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},3280:function(e,t,n){"use strict";var r=n("ebb5"),i=n("e58c"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},3314:function(e,t,n){},"3a7b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("182d"),o=n("7b0b"),s=n("d039"),u=r.aTypedArray,c=r.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));c("set",(function(e){u(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(e),s=i(r.length),c=0;if(s+t>n)throw RangeError("Wrong length");while(c<s)this[t+c]=r[c++]}),l)},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),a=n("7dd0"),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f2b":function(e,t,n){(function(r){var i;n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a623"),n("cb29"),n("4de4"),n("7db0"),n("c740"),n("5db7"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("a434"),n("73d9"),n("c19f"),n("b0c0"),n("4ec9"),n("a9e3"),n("9129"),n("b680"),n("dca8"),n("e439"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("5377"),n("25f0"),n("6062"),n("8a79"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("84c3"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s={};(function(e){var t,n,i,u,c,l,f,d,h,p,g,m,v,b,y,w,S,T,E,x,k,A,I,M,C,P,R,N,D,L,O,_,U,j,K,B,F,V,z,q,H,W,G,J,X,Y,Q,$,Z,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ge,me,ve,be,ye,we,Se,Te,Ee,xe,ke,Ae,Ie,Me,Ce,Pe,Re,Ne,De,Le,Oe,_e,Ue,je,Ke,Be,Fe,Ve,ze,qe,He,We,Ge,Je,Xe,Ye,Qe,$e,Ze,et,tt,nt,rt,it,at,ot,st,ut,ct,lt,ft,dt,ht,pt,gt,mt,vt,bt,yt,wt,St,Tt,Et,xt,kt,At,It,Mt,Ct,Pt,Rt,Nt,Dt,Lt,Ot,_t,Ut,jt,Kt,Bt,Ft,Vt,zt,qt,Ht,Wt,Gt,Jt,Xt,Yt,Qt,$t,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,fn,dn,hn,pn,gn,mn,vn,bn,yn,wn,Sn,Tn,En,xn,kn,An,In,Mn,Cn,Pn,Rn,Nn,Dn,Ln,On,_n,Un,jn,Kn,Bn,Fn,Vn,zn,qn,Hn,Wn,Gn,Jn,Xn,Yn,Qn,$n,Zn,er,tr,nr,rr,ir,ar,or,sr,ur,cr,lr,fr,dr,hr,pr,gr,mr,vr,br,yr,wr,Sr,Tr,Er,xr,kr,Ar,Ir,Mr,Cr,Pr,Rr,Nr,Dr,Lr,Or,_r,Ur,jr,Kr,Br,Fr,Vr,zr,qr,Hr,Wr,Gr,Jr,Xr,Yr,Qr,$r,Zr,ei,ti,ni,ri,ii,ai,oi,si,ui,ci,li,fi,di,hi,pi,gi,mi,vi,bi,yi,wi,Si,Ti,Ei,xi,ki,Ai,Ii,Mi,Ci,Pi,Ri,Ni,Di,Li,Oi,_i,Ui,ji,Ki,Bi,Fi,Vi,zi,qi;if(t=" The setting will be ignored.",s.ba=" is unsupported on this platform.",n=" to a log level. Falling back to default!",i="' already registered",u=".clpp-subtitle-container",s.fa="6.0.4",s.ha="AdaptationSet",s.ia="Autoplay is not allowed due to browser policy.",c="Can not set volume to ",s.ka="Cannot retrieve buffer information due to platform limitations",s.la="CastlabsPlayer",l="Content-Length",f="Content-Type",d="DRMtoday",h="Destroying player",s.qa="Disable track type ",p="HW_SECURE_CRYPTO",g="HW_SECURE_DECODE",m="Illegal constructor.",v="Invalid track type: ",s.va="Loading player with configuration",s.xa="MaxHeight",s.ya="MaxWidth",s.za="MediaKeySession.load not yet supported",s.Aa="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform",b="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!",y="No event provided!",w="No track data attached to the event, unable to add track!",s.Fa="NotSupportedError",s.Ga="Player sources",s.Ha="Player state change: ",S="Player-Factory '",s.Ka="QualityLevel",T="Received Video Element Event: '",s.Na="Releasing player with source",s.Oa="Representation",E="SW_SECURE_CRYPTO",x="SW_SECURE_DECODE",s.Sa="Session type ",k="Signature Verification failed",s.Ua="SmoothStreamingMedia",A="The index is not in the allowed range.",I="Unable to translate ",s.Xa="Unsupported keySystem",s.Ya="Updating manifest...",M="Using VTTCue polyfill from 3 argument TextTrackCue.",C="VTT parser encountered an invalid VTT setting: ",s.ab="Will select track",s.bb="ad-break-started",s.cb="ad-break-stopped",s.db="ad-buffering",s.eb="ad-clicked",s.fb="ad-completed",s.gb="ad-first-quartile",s.hb="ad-impression",s.ib="ad-loaded",s.jb="ad-midpoint",s.mb="ad-paused",s.nb="ad-progress",s.ob="ad-resumed",s.pb="ad-skipped",s.qb="ad-started",s.rb="ad-stopped",s.sb="ad-third-quartile",P="addtrack",s.vb="ads-timeline-changed",s.wb="airplay-casting-ended",s.xb="airplay-casting-started",s.yb="airplay-status-changed",s.zb="application",s.Ab="application/cea-608",R="application/dash+xml",s.Cb="application/ttml+xml",s.Db="application/vnd.apple.mpegurl",N="application/vnd.ms-sstr+xml",D="application/x-mpegurl",L="application/x-subrip",O="application/x-www-form-urlencoded",s.Ib="audio",s.Jb="audio/mp4",s.Kb="audiobufferchanged",s.Ob="audiotrackchanged",s.Pb="auto",s.Qb="autoplaynotallowed",s.Rb="bitratechanged",s.Sb="boolean",s.Tb="bufferingended",s.Ub="bufferingstarted",_="canplay",U="canplaythrough",s.Xb="castingstarted",s.Yb="caststatuschanged",s.Zb="cenc",s.$b="center",j="change",s.bc="clpp.cast.CastSender",s.cc="clpp.component.persistent",K="clpp.native.Player",B="clpp.utils.Platform",F="clpp_html5_cast",s.hc="codecs",V="com.apple.fps",z="com.chromecast.playready",s.kc="com.microsoft.playready",s.lc="com.widevine.alpha",q="crossorigin",H="cuechange",s.oc="cuehidden",s.pc="cueshown",s.qc="disabled",s.rc="drmexpirationupdate",W="drmrenewalstarted",s.tc="drmsessionpersisted",s.uc="drmsessionupdate",G="dt-custom-data",s.wc="encrypted",s.xc="end",s.yc="ended",s.zc="error",s.Ac="frameRate",J="fullscreenElement",s.Cc="function",s.Dc="height",s.Ec="hidden",X="http://www.w3.org/ns/ttml#parameter",Y="http://www.w3.org/ns/ttml#styling",s.Hc="internal-error",s.Ic="keystatuseschange",s.Jc="license-renewal",s.Kc="license-request",Q="line-left",$="line-right",Z="lineThrough",s.Oc="loadeddata",s.Pc="loadedmetadata",ee="loadstart",s.Rc="mdat",s.Sc="message",te="metadata",s.Uc="mimeType",s.Vc="mp4",s.Wc="number",s.Xc="object",s.Yc="onContentLoaded",s.cd="optional",s.dd="org.w3.clearkey",s.ed="output-not-allowed",ne="overline",s.gd="parsererror",s.hd="pause",s.id="persistent-license",re="picture-in-picture",s.kd="play",s.ld="playing",ie="progress",s.nd="ratechange",ae="released",s.pd="releasing",oe="removetrack",s.rd="required",s.sd="resize",se="rgba(0, 0, 0, 0)",s.ud="seeked",s.vd="seeking",s.wd="showing",ue="stalled",s.yd="start",s.zd="statechanged",s.Ad="status-pending",s.Bd="string",s.Cd="subtitle",s.Dd="subtitles",s.Ed="temporary",s.k="text",s.Fd="text/vtt",s.Gd="text/xml",ce="textDecoration",s.Id="texttrackchanged",s.Jd="timeline-cue-added",s.Kd="timeline-cue-enter",s.Ld="timeline-cue-exit",s.Md="timeupdate",s.Nd="tracksadded",s.Od="und",le="underline",fe="unknown",s.Rd="usable",s.Sd="user-seeked",s.Td="user-seeking",s.Ud="value",s.Vd="vertical-lr",s.Wd="vertical-rl",s.Xd="video",s.Yd="video/mp2t",s.Zd="video/mp4",s.$d="videobufferchanged",s.ae="videotrackchanged",s.be="waiting",de="webkitkeyadded",he="webkitkeyerror",pe="webkitkeymessage",ge="webkitneedkey",s.ge="webm",s.he="width",me="x-dt-auth-token",ve="x-dt-csl-tracking-token",be="x-dt-follow-up-token",ye="xml:id",we=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},s.v=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:we(e)}},s.ne=function(e){if(!(e instanceof Array)){e=s.v(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e},s.w=function(e,t){if(e.prototype=zi(t.prototype),e.prototype.constructor=e,Ji)Ji(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n]},Se=function(e,t){if(t){for(var n=Xi,r=e.split("."),i=0;i<r.length-1;i++){var a=r[i];a in n||(n[a]={}),n=n[a]}r=r[r.length-1],i=n[r],a=t(i),a!=i&&null!=a&&Yi(n,r,{configurable:!0,writable:!0,value:a})}},Te=function(){Te=function(){},Xi.Symbol||(Xi.Symbol=Qi)},Ee=function(e,t){this.a=e,Yi(this,"description",{configurable:!0,writable:!0,value:t})},xe=function(){Te();var e=Xi.Symbol.iterator;e||(e=Xi.Symbol.iterator=Xi.Symbol("Symbol.iterator")),a(Array.prototype[e])!=s.Cc&&Yi(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return ke(we(this))}}),xe=function(){}},ke=function(e){return xe(),e={next:e},e[Xi.Symbol.iterator]=function(){return this},e},Ae=function(){this.h=!1,this.f=null,this.b=void 0,this.a=1,this.j=this.c=0,this.g=null},Ie=function(e){if(e.h)throw new TypeError("Generator is already running");e.h=!0},Me=function(e,t){e.g={Oe:t,Kh:!0},e.a=e.c||e.j},s.x=function(e,t,n){return e.a=n,{value:t}},s.y=function(e){e.a=0},s.Be=function(e,t){e.a=t,e.c=0},s.Ce=function(e){e.c=0;var t=e.g.Oe;return e.g=null,t},Ce=function(e){this.a=new Ae,this.b=e},Pe=function(e,t){Ie(e.a);var n=e.a.f;return n?Re(e,"return"in n?n["return"]:function(e){return{value:e,done:!0}},t,e.a["return"]):(e.a["return"](t),Ne(e))},Re=function(e,t,n,r){try{var i=t.call(e.a.f,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.h=!1,i;var a=i.value}catch(o){return e.a.f=null,Me(e.a,o),Ne(e)}return e.a.f=null,r.call(e.a,a),Ne(e)},Ne=function(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.h=!1,{value:t.value,done:!1}}catch(n){e.a.b=void 0,Me(e.a,n)}if(e.a.h=!1,e.a.g){if(t=e.a.g,e.a.g=null,t.Kh)throw t.Oe;return{value:t["return"],done:!0}}return{value:void 0,done:!0}},De=function(e){this.next=function(t){return Ie(e.a),e.a.f?t=Re(e,e.a.f.next,t,e.a.i):(e.a.i(t),t=Ne(e)),t},this["throw"]=function(t){return Ie(e.a),e.a.f?t=Re(e,e.a.f["throw"],t,e.a.i):(Me(e.a,t),t=Ne(e)),t},this["return"]=function(t){return Pe(e,t)},xe(),this[Symbol.iterator]=function(){return this}},Le=function(e){function t(t){return e.next(t)}function n(t){return e["throw"](t)}return new Promise((function(r,i){function a(e){e.done?r(e.value):Promise.resolve(e.value).then(t,n).then(a,i)}a(e.next())}))},s.z=function(e){return Le(new De(new Ce(e)))},s.B=function(e,t){var n,r=e.split("."),i=$i;r[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t},s.Ke=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},s.Le=function(e,t){this.length=(this.b=e)?e.length:0,this.a=[],this.type=void 0===t?"total":t},Oe=function(e){return e&&0<=ta[e]?ta[e]:ea},_e=function(e){if(!e)return s.C("clpp.log",I+e+n),-1;var t=Zi[e.toUpperCase()];return void 0===t?(s.C("clpp.log",I+e+n),-1):t},s.E=function(e){(this.a=e)&&void 0===ta[e]&&(ta[e]=-1)},s.Se=function(e){ra.info.apply(ra,arguments)},s.F=function(e){ra.debug.apply(ra,arguments)},s.C=function(e){ra.warn.apply(ra,arguments)},s.Te=function(e){ra.error.apply(ra,arguments)},s.Ue=function(){this.a={}},Ue=function(e,t,n,r){this.b=e,this.Qb=t,this.a=n,this.Ki=!!r},s.I=function(t,n){if(n)for(var r in n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=this.b=!1},je=function(e){this.a=new s.Ue,this.b=e},s.Xe=function(){this.a=new s.Ue},Ke=function(e,t,n,r){function i(a){n.forEach((function(n){e.off(t,n,i)})),r(a)}n.forEach((function(n){e.on(t,n,i)}))},s.$e=function(e){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)Fe(r[n]);e.a.clear()},Be=function(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=r,this.target.addEventListener(t,n,r)},Fe=function(e){e.target.removeEventListener(e.type,e.listener,e.a),e.target=null,e.listener=null},s.bf=function(){this.oc=new je(this),this.Sb=[]},Ve=function(e,t){this.b=e,this.a=t},ze=function(e,t){this.a=e,this.b=t},s.gf=function(e){e&&(s.ef.hasOwnProperty(e.name)?s.ff.warn(S+e.name+i):(s.ef[e.name]=e,s.ff.info("Registered Player-Factory: '"+e.name+"'")))},s.K=function(e,t,n,r,i){var a=Error.call(this,qe(e,t,n,r));this.message=a.message,"stack"in a&&(this.stack=a.stack),this.a=e,this.c=t,this.code=n,this.data=!r||s.J.X(r)?{}:r,this.b=void 0===i?null:i,Error.captureStackTrace&&Error.captureStackTrace(this,s.K)},s.jf=function(e,t){e.a!==t&&(e.a=t,e.message=qe(e.a,e.c,e.code,e.data))},qe=function(e,t,n,r){if(e=(e===s.M?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+t+" - Code "+n+"]",s.J.X(r))e+=": "+r;else if(null!=r&&void 0!=r)if(null!=r.message&&void 0!=r.message)e+=": "+r.message,delete r.message;else try{e+=": "+JSON.stringify(r)}catch(i){}return e},s.N=function(e){var t=void 0===t?1/0:t;return s.kf(e,t,Uint8Array)},s.kf=function(e,t,n){var r=n.BYTES_PER_ELEMENT||1,i=e instanceof ArrayBuffer?e:e.buffer,a=(e.byteOffset||0)+e.byteLength;return e=Math.max(0,Math.min((e.byteOffset||0)+0*r,a)),t=Math.min(e+Math.max(t*r,0),a),e/=r,new n(i,e,t/r-e)},He=function(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t},s.mf=function(e){if(!e)return"";e=s.N(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(He(e));try{return decodeURIComponent(e)}catch(t){throw Error("Error while decoding string!")}},We=function(e,t,n){if(!e)return"";if(!n&&0!==e.byteLength%2)throw ia.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");if(n=s.N(e),(t&&255===n[0]&&254===n[1]||254===n[0]&&255===n[1])&&(e=n.subarray(2)),e instanceof ArrayBuffer)var r=e;else n=new Uint8Array(e.byteLength),n.set(s.N(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return He(n)},s.pf=function(e,t){if(s.J.X(e))return e;var n="",r=!!t,i=s.N(e);239==i[0]&&187==i[1]&&191==i[2]?n=s.mf(i):254==i[0]&&255==i[1]?n=We(i.subarray(2),!1):255==i[0]&&254==i[1]&&(n=We(i.subarray(2),!0));var a=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,i);if(ia.debug("Unable to find byte-order-mark, making an educated guess."),0==i[0]&&0==i[2]?n=We(e,!1):0==i[1]&&0==i[3]?n=We(e,!0):a(0)&&a(1)&&a(2)&&a(3)&&(n=s.mf(e)),n)return r&&(n=escape(n)),n;throw Error("Unable to detect text encoding")},Ge=function(e){var t=0,n=[];switch(e=e.replace(/-/g,"+").replace(/_/g,"/"),e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("Illegal base64url string")}for(var r=0|e.length/4;0<r--;){var i=(oa[e.charCodeAt(t)]<<18)+(oa[e.charCodeAt(t+1)]<<12)+(oa[e.charCodeAt(t+2)]<<6)+oa[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="===e.charAt(t-2)?(n.pop(),n.pop()):"="===e.charAt(t-1)&&n.pop()),new Uint8Array(n)},s.tf=function(e){e instanceof ArrayBuffer&&(e=s.N(e));for(var t,n=0,r=[],i=0|e.length/3;0<i--;)t=(e[n]<<16)+(e[n+1]<<8)+e[n+2],n+=3,r.push(aa.charAt(63&t>>18)),r.push(aa.charAt(63&t>>12)),r.push(aa.charAt(63&t>>6)),r.push(aa.charAt(63&t));return 2===e.length-n?(t=(e[n]<<16)+(e[n+1]<<8),r.push(aa.charAt(63&t>>18)),r.push(aa.charAt(63&t>>12)),r.push(aa.charAt(63&t>>6)),r.push("=")):1===e.length-n&&(t=e[n]<<16,r.push(aa.charAt(63&t>>18)),r.push(aa.charAt(63&t>>12)),r.push("==")),r.join("")},s.uf=function(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t},s.vf=function(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer},Je=function(e,t){var n=t||1,r=e.length,i=new ArrayBuffer(r*n);if(4===n){var a=void 0===a?1/0:a;n=s.kf(i,a,Uint32Array)}else if(2===n){var o=void 0===o?1/0:o;n=s.kf(i,o,Uint16Array)}else n=s.N(i);for(a=0;a<r;a++)n[a]=e.charCodeAt(a);return i},Xe=function(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)},s.yf=function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length-t.length,r=e.lastIndexOf(t,n);return-1!==r&&r===n},s.zf=function(e){return!!(e&&0<e.length)},s.Af=function(e){try{var t=e.uris[e.uriIndex],n=s.Af.parse(t);return{promise:Promise.resolve({uri:t,data:n.data,request:e,headers:{"content-type":n.contentType}}),request:e,abort:function(){return Promise.resolve()}}}catch(r){return{promise:Promise.reject(r),request:e,abort:function(){return Promise.resolve()}}}},Ye=function(e){this.a=new Uint8Array(e||65536),this.b=0,this.c=Date.now()},Qe=function(e,t,n){return t.read().then((function(r){var i=r.done;if(r=r.value,null!=r){var a=Date.now();$e(e,r),wt(n,r.byteLength,a-e.c),e.c=a}return i?(i=e.a.buffer,e.a.byteLength!==e.b&&(i=i.slice(0,e.b)),Promise.resolve(i)):Promise.resolve().then((function(){return Qe(e,t,n)}))}))},$e=function(e,t){for(;e.a.byteLength<e.b+t.byteLength;){var n=new Uint8Array(2*e.a.byteLength);n.set(e.a),e.a=n}e.a.set(t,e.b),e.b+=t.byteLength},Ze=function(e){var t=void 0===t?2:t;this.a=new Uint8Array(e),this.c=t,this.b=0},et=function(e,t){var n=e.b+t.byteLength;if(n>e.a.byteLength){var r=e.a;e.a=new Uint8Array(Math.max(Math.ceil(e.a.buffer.byteLength*e.c),n)),e.a.set(r)}e.a.set(t,e.b),e.b+=t.byteLength},tt=function(e){e=void 0===e?1e6:e,this.f=new Ze(e),this.length=e,this.b=this.a=this.c=0,this.g=null,this.h=-1,this.i=Date.now()},nt=function(e,t,n,r){return t.read().then((function(i){var a=i.done;i=i.value;var o=Date.now();if(r&&i){var s=o-e.i;100<s&&(r(i.byteLength,s),e.i=o)}if(a)return a=ot(e),(a=n(!0,a))?a.then((function(){return e.f.a.buffer})):Promise.resolve(e.f.a.buffer);if(a=Promise.resolve(),null!=i){for(et(e.f,i),e.a=e.c,e.b=e.f.b,e.g=new DataView(e.f.a.buffer,0,e.f.b),o=rt(e),i=[];o;)i.push(o),o=rt(e);if(0<i.length){if(o=i[0],1<i.length){o=i[0],s=i[i.length-1];var u=s.end-o.start;o={start:o.start,end:s.end,length:u,data:new DataView(e.f.a.buffer,o.start,u),count:i.length}}(i=n(!1,o))&&(a=i)}}return a.then((function(){return nt(e,t,n,r)}))}))},rt=function(e){if(0<=e.h&&e.b<e.h)return null;for(var t=it(e);null!==t;){if(t.name===s.Rc){var n={start:e.c,end:t.end,length:t.end-e.c,data:new DataView(e.f.a.buffer,e.c,t.end-e.c),count:1};return e.c=t.end,n}t=it(e)}return null},it=function(e){var t=e.a;if(e.a+4>=e.b)return e.a=e.b,null;var n=at(e);if(e.a+4>=e.b)return e.a=e.b,null;var r=at(e);switch(r=String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,255&r),n){case 0:n=e.b-t;break;case 1:if(e.a+8>=e.b)return e.a=e.b,null;try{var i=e.g.getUint32(e.a,!1),a=e.g.getUint32(e.a+4,!1)}catch(o){throw new s.K(s.M,3,3e3)}if(2097151<i)throw new s.K(s.M,3,3e3);e.a+=8,n=i*Math.pow(2,32)+a}return n=t+n,e.h=n,e.b>=n?(e.a=n,{name:r,start:t,end:n}):null},at=function(e){var t=e.g.getUint32(e.a,!1);return e.a+=4,t},ot=function(e){var t=null;return e.c!==e.b&&(t={start:e.c,end:e.b,length:e.b-e.c,data:new DataView(e.f.a.buffer,e.c,e.b-e.c),count:-1}),t},st=function(t){var n,r=new st.b;for(n in t.headers)r.append(n.toLowerCase(),t.headers[n]);var i=new st.a,a={kc:!1,Af:!1};if(r={promise:st.g(t.uris[t.uriIndex],t,{body:t.body||void 0,headers:r,method:t.method,signal:i.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a),request:t,abort:function(){return a.kc||(a.kc=!0,i.abort()),Promise.resolve()}},t=t.timeout){var o=e.setTimeout((function(){a.Af=!0,i.abort()}),t);r.promise=r.promise["finally"]((function(){e.clearTimeout(o)}))}return r},s.Of=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},ut=function(e){var t=e.uris[e.uriIndex],n=new ut.c,r=Date.now(),i=r,a=0,o=new s.Of;n.open(e.method,t,!0),n.responseType="arraybuffer",n.timeout=e.timeout,n.withCredentials=e.allowCrossSiteCredentials;var u=!1;for(var c in n.onreadystatechange=function(){if(n.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!u){var t=n.getResponseHeader(l);yt(e,t),u=!0}},n.onload=function(n){n=n.target;var r=(n.getAllResponseHeaders()||"").trim().split("\r\n"),a={};r=s.v(r);for(var u=r.next();!u.done;u=r.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ");try{var c=s.Rf(a,n.response,n.status,t,n.responseURL,e,Date.now()-i);o.resolve(c)}catch(l){o.reject(l)}},n.onerror=function(n){if(n=n.target,0>=n.status)o.reject(new s.K(1,1,1002,{url:t,request:e,status:n.status}));else{var r=n.getAllResponseHeaders(),a={};if(r){r=s.v(r.trim().split("\r\n"));for(var u=r.next();!u.done;u=r.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ")}n=s.Rf(a,n.response,n.status,t,n.responseURL,e,Date.now()-i),o.resolve(n)}},n.ontimeout=function(){o.reject(new s.K(1,1,1003,{url:t,request:e}))},n.onprogress=function(t){var n=Date.now(),i=n-r;(100<i||t.lengthComputable&&t.loaded===t.total)&&(wt(e,t.loaded-a,i),a=t.loaded,r=n)},e.headers)n.setRequestHeader(c.toLowerCase(),e.headers[c]);return n.send(e.body),{promise:o,request:e,abort:function(){return n.abort(),o.reject(new s.K(1,1,7001,{url:t,request:e})),Promise.resolve()}}},s.Sf=function(e){var t;e instanceof s.Sf?(ct(this,e.wa),this.Jb=e.Jb,this.ta=e.ta,lt(this,e.bc),this.ha=e.ha,ft(this,mt(e.a)),this.ib=e.ib):e&&(t=String(e).match(ca))?(ct(this,t[1]||"",!0),this.Jb=dt(t[2]||""),this.ta=dt(t[3]||"",!0),lt(this,t[4]),this.ha=dt(t[5]||"",!0),ft(this,t[6]||"",!0),this.ib=dt(t[7]||"")):this.a=new gt(null)},ct=function(e,t,n){e.wa=n?dt(t,!0):t,e.wa&&(e.wa=e.wa.replace(/:$/,""))},lt=function(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.bc=t}else e.bc=null},ft=function(e,t,n){t instanceof gt?e.a=t:(n||(t=ht(t,ha)),e.a=new gt(t))},dt=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},ht=function(e,t,n){return a(e)===s.Bd?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},pt=function(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)},gt=function(e){this.b=e||null},mt=function(e){var t=new gt;if(t.b=e.b,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.c=e.c}return t},vt=function(){return{maxAttempts:1,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},bt=function(e,t){e.timeout=t.timeout,e.baseDelay=t.baseDelay,e.backoffFactor=t.backoffFactor,e.fuzzFactor=t.fuzzFactor,e.maxAttempts=t.maxAttempts},s.fg=function(){this.b=[],this.c=[],this.g=!1,this.f=new s.eg,this.a={},this.a.data=s.Af,st.da()?(this.a.http=st,this.a.https=st):(this.a.http=ut,this.a.https=ut)},s.hg=function(e,t){s.J.X(e)&&(e={uris:[e]}),Array.isArray(e)&&(e={uris:e});var n={uris:e.uris||[],type:e.type||s.gg,uriIndex:0,method:e.method||"GET",body:e.body||null,headers:Object.assign({},e.headers),allowCrossSiteCredentials:e.allowCrossSiteCredentials||!1,onProgress:e.onProgress||null,onFragment:e.onFragment||null,maxAttempts:e.maxAttempts||1,currentAttempt:0,baseDelay:e.baseDelay||1e3,backoffFactor:e.backoffFactor||2,fuzzFactor:e.fuzzFactor||.5,timeout:e.timeout||0,requestModifiers:e.requestModifiers||[],responseModifiers:e.responseModifiers||[],startTime:e.startTime||null,endTime:e.endTime||null,contentType:e.contentType||null,licenseRequestType:e.licenseRequestType||null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1};return e.keyInfo&&(n.keyInfo=e.keyInfo),t&&bt(n,t),n},s.Rf=function(e,t,n,r,i,a,o){if(200<=n&&299>=n&&202!==n)return i&&(r=i),{uri:r,data:t||new ArrayBuffer(0),headers:e,status:n,fromCache:!!e["x-shaka-from-cache"],timeMs:o,request:a};i=null;try{i=s.pf(t,!0)}catch(u){}throw s.F("HTTP error text:",i),new s.K(401===n||403===n?s.M:1,1,1001,{url:r,status:n,response:i,headers:e,request:a})},yt=function(e,t){var n=parseInt(t,10);Number.isNaN(n)&&(n=-1),e.bytesTotal=n,e.bytesLoaded=0,e.bytesRemaining=n},wt=function(e,t,n){0<e.bytesRemaining&&(e.bytesRemaining-=t),e.bytesLoaded+=t,e.onProgress&&e.onProgress(t,n)},St=function(){},s.jg=function(){return!(!e.MediaSource||!MediaSource.isTypeSupported)},Tt=function(e){return""!==Et().canPlayType(e)},s.ng=function(e){return s.mg("Tizen"+(e?" "+String(e):""))},s.og=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!s.ng()},s.pg=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)},s.mg=function(e){return(navigator.userAgent||"").includes(e)},Et=function(){return ma||(ga||(ga=new s.sg((function(){ma=null}))),(ma=document.querySelector(s.Xd)||document.querySelector(s.Ib))||(ma=document.createElement(s.Xd)),ga.P(1),ma)},xt=function(e,t){try{return parseInt(t,10)}catch(n){va.warn("Unable to parse version number for '"+t+"' from '"+e+"'")}return-1},kt=function(e){var t={major:-1,name:fe};if(!e)return t;var n=e.replace(/_/g,".");return t.name=n,n=n.split("."),1<=n.length&&(t.major=xt(e,n[0])),2<=n.length&&(t.minor=xt(e,n[1])),3<=n.length&&(t.patch=xt(e,n[2])),4<=n.length&&(t.build=xt(e,n[3])),t},At=function(e,t){if(!e||!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1},It=function(){var e=Mt();if(!e)return xa;var t=e.match(/^.+?(?=\))/);return t?(t=t[0],At(t,["iphone","ipad"])?ya:At(t,["android"])?ba:At(t,["macintosh"])?Sa:At(t,["windows nt"])?Ta:At(t,["tizen"])?Ea:At(t,["linux"])?wa:(va.warn("Unable to identify OS from user agent: "+e),xa)):xa},Mt=function(){var t=e.navigator.userAgent;return t.toLowerCase()},s.Ig=function(){var e=It(),t=It(),n=Aa[t];n?(n=Mt().match(n.os_version)[1],n=kt(n),t===Ta&&("5.1"===n.name?n.name="xp":"6.1"===n.name?n.name="7":"6.2"!==n.name&&"6.3"!==n.name||(n.name="8")),t=n):t=kt("");e:{n=Mt();var r="ie edge opera firefox safari chrome".split(" "),i=It();i=Aa[i];for(var a=0,o=r.length;a<o;a++)if(i[r[a]]&&n.match(i[r[a]])){n=r[a];break e}n=ka}e:{r=Mt(),i="ie edge opera firefox safari chrome".split(" "),a=It(),o=Aa[a];for(var s=0,u=i.length;s<u;s++)if(a=o[i[s]]&&r.match(o[i[s]])){r=kt(a[1]);break e}r=kt("")}return{os:e,osVersion:t,browser:n,browserVersion:r}},Ct=function(){},s.Kg=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&s.pg()&&(e=360);var t=vt();return t.maxAttempts=3,{source:"",license:"",viewerId:void 0,autoplay:void 0,manifest:{attemptParameters:vt(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1e3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},drm:null,enableEnhancedSubtitleManager:!1,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:!1,streaming:{attemptParameters:t,failureCallback:void 0,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!s.mg("Web0S"),stallThreshold:1,stallSkip:.1,bufferLimitUpdateInterval:.5,overridePasp:!1},restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}},s.Ng=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(!t)return s.Kg();var r=[s.Kg()],i=!1;if(t.forEach((function(e){null!==e&&void 0!==e&&(s.J.X(e)&&(e={source:e}),e.lowLatencyMode&&!i&&(r.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{ij:{clockSyncUri:"//time.akamai.com"}}}),i=!0),r.push(e))})),t=s.J.Va.apply(null,r),s.J.X(t.volume)&&(""===""+t.volume?t.volume=null:t.volume=Number(t.volume)),!s.J.H(t.volume)&&(!s.J.Ua(t.volume)||s.J.isNaN(t.volume)))throw new s.K(s.M,7,7100,"config.volume is not a number");if(!s.J.X(t.preferredTextLanguage))throw new s.K(s.M,7,7100,"config.preferredTextLanguage is not a string");if(!s.J.X(t.preferredAudioLanguage))throw new s.K(s.M,7,7100,"config.preferredAudioLanguage is not a string");if(!s.J.H(t.drm)){if(t.drm.env&&!s.J.X(t.drm.env))throw new s.K(s.M,7,7100,"config.drm.env is not a string");if(t.drm.offlineId&&!s.J.X(t.drm.offlineId))throw new s.K(s.M,7,7100,"config.drm.offlineId is not a string")}if(n=t.streaming){if(n.bufferingGoal=Number(n.bufferingGoal),n.rebufferingGoal=Number(n.rebufferingGoal),n.bufferBehind=Number(n.bufferBehind),n.smallGapLimit=Number(n.smallGapLimit),n.durationBackoff=Number(n.durationBackoff),!s.J.Ua(n.bufferingGoal)||s.J.isNaN(n.bufferingGoal))throw new s.K(s.M,7,7100,"config.streaming.bufferingGoal is not a number");if(!s.J.Ua(n.rebufferingGoal)||s.J.isNaN(n.rebufferingGoal))throw new s.K(s.M,7,7100,"config.streaming.rebufferingGoal is not a number");if(n.rebufferingGoal>n.bufferingGoal)throw new s.K(s.M,7,7100,"config.streaming.rebufferingGoal must be >= bufferingGoal");if(!s.J.Ua(n.bufferBehind)||s.J.isNaN(n.bufferBehind))throw new s.K(s.M,7,7100,"config.streaming.bufferBehind is not a number");if(!s.J.Ua(n.smallGapLimit)||s.J.isNaN(n.smallGapLimit))throw new s.K(s.M,7,7100,"config.streaming.smallGapLimit is not a number");if(!s.J.Ua(n.durationBackoff)||s.J.isNaN(n.durationBackoff))throw new s.K(s.M,7,7100,"config.streaming.durationBackoff is not a number");Rt(t.manifest),Pt(t.restrictions),Pt(t.abr.restrictions)}return t},Pt=function(e){if(s.J.H(e.maxPixels)&&(e.maxPixels=1/0),s.J.H(e.maxBandwidth)&&(e.maxBandwidth=1/0),s.J.H(e.maxHeight)&&(e.maxHeight=1/0),s.J.H(e.maxWidth)&&(e.maxWidth=1/0),s.J.H(e.minPixels)&&(e.minPixels=0),s.J.H(e.minBandwidth)&&(e.minBandwidth=0),s.J.H(e.minHeight)&&(e.minHeight=0),s.J.H(e.minWidth)&&(e.minWidth=0),e.minWidth=Number(e.minWidth),e.maxWidth=Number(e.maxWidth),e.minHeight=Number(e.minHeight),e.maxHeight=Number(e.maxHeight),e.minBandwidth=Number(e.minBandwidth),e.maxBandwidth=Number(e.maxBandwidth),e.minPixels=Number(e.minPixels),e.maxPixels=Number(e.maxPixels),Number.isNaN(e.minWidth)||Number.isNaN(e.maxWidth)||Number.isNaN(e.minHeight)||Number.isNaN(e.maxHeight)||Number.isNaN(e.minBandwidth)||Number.isNaN(e.maxBandwidth)||Number.isNaN(e.minPixels)||Number.isNaN(e.maxPixels))throw new s.K(s.M,7,7100,"Restrictions contain NaN")},Rt=function(e){if(s.J.H(e.availabilityWindowOverride))e.availabilityWindowOverride=NaN;else if(a(e.availabilityWindowOverride)!==s.Wc)throw new s.K(s.M,7,7100,"Invalid value for |manifest.availabilityWindowOverride|")},s.Og=function(e){return a(e)===s.Xc&&!Array.isArray(e)&&e.hasOwnProperty("source")},s.Pg=function(e){s.bf.call(this),this.log=new s.E(e),this.a=this.Hc=s.Kg(),this.j=this.l=null,this.ec=!1,this.bf=new s.E("clpp.video.events"),this.Ic=null,this.oe=0,this.Oh=this.Ji.bind(this),this.le=new s.fg,this.W=new s.Xe},s.Qg=function(e,t){var n,r=document.createElement(e);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];null===i||void 0===i?r.setAttribute(n,""):r.setAttribute(n,i)}return r},s.Sg=function(e,t){if(e.classList)e.classList.add(t);else{var n=Nt(e);0>n.indexOf(t)&&(n.push(t),e.setAttribute("class",n.join(" ")))}},s.Tg=function(e,t){a(t)===s.Bd&&(t=[t]),t.forEach((function(t){if(e.classList)e.classList.remove(t);else{var n=Nt(e);t=n.indexOf(t),0<=t&&(n.splice(t,1),e.setAttribute("class",n.join(" ")))}}))},Nt=function(e){return e=e.getAttribute("class"),e?(e=e.trim(),0===e.length?[]:(e=e.replace(/,/g," "),e=e.replace(/ {2,}/g," "),e.split(" "))):[]},s.Ug=function(e,t){var n;if(e&&a(t)===s.Xc)for(n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Dt=function(e,t){var n;t=void 0===t?{}:t;var r=document.querySelector("#clpp-styles");if(!r){r=document.createElement("style"),r.id="clpp-styles";var i=document.querySelector("head");i||(i=document.createElement("head"),document.body.appendChild(i)),i.appendChild(r)}i=document.styleSheets;for(var o,u=0;u<i.length;u++)if(i[u].ownerNode===r){o=i.item(u);break}if(r=o||null,o=r.cssRules.length,i="",r){for(var c in t)t.hasOwnProperty(c)&&(u=t[c],c=c.replace(/([A-Z])/g,"-$1").toLowerCase(),i+=c+": "+u+"; ");a(n)===s.Wc&&n>=o&&(n=o-1),r.hasOwnProperty("addRule")||a(r.addRule)===s.Cc?r.addRule(e,i,n):(r.hasOwnProperty("insertRule")||a(r.insertRule)===s.Cc)&&r.insertRule(e+" {"+i+"}",n)}},Lt=function(e){function t(t,n){if(document.all)var r=parseFloat(e.currentStyle[t]);else t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r=parseFloat(document.defaultView.getComputedStyle(e,"").getPropertyValue(t));return r&&!isNaN(r)||(r=n),r}return{height:t(s.Dc,e.offsetHeight),width:t(s.he,e.offsetWidth),marginTop:t("marginTop",0),marginBottom:t("marginBottom",0),marginLeft:t("marginLeft",0),marginRight:t("marginRight",0)}},Ot=function(){var e=document.createElement("a");return e.style.display="flex",e="flex"===e.style.display,e?"flex":"block"},_t=function(e,t){this.g=new s.E("clpp.PlayerSurface"),this.b=s.J.Va({},Ma,t),this.b.containerEl=t?t.containerEl:null,this.f=a(e)===s.Bd?document.getElementById(e):e,this.j=this.l=this.i=this.c=this.h=this.a=null;var n=this.b.css;this.g.debug("Initializing Player Surface on ",this.f);var r=this.f.tagName.toLocaleLowerCase();r===s.Xd||r===s.Ib?this.a=this.f:"cast-media-player"===r&&(this.h=this.f),this.b.containerEl?(this.c=this.b.containerEl,s.Sg(this.c,n.container)):this.b.disableContainer||!this.a?this.c=this.a||this.f:(r=document.createElement(this.b.containerTag),s.Sg(r,this.b.css.container),this.c=r,this.a&&this.f.parentNode?this.f.parentNode.replaceChild(this.c,this.f):this.f.parentNode||this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.c.appendChild(this.a)),this.a&&(this.a.hasAttribute(q)||(r=this.b.crossorigin,this.g.info("Setting media elements crossorigin to "+r),this.a.setAttribute(q,r)),this.c&&(this.b.moveCssToContainer&&jt(this),s.Sg(this.a,n.fill)))},Ut=function(e){var t=e.D(),n=e.b.css;t?s.Tg(t,n.hidden):e.g.debug("No media element available that could be shown")},jt=function(e){e.a&&e.c&&(Nt(e.a).forEach((function(t){s.Tg(e.a,t),s.Sg(e.c,t)})),e.c.style.cssText=e.a.style.cssText,e.a.removeAttribute("style"),[s.he,s.Dc].forEach((function(t){var n=e.a.getAttribute(t);n=parseInt(n,10),isNaN(n)||(e.c.style[t]=n+"px"),s.ng()||e.a.removeAttribute(t)})))},Kt=function(){},s.eh=function(e){e&&(0<=Pa.indexOf(e)?Ca.warn("Factory '"+e.name()+"' is already registered"):(Pa.push(e),Ca.info("Factory "+e.name()+"' has been registered.")))},Bt=function(e,t){var n=Pa.find((function(n){return n.da(e,t)}));return n||(n=new Ht),Ca.info("Chosen ads: "+n.name()),n},Ft=function(){},Vt=function(){},zt=function(){},qt=function(){},Ht=function(){},s.kh=function(e){this.b=e,this.a={}},s.oh=function(e){var t={},n=e.a[s.lh];return n&&(t[s.lh]={licenseUrl:n.licenseUrl,videoRobustness:n.videoRobustness,audioRobustness:n.audioRobustness,modifiers:n.modifiers,distinctiveIdentifierRequired:n.distinctiveIdentifierRequired,persistentStateRequired:n.persistentStateRequired,serverCertificate:n.serverCertificate}),(n=e.a[s.mh])&&(t[s.mh]={licenseUrl:n.licenseUrl,certificateUrl:n.certificateUrl,modifiers:n.modifiers}),(n=e.a[s.nh])&&(t[s.nh]={licenseUrl:n.licenseUrl,modifiers:n.modifiers}),t},s.qh=function(e){s.ph[e.b]=e},s.rh=function(e){var t={attemptParameters:vt(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Ga:{}};return e&&(t.enforceSingleSession=!!e.enforceSingleSession,t.delayLicenseRequestUntilPlayed=!!e.delayLicenseRequestUntilPlayed,t.preferredDrmSystem=e.preferredDrmSystem,e.env&&(t.Ga=s.oh(s.ph[e.env]||null)||{})),t},Wt=function(e){if(e===Da)return"https://lic.drmtoday.com";if(e===La)return"https://lic.staging.drmtoday.com";if(e===Oa)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+e+"'. Can not infer DRMtoday base URL!")},Gt=function(e,t){var n=Wt(t);if(e==s.lh)return n+Ua;if(e==s.nh)return n+ja;if(e==s.mh)return n+Ka;throw Error("Unknown DRM Key-System '"+e+"'. Can not infer license URL!")},Jt=function(e){if(e=Ra[e],!e)return null;var t=s.Ig();return t.os===ba&&4===t.osVersion.major&&4===t.osVersion.minor?null:new Uint8Array(e)},s.Ch=function(){var e=s.Ig();return e.os===ba&&"chrome"===e.browser?{video:void 0,audio:void 0}:{video:x,audio:E}},s.Hh=function(e,t){var n=We(t,!0);n=n.replace(/assetid/gi,"assetId"),n=n.replace(/variantid/gi,"variantId"),n=n.replace(/keyid/gi,"keyId"),n=new s.Dh(n);var r=en(n.a);if(e&&e.drm&&e.drm.customData){var i=e.drm.customData,a=i.assetId;i=i.variantId,a&&s.zf(""+a)&&(r.assetId=a,Na.info("Using assetId from the configuration instead of the value from the HLS manifest.")),i&&s.zf(""+i)&&(r.variantId=i,Na.info("Using variantId from the configuration instead of the value from the HLS manifest."))}return n.a=Zt(r,!1,["assetId","variantId","keyId"]),n.scheme+"//"+n.b+(n.port?":"+n.port:"")+n.path+n.c+n.a},s.Ih=function(e,t,n){if(n=void 0===n||n,e=e.drm,e&&e.env.startsWith(d)){if(e.customData){var r=btoa(JSON.stringify({userId:e.customData.userId,sessionId:e.customData.sessionId,merchant:e.customData.merchant}));t.headers[G]=r,e.customData.authToken&&(t.headers[me]=""+e.customData.authToken),r=t.uris[0],n&&e.customData.assetId&&(r+="?assetId="+encodeURI(""+e.customData.assetId),e.customData.variantId&&(r+="&variantId="+encodeURI(""+e.customData.variantId)),t.uris[0]=r)}}else Na.warn(b)},s.Jh=function(e,t){s.Ih(e,t,!1),t.headers[f]=O,t.body=Je(Zt({spc:s.tf(t.body)},!0))},s.Kh=function(e,t){Na.debug("Clearing response data");var n=s.mf(t.data).trim();"<ckc>"===n.substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),t.data=Ge(n).buffer},s.Lh=function(e,t){var n=e.drm;if(n&&n.env.startsWith(d)){if(n.customData){var r=btoa(JSON.stringify({userId:n.customData.userId,sessionId:n.customData.sessionId,merchant:n.customData.merchant}));t.headers[G]=r,n.customData.authToken&&(t.headers[me]=""+n.customData.authToken)}}else Na.warn(b)},s.Mh=function(e,t){try{var n=s.N(t.data),r=JSON.parse(String.fromCharCode.apply(null,n));Na.debug("Widevine License response",r);var i=atob(r.license),a=new Uint8Array(i.length);for(n=0;n<i.length;++n)a[n]=i.charCodeAt(n);t.data=a.buffer}catch(o){Na.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}},Xt=function(){this.a=this.b=null,this.c=new s.E("clpp.drm.csl")},Yt=function(e,t){3===t.type&&(e.b&&(e.c.debug("Attaching tracking token"),t.headers[ve]=e.b),e.a&&(e.c.debug("Attaching followup token"),t.headers[be]=e.a))},Qt=function(e,t){3===t.request.type&&(e.b=t.headers[ve],e.a=t.headers[be],e.b&&e.c.debug("Loaded tracking token "+e.b),e.a&&e.c.debug("Loaded followup token "+e.a))},s.Qh=function(e,t){this.b=s.J.Ua(e)?new DataView(new ArrayBuffer(e),0,e):e,this.a=0,this.c=!!t,this.buffer=this.b.buffer},s.Sh=function(e,t,n){t=new DataView(t.buffer);try{n=n||0;for(var r=t.byteLength-n,i=0;i<r;i++)e.b.setUint8(e.a,t.getUint8(n+i)),e.a+=1}catch(a){s.Rh()}},s.P=function(e,t){try{e.b.setUint32(e.a,t,e.c),e.a+=4}catch(n){s.Rh()}},s.Rh=function(){throw new s.K(s.M,3,3e3)},s.Th=function(e,t){this.b=e,this.c=void 0===t||t,this.a=0},s.Uh=function(e){return e.a<e.b.byteLength},s.Wh=function(e){try{var t=e.b.getUint8(e.a);return e.a+=1,t}catch(n){$t()}},s.Xh=function(e){try{var t=e.b.getUint16(e.a,e.c);return e.a+=2,t}catch(n){$t()}},s.Yh=function(e){try{var t=e.b.getUint32(e.a,e.c);return e.a+=4,t}catch(n){$t()}},s.Zh=function(e){try{var t=e.b.getInt32(e.a,e.c);return e.a+=4,t}catch(n){$t()}},s.$h=function(e){var t=0;try{if(e.c){var n=e.b.getUint32(e.a,!0);t=e.b.getUint32(e.a+4,!0)}else t=e.b.getUint32(e.a,!1),n=e.b.getUint32(e.a+4,!1)}catch(r){$t()}if(2097151<t)throw new s.K(s.M,3,3001);return e.a+=8,t*Math.pow(2,32)+n},s.ai=function(e,t){e.a+t>e.b.byteLength&&$t();var n=e.b.buffer.slice(e.a,e.a+t);return e.a+=t,s.N(n)},s.bi=function(e){if(1>e.a)throw $t();--e.a},$t=function(){throw new s.K(s.M,3,3e3)},s.Dh=function(t){this.scheme=null;var n=document.createElement("a"),r=t.match(/^(.*:)(\/\/(.*))$/),i=!1;r?(this.scheme=r[1],n.href=r[2],(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+r[3],i=!0)):(n.href=t,(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+t.match(/\/?\/?(.*)/)[1],i=!0),this.scheme=n.protocol),""===this.scheme&&(this.scheme=e.location.protocol),this.b=i?"":n.hostname,this.port=n.port,this.path=n.pathname,Xe(this.path,"/")||(this.path="/"+this.path),this.a=n.search,this.c=n.hash},Zt=function(e,t,n){return e?(n||Object.keys(e).sort()).reduce((function(n,r){if(!e.hasOwnProperty(r))return n;var i=e[r],a="&";return""===n&&(a=t?"":"?"),n=n+a+encodeURIComponent(r),n+"="+encodeURIComponent(void 0===i?"":i)}),""):""},en=function(e){var t={};return e=e||"",e=e.substring(e.indexOf("?")+1),e.split("&").forEach((function(e){var n=e.split("=");e=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]||""),e&&(t[e]=n)})),t},s.ci=function(t,n){var r=void 0==n||n,i=e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_");return r?i:i.replace(/=*$/,"")},s.di=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},s.ei=function(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n},s.fi=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t},s.gi=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},s.hi=function(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(+t);for(var r=n=0;r<arguments.length;++r)t.set(arguments[r],n),n+=arguments[r].length;return t},tn=function(e,t,n){Ba.debug("Creating FPS payload");var r=t;return s.J.X(t)&&(r=s.N(Je(t,2))),t=e.byteLength+4,t+=r.byteLength+4,t+=n.byteLength,t=new s.Qh(t,!0),s.Sh(t,e),s.P(t,r.byteLength),s.Sh(t,r),s.P(t,n.byteLength),s.Sh(t,n),s.N(t.buffer)},nn=function(e,t){var n=We(t,!0);return Ba.debug("Default Extract content ID. The hostname of the content ID URL will be used!"),new s.Dh(n).b},s.li=function(e,t){for(var n=s.v(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0},s.ni=function(e,t){if(0==t.length)return e;var n=t.map((function(e){return new s.Sf(e)}));return e.map((function(e){return new s.Sf(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(s.mi.wd,[]).map((function(e){return e.toString()}))},s.oi=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}},s.pi=function(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n},s.qi=function(e){e=e.split(".");var t=e[0];return e.pop(),[t,e.join(".")]},s.ri=function(){this.c=[],this.b=[],this.a=!1,this.f=new s.E("clpp.mp4")},s.si=function(e){for(;s.Uh(e.s)&&!e.Pa.a;)e.Pa.$c(e.start+e.Ed,e.s,e.tf)},s.ti=function(e){for(var t=s.Yh(e.s);0<t&&!e.Pa.a;--t)e.Pa.$c(e.start+e.Ed,e.s,e.tf)},rn=function(e){return function(t){var n=t.s.ea()-t.s.getPosition();e(s.ai(t.s,n))}},an=function(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t},on=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},s.xi=function(e){this.b=[],this.c=[],this.a=[],8<=e.byteLength&&(new s.ri).T("pssh",this.f.bind(this)).parse(e.buffer),0==this.a.length&&s.C("No pssh box found!")},s.yi=function(e){this.b=e,this.a=null},s.sg=function(e){this.b=e,this.a=null},s.Ci=function(e){var t=this;this.i=e,this.w=new Set,this.j=this.m=null,this.M=!1,this.a=null,this.C=qa,this.l=new s.Xe,this.A=new Xt,this.f=new Map,this.v=[],this.o=new s.Of,this.c=null,this.h=function(n){t.o.reject(n),e.onError(n)},this.Ia=new Map,this.S=new Map,this.N=new s.sg((function(){return gn(t)})),this.g=!1,this.la=new s.Of,this.u=!1,this.F=[],this.R=this.qa=!1,this.I=0,this.b=new s.E("clpp.drm.DrmEngine"),this.W=new s.sg((function(){mn(t)})).za(1),this.o["catch"]((function(){}))},sn=function(e){var t;return s.z((function(n){switch(n.a){case 1:return e.l.release(),e.l=null,e.A.release(),e.A=null,e.o.reject(),e.W.stop(),e.W=null,e.N.stop(),e.N=null,t=Array.from(e.f.keys()),e.f.clear(),s.x(n,Promise.all(t.map((function(t){return Promise.resolve().then((function(){return s.z((function(n){return 1==n.a?(e.b.debug("Closing session",t.sessionId),n.c=2,s.x(n,Sn(t),4)):2!=n.a?s.Be(n,0):(s.Ce(n),void s.y(n))}))}))}))),2);case 2:if(!e.j){n.a=3;break}return n.c=4,s.x(n,e.j.setMediaKeys(null),6);case 6:s.Be(n,5);break;case 4:s.Ce(n);case 5:e.j=null;case 3:e.a=null,e.w.clear(),e.m=null,e.v=[],e.c=null,e.h=null,e.i=null,e.R=!1,e.I=0,s.y(n)}}))},s.Hi=function(e,t,n){return e.C=za,e.v=n,e.u=0<n.length,e.b.debug("Using Persisted Licenses: "+e.u),s.Gi(e,t)},s.Gi=function(e,t){var n=t.some((function(e){return 0<e.drmInfos.length}));if(!n){var r=s.J.ge(e.c.Ga);bn(t,r)}var i=ln(e);if(i){var a=s.v(t);for(r=a.next();!r.done;r=a.next())r.value.drmInfos=[i]}for(i=s.v(t),r=i.next();!r.done;r=i.next())for(r=s.v(r.value.drmInfos),a=r.next();!a.done;a=r.next())wn(a.value,e.c.Ga);return r=cn(e,t),r.size?(r=s.Mi(e,r),n?r:r["catch"]((function(){}))):(e.M=!0,Promise.resolve())},s.Ri=function(e,t){if(!e.m)return Ke(e.l,t,[s.wc,"msneedkey",ge,"needkey"],(function(){e.h(new s.K(s.M,6,6010))})),Promise.resolve();e.j=t,e.l.one(e.j,s.kd,(function(){for(var t=0;t<e.F.length;t++)dn(e,e.F[t]);e.qa=!0,e.F=[]}));var n=e.j.setMediaKeys(e.m);n=n["catch"]((function(e){return Promise.reject(new s.K(s.M,6,6003,{browserError:e.message}))}));var r=Promise.resolve();return e.a&&e.a.keySystem!==s.dd&&!e.a.serverCertificate&&(r=un(e)),r=r.then((function(){return e.setServerCertificate()})),Promise.all([n,r]).then((function(){e.g||(s.Pi(e),e.a.initData.length||e.v.length)||e.l.on(e.j,s.wc,(function(t){s.Qi(e,t.initDataType,s.N(t.initData))}))}))["catch"]((function(n){if(!e.g){if(6004===n.code&&e.a&&e.a.keySystem===s.lc&&1>e.I&&e.a.serverCertificate&&e.a.serverCertificate.length)return e.b.warn("Detected invalid widevine server certificate!. Retrying"),e.h(new s.K(1,6,6004)),e.a.serverCertificate=null,e.I++,s.Ri(e,t);throw 1<=e.I&&e.b.info("Could not get valid widevine server certificate. Giving up"),n}}))},un=function(e){var t=e.c.Ga[e.a.keySystem],n=t.certificateUrl||"";if(""===n)return Promise.resolve();var r=(t=t.modifiers)&&t.certificateRequest,i=t&&t.certificateResponse,a=e.i.getConfiguration();return n=s.hg([n],e.c.attemptParameters),n.type=3,r&&n.requestModifiers.push((function(e){return r(a,e)})),i&&n.responseModifiers.push((function(e){return i(a,e)})),e.b.debug("Fetching certificate"),e.i.Ab.fetch(n).promise.then((function(t){e.a.serverCertificate=s.N(t.data)}))["catch"]((function(e){throw new s.K(s.M,6,6100,{message:"Error while fetching certificate!",url:e.data.url,status:e.data.status,response:e.data.response,headers:e.data.headers},e)}))},s.Pi=function(e){var t=e.a?e.a.initData:[];return t.forEach((function(t){return fn(e,t.initDataType,t.initData)})),e.v.forEach((function(t){return s.Ti(e,t)})),t.length||e.v.length||e.o.resolve(),e.o},s.Qi=function(e,t,n){if(!e.keySystem().startsWith(V)){var r=new s.xi(n);if(1<r.a.length){var i={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e.keySystem()];if(i)for(var a=0;a<r.b.length;a++)if(i===r.b[a]){n=n.subarray(r.a[a].start,r.a[a].end+1);break}}}for(r=e.f.values(),r=s.v(r),i=r.next();!i.done;i=r.next())if(s.gi(n,i.value.initData))return void e.b.debug("Ignoring duplicate init data.");"skd"!==t&&fn(e,t,n)},s.Ui=function(e){var t=1/0;e=e.f.keys(),e=s.v(e);for(var n=e.next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},cn=function(e,t){for(var n=new Set,r=s.v(t),i=r.next();!i.done;i=r.next()){var a=s.v(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=s.v(n),i=r.next();!i.done;i=r.next())wn(i.value,e.c.Ga);a=e.u?s.rd:s.cd;var o=e.u?[s.id]:[s.Ed];for(r=new Map,n=s.v(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:s.cd,persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=s.v(t),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var u=a?s.pi(a.mimeType,a.codecs):"",c=o?s.pi(o.mimeType,o.codecs):"",l=s.v(i.drmInfos);for(i=l.next();!i.done;i=l.next()){i=i.value;var f=r.get(i.keySystem);f.drmInfos.push(i),i.distinctiveIdentifierRequired&&(f.distinctiveIdentifier=s.rd),i.persistentStateRequired&&(f.persistentState=s.rd),a&&f.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:u}),o&&f.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:c})}}return r},s.Mi=function(e,t){function n(t,n,r){n.drmInfos.some((function(e){return!!e.licenseServerUri}))==t&&(a=a["catch"]((function(){return e.g?null:navigator.requestMediaKeySystemAccess(r,[n])})))}if(1==t.size&&t.has(""))return Promise.reject(new s.K(s.M,6,6e3));for(var r=s.v(t.values()),i=r.next();!i.done;i=r.next())i=i.value,0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;var a=r=new s.Of,o=e.c.preferredDrmSystem;return o||(i=s.Ig(),i.os===Ta&&10<=i.osVersion.major&&"edge"===i.browser&&(o=s.nh)),o&&(i=t.get(o))&&(n(!0,i,o),n(!1,i,o)),[!0,!1].forEach((function(e){t.forEach((function(t,r){r!==o&&n(e,t,r)}))})),a=a["catch"]((function(){throw new s.K(s.M,6,6001)})),a=a.then((function(n){if(e.g)return null;e.w.clear();var r=n.getConfiguration(),i=r.videoCapabilities||[],a=s.v(r.audioCapabilities||[]);for(r=a.next();!r.done;r=a.next())e.w.add(r.value.contentType);for(i=s.v(i),r=i.next();!r.done;r=i.next())e.w.add(r.value.contentType);i=n.keySystem,r=t.get(n.keySystem),a=[];var o=[],u=[],c=[];if(yn(r.drmInfos,a,o,u,c),1<o.length&&s.C("Multiple unique server certificates found! Only the first will be used."),1<a.length&&s.C("Multiple unique license server URIs found! Only the first will be used."),e.a={keySystem:i,licenseServerUri:a[0],distinctiveIdentifierRequired:r.distinctiveIdentifier==s.rd,persistentStateRequired:r.persistentState==s.rd,audioRobustness:r.audioCapabilities?r.audioCapabilities[0].robustness:"",videoRobustness:r.videoCapabilities?r.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:u,keyIds:c},!e.a.licenseServerUri)throw new s.K(s.M,6,6012,e.a.keySystem);return n.createMediaKeys()})).then((function(t){e.g||(e.b.info("Created MediaKeys object for key system",e.a.keySystem),e.m=t,e.M=!0)}))["catch"]((function(t){if(!e.g){if(e.a=null,e.w.clear(),t instanceof s.K)throw t;throw new s.K(s.M,6,6002,{browserError:t.message})}})),r.reject(),a},ln=function(t){if(t=s.J.ge(t.c.Ga.gj||{}),0==t.size)return null;var n=[],r=[];t.forEach((function(e,t){var i=s.ei(t),a=s.ei(e);i={kty:"oct",kid:s.ci(i,!1),k:s.ci(a,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:s.uf(i),initDataType:"keyids"}],{keySystem:s.dd,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}},s.Ti=function(e,t){try{e.b.debug("Attempting to load an offline session",t);var n=e.m.createSession(s.id)}catch(a){var r=new s.K(s.M,6,6005,{browserError:a.message});return e.h(r),Promise.reject(r)}e.l.on(n,s.Sc,e.nf.bind(e)),e.l.on(n,s.Ic,e.gf.bind(e));var i={initData:null,loaded:!1,Pd:1/0,Ha:null};return e.f.set(n,i),n.load(t).then((function(r){return e.g?null:(e.b.debug("Loaded offline session",t,r),r?(i.loaded=!0,vn(e)&&e.o.resolve(),n):(e.f["delete"](n),e.h(new s.K(s.M,6,6013)),null))}),(function(t){e.g||(e.f["delete"](n),e.h(new s.K(s.M,6,6005,{browserError:t.message})))}))},fn=function(e,t,n){try{if(e.u){e.b.debug("Creating new persistent session");var r=e.m.createSession(s.id)}else e.b.debug("Creating new temporary session"),r=e.m.createSession()}catch(f){return void e.h(new s.K(s.M,6,6005,{browserError:f.message}))}if(e.l.on(r,s.Sc,e.nf.bind(e)),e.l.on(r,s.Ic,e.gf.bind(e)),e.f.set(r,{initData:n,loaded:!1,Pd:1/0,Ha:null}),e.a.keySystem.startsWith(V)){var i=e.c.Ga[e.a.keySystem].modifiers;i=i&&i.extractContentId||nn;var o=e.i.getConfiguration(),u="",c="No content ID returned from |extractContentId| modifier",l=void 0;if(a(i)===s.Cc){try{u=i(o,n)||""}catch(f){l=f,c="An error occured while extracting the content ID"}u||e.h(new s.K(s.M,6,6101,c,l))}n=tn(n,u,e.a.serverCertificate)}r.generateRequest(t,n.buffer)["catch"]((function(t){if(!e.g){e.f["delete"](r);var n=null;t.errorCode&&t.errorCode.systemCode&&(n=t.errorCode.systemCode,0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)),e.h(new s.K(s.M,6,6006,{browserError:t.message,error:t,extended:n},t))}}))},dn=function(e,t){var n=t.target;e.b.debug("Sending license request for session",n.sessionId);var r=e.f.get(n);if(e.keySystem()===s.lc&&e.c.enforceSingleSession&&e.R){if(r&&(!r.loaded||t.messageType!==s.Jc))return void e.b.info("Skipping explicit license request since single session is in use and initialized.");e.R=!0}t.messageType===s.Jc&&e.i.onEvent(new s.I(W));var i=e.a.licenseServerUri,a=e.c.Ga[e.a.keySystem];"individualization-request"===t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),a=s.hg([i],e.c.attemptParameters),a.type=3,a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,e.a.keySystem!=s.kc&&e.a.keySystem!=z||hn(e,a),Yt(e.A,a),pn(e,a),e.b.debug("Sending DRM license request to",i),e.i.Ab.fetch(a).promise.then((function(t){return e.g?Promise.reject():(Qt(e.A,t),n.update(t.data).then((function(){var t=new s.I(s.uc,{keySystem:e.keySystem(),qh:s.Ui(e)});e.i.onEvent(t),r&&(r.Ha&&r.Ha.resolve(),new s.sg((function(){r.loaded=!0,vn(e)&&e.o.resolve()})).P(5))})))}),(function(t){e.g||(t=new s.K(s.M,6,6007,{message:"Error while fetching license!",url:t.data.url,status:t.data.status,response:t.data.response,headers:t.data.headers},t),e.h(t),r&&r.Ha&&r.Ha.reject(t))}))["catch"]((function(t){e.g||(t=new s.K(s.M,6,6008,{browserError:t.message}),e.h(t),r&&r.Ha&&r.Ha.reject(t))}))},hn=function(e,t){var n=We(t.body,!0,!0);if(n.includes("PlayReadyKeyMessage")){e.b.debug("Unwrapping PlayReady request."),n=(new DOMParser).parseFromString(n,"application/xml");for(var r=n.getElementsByTagName("HttpHeader"),i=0;i<r.length;++i)t.headers[r[i].querySelector("name").textContent]=r[i].querySelector(s.Ud).textContent;t.body=s.di(n.querySelector("Challenge").textContent).buffer}else e.b.debug("PlayReady request is already unwrapped."),t.headers[f]="text/xml; charset=utf-8"},pn=function(e,t){var n=e.c.Ga[e.a.keySystem],r=(n=n&&n.modifiers)&&n.licenseRequest,i=n&&n.licenseResponse,a=e.i.getConfiguration();r?t.requestModifiers.push((function(e){return r(a,e)})):e.a.keySystem.startsWith(V)&&t.requestModifiers.push((function(e){var t=s.N(e.body);e.body=s.uf(encodeURIComponent("spc="+btoa(He(t)))).buffer,e.headers[f]=O})),i?t.responseModifiers.push((function(e){return i(a,e)})):e.a.keySystem.startsWith(V)&&t.responseModifiers.push((function(e){e:{try{var t=s.mf(e.data)}catch(n){e=void 0;break e}t=t.trim(),"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(n){}e.data=s.di(t).buffer,e=void 0}return e}))},gn=function(e){var t=e.Ia,n=e.S;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.h(new s.K(s.M,6,6014)),e.i.Sd(s.J.he(n))},s.Zi=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var a=e[r];i=t[i];var o=[];o=o.concat(a.initData||[]),o=o.concat(i.initData||[]);var s=[];s=s.concat(a.keyIds),s=s.concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n},mn=function(e){e.f.forEach((function(t,n){var r=t.Pd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.i.onExpirationUpdated(n.sessionId,i),t.Pd=i)}))},vn=function(e){return e=e.f.values(),s.li(e,(function(e){return e.loaded}))},bn=function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=s.v(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n},yn=function(e,t,n,r,i){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return s.gi(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&e.initData.forEach((function(e){r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&s.gi(t.initData,e.initData)}))||r.push(e)})),e.keyIds)for(var a=0;a<e.keyIds.length;++a)i.includes(e.keyIds[a])||i.push(e.keyIds[a])}))},wn=function(t,n){if(t.keySystem){var r=n[t.keySystem];t.keySystem===s.dd&&t.licenseServerUri||(r&&(t.licenseServerUri=r.licenseUrl||""),t.keyIds||(t.keyIds=[]),r&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness||""),t.audioRobustness||(t.audioRobustness=r.audioRobustness||""),t.serverCertificate||(t.serverCertificate=r.serverCertificate||null)),e.cast&&e.cast.__platform__&&t.keySystem===s.kc&&(t.keySystem=z))}},Sn=function(e){var t;return s.z((function(n){if(1==n.a)return t=new Promise((function(e){new s.sg(e).P(1)})),s.x(n,Promise.race([e.close().then((function(){return!0})),t.then((function(){return!1}))]),2);n.b||s.C("Timeout waiting for session close"),s.y(n)}))},Tn=function(e,t,n){this.c=new Uint8Array(e),this.a=t,this.b=n},s.bj=function(e){var t=new Uint8Array(Va),n=4+t.byteLength+e.c.byteLength+4+e.b.byteLength,r=new s.Qh(n,!1);return s.P(r,n),s.Sh(r,t),s.Sh(r,e.c),s.P(r,e.b.byteLength),s.Sh(r,e.b),s.N(r.buffer)},En=function(){Tn.apply(this,arguments)},s.ej=function(e){var t=s.ei(e);return t=parseInt(t.byteLength,10).toString(16),t=s.ei("12"+t+e),new En(Fa,e,t)},s.fj=function(e,t,n,r){Tn.call(this,e,t,r),this.f=n},s.ij=function(e){e:{for(e=new s.Th(new DataView(e.buffer),!0),s.Yh(e),s.Xh(e);s.Uh(e);)if(1===s.Xh(e)){var t=s.Xh(e);e=s.ai(e,t);break e}e=null}t=We(e,!0),t=s.Q.sf(t,"WRMHEADER");var n=s.Q.J(t,"DATA")[0];return t=s.Q.J(n,"LA_URL")[0],t=s.Q.lb(t),n=s.Q.J(n,"KID")[0],n=s.Q.lb(n)||"",n=s.di(n),n=s.gj(n),n=s.fi(n),new s.fj(s.hj,n,t,e)},s.gj=function(e){var t=[];return t.push(e[3]),t.push(e[2]),t.push(e[1]),t.push(e[0]),t.push(e[5]),t.push(e[4]),t.push(e[7]),t.push(e[6]),e=s.N(e),e.set(t,0),e},xn=function(){},kn=function(e){e&&(0<=Ga.indexOf(e)?Wa.warn(S+e.name+i):(Ga.push(e),Wa.info("Registered SubtitleManager-Factory: '"+e.name+"'")))},s.nj=function(e,t){this.id=e,this.type=t,this.roles=[],this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null,this.renditions=[]},s.oj=function(e,t){this.track=t,this.id=e,this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null},s.pj=function(e){return void 0!==e&&null!==e&&""!==e?e:null},An=function(e){if(!e)throw new s.K(s.M,3,3101,v+e);if(!s.J.X(e))throw new s.K(s.M,3,3101,v+e+". Track type must be a string!");switch(e.toLowerCase()){case s.R:return s.R;case s.S:return s.S;case s.qj:return s.qj;case Ha:return Ha}throw new s.K(s.M,3,3101,"Unknown track type: "+e+".")},In=function(e,t){e=An(e);var n=s.pj(t.kind),r=t.id;return r||(r=String(s.tj++)),r=new s.nj(r,n===te?Ha:e),r.kind=n,r.label=s.pj(t.label),r.language=s.pj(t.language),r},s.vj=function(e,t){this.promise=e,this.j=t,this.a=!1},Mn=function(e,t){return e.promise.then((function(){return t(!0)}),(function(){return t(!1)})),e},Cn=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}))["catch"]((function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}},Pn=function(e){s.vj.call(this,new s.Of,(function(){return Promise.resolve()})),this.l=e,this.c=null,this.i=this.promise,this.b=-1,this.f=this.g=this.h=null,Nn(this)},Rn=function(e,t,n){e.h=setTimeout(t,n)},Nn=function(e){e.c=e.l.then((function(t){if(e.f=t.request,t.request.uriIndex=t.request.currentAttempt%t.request.uris.length,0<t.request.currentAttempt){-1===e.b&&(e.b=Dn(t.request.baseDelay,1e3));var n=e.b*(1+(2*Math.random()-1)*Dn(t.request.fuzzFactor,.5));if(e.b*=Dn(t.request.backoffFactor,2),0<n)return new Promise((function(r,i){e.g=i,Rn(e,(function(){r(t.plugin(t.request))}),n)}))["catch"]((function(t){if(!e.a)throw t}))}if(e.a)throw new s.K(1,1,7001,{url:t.request.uris[t.request.uriIndex],request:t.request});return t.plugin(t.request)}));var t=0,n=0;return e.c.then((function(e){var r=e.request;return r.currentAttempt+=1,t=r.currentAttempt,n=r.maxAttempts,e.promise})).then((function(t){e.i.resolve(t)}))["catch"]((function(r){if(r instanceof s.K){if(1===r.a&&7001!==r.code&&t<n)return Nn(e);7001!==r.code&&s.jf(r,s.M),e.i.reject(r)}else e.i.reject(r)}))},Dn=function(e,t){return null===e||void 0===e?t:e},Ln=function(e){this.b=e,this.g=null,this.c=new s.Xe,this.a=this.h=null,this.f=[],this.i=new s.E("clpp.native.Metadata")},On=function(e,t){e.g=t,e.h=e.g.textTracks,e.c.on(e.h,P,(function(t){t=t.track,t.kind===te&&_n(e,t)}))},_n=function(e,t){function n(e){for(var t=s.v(r),n=t.next();!n.done;n=t.next())if(n=n.value,e.startTime===n.startTime&&e.endTime===n.endTime)return n;return r.push({schemeIdUri:"",value:"",startTime:e.startTime,endTime:e.endTime,id:"",type:Xa,eventElement:null}),r[r.length-1]}e.i.debug("onMetadata_()"),t.mode=s.Ec;var r=[];if(t.cues){for(var i=s.v(t.cues),a=i.next();!a.done;a=i.next())if(a=a.value,!Un(e,a)){var o=n(a);switch(a.value.key){case"SCTE35-IN":case"SCTE35-OUT":o.schemeIdUri="urn:scte:scte35:2014",o.type=Ja;break;case"X-CUSTOM-ID":o.id=a.value.data}}for(i=s.v(r),a=i.next();!a.done;a=i.next())e.b.trigger(new s.I(s.Jd,{detail:a.value}));Array.prototype.push.apply(e.f,r),e.c.off(t,H),e.c.on(t,H,(function(t){var n;t=t.target.activeCues,t=t.length?Un(e,t[0]):e.a,(n=t)&&(n=e.b.getPosition(),n=t.startTime<=n&&n<t.endTime),n?(e.a=t,e.b.trigger(new s.I(s.Kd,{detail:t}))):((t=e.a)&&(t=e.a,n=e.b.getPosition(),t=t.endTime<=n),t&&(t=e.a,e.a=null,e.b.trigger(new s.I(s.Ld,{detail:t}))))}))}},Un=function(e,t){for(var n=s.v(e.f),r=n.next();!r.done;r=n.next())if(r=r.value,t.startTime===r.startTime&&t.endTime===r.endTime)return r;return null},s.U=function(){},s.Jj=function(e,t){for(var n=s.v(Qa),r=n.next();!r.done;r=n.next())if(r=r.value,r.probe(e,t))return r.create();return null},jn=function(){this.a=new s.E("clpp.native.TrackManager"),this.b=null,this.f=new s.Xe,this.g=[],this.j=0,this.i={},this.l=[],this.c=new Map,this.h=new Map,this.v=this.Ud.bind(this,s.R),this.A=this.Wd.bind(this,s.R),this.w=this.Vd.bind(this,s.R),this.C=this.Ud.bind(this,s.qj),this.I=this.Wd.bind(this,s.qj),this.F=this.Vd.bind(this,s.qj),this.m=this.Ud.bind(this,s.S),this.u=this.Wd.bind(this,s.S),this.o=this.Vd.bind(this,s.S)},Kn=function(e,t,n){return e.type===n&&(void 0!==t.id&&null!==t.id&&""!==t.id?e.id===t.id:s.J.ua(e,t,["kind","language","label"]))},Bn=function(e,t){var n,r,i,a,o,u,c;return s.z((function(l){if(1==l.a)return n=s.Jj(t.mimeType,s.Fd),n?(r=s.hg(t.url),s.x(l,e.b.getNetworkEngine().fetch(r).promise,2)):(e.a.warn("Track mimetype is not supported",t),l["return"]());(i=l.b)&&i.data&&(a="External_"+e.j++,e.i[a]=t,o=s.Mj(s.N(i.data)),u=URL.createObjectURL(new Blob([o])),c={url:u,kind:t.kind,language:t.language,label:t.label,mimeType:s.Fd},Fn(e,c,a)),s.y(l)}))},Fn=function(e,t,n){if(e.b){var r=e.b.getSurface().D();if(r){var i=document.createElement("track");i.id=n,i.src=t.url,i.kind=t.kind,i.srclang=t.language,t.label&&(i.label=t.label),r.appendChild(i),e.l.push(i)}}},Vn=function(e,t){if(!e.b)return null;var n=e.b.getSurface();if(!n)return null;if(n=n.D(),!n)return null;switch(t){case s.S:return n.audioTracks;case s.qj:return n.videoTracks;case s.R:return n.textTracks;default:return null}},zn=function(e,t){return e.g.filter((function(e){return e.type===t}))},qn=function(e,t){var n=e.c.get(t)||null;return n&&n.renditions[0]},Hn=function(e,t){var n=e.h.get(t);return n&&n.renditions[0]},Wn=function(e,t,n){if(n){if(void 0===e.g.find((function(e){return e.id===n.id})))throw Error("Unknown track with ID "+n.id+" and type "+t);if(n.type!==t)throw Error("Types mismatch for track "+n.type+" and arg "+t);e.a.debug("Activate track type "+t+" with ID: "+n.id);var r=Vn(e,t);if(r){e.h.set(t,n);var i=!0,a=!1;switch(t){case s.R:var o="mode";i=s.wd,a=s.qc;break;case s.S:o="enabled";break;case s.qj:o="selected"}if(o){r=s.v(r);for(var u=r.next();!u.done;u=r.next())u=u.value,u[o]=Kn(n,u,n.type)?i:a}}}else if(e.a.debug(s.qa+t),o=e.c.get(t)||null,i=Vn(e,t),o&&i&&t===s.R){for(o=s.v(i),u=o.next();!u.done;u=o.next())u.value.mode=s.qc;e.c.set(t,null)}t===s.S?e.b.trigger(new s.I(s.Ob)):t===s.R&&e.b.trigger(new s.I(s.Id))},Gn=function(e){return e.enabled||e.selected||e.mode===s.wd},Jn=function(e,t,n){e.a.info("Find preferred tracks for",t,n);var r=zn(e,t);s.zf(n)&&(r=r.find((function(e){return e.language===n})))&&(e.a.info(s.ab,r),Wn(e,t,r))},Xn=function(){},s.Xj=function(){return Object.assign({},{text:"",startTime:0,endTime:0,align:s.$b,id:"",line:s.Pb,lineAlign:s.yd,Fi:!1,position:s.Pb,positionAlign:s.Pb,size:100,snapToLines:!0,vertical:""},{})},Yn=function(e){this.h=e,this.f=this.c=null,this.b=new s.Xe,this.a=!1,this.g=new s.E("clpp.native.CueHandler")},Qn=function(e,t){var n="startTime endTime align id line lineAlign pauseOnExit position positionAlign size snapToLines vertical".split(" ");n=void 0===n?[]:n,e&&t&&n.forEach((function(n){t[n]=e[n]}))},$n=function(e,t){var n=t.track;n.mode=s.Ec,e.b.on(n,H,(function(t){t=t.target||t.srcElement,t.mode=s.Ec,t=t.activeCues;var n,r=/\n/g,i=t.length,a="",o=s.Xj(),u=s.pc;for(n=0;n<i;n++)a+=t[n].text+(n<i-1?"<br>":"");Qn(t[0],o),a?o.text=a.replace(r,"<br>"):(o.text="",o.startTime=0,o.endTime=0,u=s.oc),e.h.trigger(new s.I(u,o))}))},Zn=function(){this.a=null,this.b=[]},s.ck=function(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}},er=function(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=s.v(e.b),i=r.next();!i.done;i=r.next())i=i.value,n+=i.state==t?i.duration:0;return n},tr=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=s.v(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n},nr=function(){this.c=this.b=this.f=null,this.a=[]},rr=function(e){return e.a.map((function(e){return s.J.hb(e)}))},s.hk=function(){this.h=this.l=this.i=this.m=this.f=this.g=this.b=this.c=NaN,this.a=new Zn,this.j=new nr},s.ik=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}},ir=function(){s.Pg.call(this,K),this.o=this.u=!1,this.h=this.m=this.i=this.b=this.g=null,this.c=new s.Xe,this.f=this.v=null},ar=function(e,t){return e.o?lr():new Promise((function(n){e.b||(e.c.on(t,s.zc,(function(){var t=cr(e);t&&e.onError(t)})),e.c.on(t,s.sd,(function(){e.trigger(new s.I(s.Rb,{detail:{width:t.videoWidth,height:t.videoHeight}}))})),e.b=t),n()}))},or=function(e){return e.o?lr():new Promise((function(t){if(e.b){var n=e.b;e.c.off(n,s.zc),e.c.off(n,s.sd),e.b=null}t()}))},sr=function(e){var t,n,r,i;return s.z((function(a){return 1==a.a?e.o?a["return"](lr()):e.a.drm?(t=s.ok,n=s.rh(e.a.drm),e.log.debug("Drm configuration: ",n),r=e.getNetworkEngine(),e.i=new s.Ci({Ab:r,onError:function(t){return e.onError(t)},Sd:function(){},onExpirationUpdated:function(t,n){e.trigger(new s.I(s.rc,{expirationTime:n}))},onEvent:function(t){return e.trigger(t)},getConfiguration:function(){return e.getConfiguration()}}),e.i.c=n,i={id:0,language:s.Od,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:e.getDuration.bind(e),initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Zd,codecs:"",encrypted:!0,keyId:null,language:s.Od,label:null,type:t.VIDEO,primary:!1,frameRate:void 0,Gi:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Sf:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},s.x(a,s.Hi(e.i,[i],[]),2)):(e.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),a["return"](Promise.resolve())):3!=a.a?s.x(a,s.Ri(e.i,e.b),3):a["return"](Promise.resolve())}))},ur=function(e,t){function n(){e.getState()!==s.qk&&e.seek(t)["catch"]((function(t){e.log.warn("Error while seeking to start position.",t)}))}e.b.readyState>HTMLMediaElement.HAVE_NOTHING?n():e.c.one(e.b,s.Pc,n)},cr=function(e){if(null===e.j||!e.b.error)return null;var t=e.b.error.code;if(1===t)return null;var n=e.b.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new s.K(s.M,3,3016,{code:t,kj:n,message:e.b.error.message})},lr=function(){return Promise.reject(new s.K(s.M,7,7e3))},fr=function(e){function t(){u.reject(cr(e))}function n(){c||u.reject(new s.K(s.M,3,3100,{message:"Unable to load media source successfully from "+r.url,uri:r.url},a.error))}if(e.o)return lr();var r=e.j[e.getSourceIndex()],i=e.a.startTime||null,a=e.b,o=e.v;i&&ur(e,i),e.c.one(a,s.Oc,(function(){var t=Date.now()/1e3-o;e.f.i=t,e.log.debug("Time to load: ",t)})),a.src=r.url;var u=new s.Of,c=!1;return a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?u.resolve():a.error?u.reject(cr(e)):(e.c.one(a,s.Oc,(function(){c=!0,e.c.off(a,ue,n),e.c.off(a,s.zc,t),u.resolve()})),e.c.one(a,s.zc,t),e.c.one(a,ue,(function(){new s.sg((function(){return n()})).P(5)}))),new s.vj(u,(function(){var e=new s.K(s.M,7,7001);return u.reject(e),Promise.resolve()}))},dr=function(){this.name=K},hr=function(){},pr=function(){this.name="clpp.native"},gr=function(e){s.wk.forEach((function(t){t&&e(t)}))},mr=function(){for(var e=0;e<$a.length;++e)$a[e].Qb()},s.Ak=function(e,t){t=t||0;for(var n={priority:t,Qb:e},r=0;r<$a.length;r++)if($a[r].priority<t)return void $a.splice(r,0,n);$a.push(n)},vr=function(e){return e=new s.Sf(e).ha,e?(e=e.toUpperCase(),s.yf(e,".MPD")?s.Bk:s.yf(e,".M3U8")?s.Ck:s.yf(e,".MP4")?s.Zd:s.yf(e,"MANIFEST")||s.yf(e,".ISM")?s.Dk:null):null},s.Gk=function(e){var t;t=s.Og(e)?e.source:e,Array.isArray(t)||(t=[t]),t=t.filter((function(e){return a(e)===s.Bd||e.hasOwnProperty("url")})),e=[];for(var n=0;n<t.length;n++){var r=br(t[n]);br&&e.push(r)}return e},br=function(e){var t=null;return s.J.X(e)&&(e={url:e}),a(e)===s.Xc&&!Array.isArray(e)&&e.hasOwnProperty("url")&&(t={url:e.url,type:e.type?e.type:null},s.J.H(e.Tb)||a(e.Tb)!==s.Sb||(t.Tb=e.Tb),s.J.H(e.isLive)||a(e.isLive)!==s.Sb||(t.isLive=e.isLive),s.J.H(e.name)||a(e.name)!==s.Bd||(t.name=e.name)),t&&!t.type&&(t.type=vr(e.url),t.type?Za.debug("Detect media type "+t.type+" for "+e.url):Za.warn("Unable to detect media type for "+e.url)),t},yr=function(e,t){e.onError(t),e.release().then((function(){return e.destroy()}))},wr=function(e,t,n){this.c=e,this.b=t,JSON.parse(s.mf(Ge(e))),this.a=JSON.parse(s.mf(Ge(t))),this.f=n},Sr=function(e){this.license=e,this.b=null,this.a=new s.E("clpp.utils.LicenseKey")},Tr=function(e){if(!e.b){var t=e.license.split(".");if(3!=t.length)throw Error("Expected to find 3 data sections in JWT raw data");t=new wr(t[0],t[1],t[2]),e.b=t}return e.b},Er=function(e){switch((e.Wc()[0]||{src:"",type:""}).type){case s.Bk:e="dash";break;case s.Dk:e="ss";break;case s.Ck:e="hls";break;case s.Zd:e=s.Vc;break;default:e=""}return e},xr=function(e){return e.viewerId?e.viewerId:(e=e.drm||null)&&e.customData&&e.customData.userId?""+e.customData.userId:""},kr=function(e){return(e=e.drm||null)&&e.customData&&e.customData.assetId?""+e.customData.assetId:""},Ar=function(e){return(e=e.drm||null)&&e.customData&&e.customData.sessionId?""+e.customData.sessionId:""},Ir=function(e){e=e.getConfiguration();var t="no";return e.drm&&(t="custom",e.drm&&e.drm.env&&e.drm.env.startsWith(d)&&(t="drmtoday")),t},Mr=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.keySystem){case s.lh:t="wv";break;case s.nh:t="pr";break;case s.mh:t="fps"}return t},Cr=function(e){e=e.getDrmInfo();var t=!1;return e&&(t=e.persistentStateRequired),t.toString()},Pr=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.videoRobustness){case g:case"HW_SECURE_ALL":t="L1";break;case p:t="L2";break;case x:case E:t="L3"}return t},Rr=function(t,n){if(!e.location.protocol.startsWith("http"))return t.a.debug("Registration protocol check",e.location.protocol,e.location.protocol.startsWith("http")),Promise.resolve();var r="ie"===s.Ig().browser,i=n.getConfiguration();if(i={"CL-KEY":t.license,"CL-LOCATION":e.location.href,"CL-SDK-VERSION":"6","CL-USER-ID":xr(i),"CL-ASSET-ID":kr(i),"CL-SESSION-ID":Ar(i),"CL-PLAYBACK-TYPE":n.isLive()?no:to,"CL-CONTENT-TYPE":Er(n),"CL-PLUGINS":n.Hh().join(" "),"CL-DRM":Ir(n),"CL-DRM-CDM":Mr(n),"CL-DRM-SEC-LEVEL":Pr(n),"CL-DRM-OFFLINE":Cr(n)},r){var a=e.localStorage.getItem("cl_et");a&&(i["CL-ETAG"]=a)}return a=s.hg(["https://downloads.castlabs.com/r/register/"]),a.method="GET",a.headers=i,(new s.fg).fetch(a).promise.then((function(n){return t.a.debug("Registration response",n),200===n.status&&r&&e.localStorage.setItem("cl_et",n.headers.etag),Promise.resolve()}))["catch"]((function(e){t.a.debug("Registration error",e);e:{var n=Tr(t);e=e.data;var r=e.status;if(n.a&&n.a.ilv)e=Promise.resolve();else{switch(r){case 403:case 404:n=7101;var i="castLabs Player license is invalid";i=403===r?i+": "+e.response:i+"!";break;case 412:n=7103,i="userID is required for playback!";break;default:e=Promise.resolve();break e}e=Promise.reject(new s.K(s.M,7,n,i))}}return e}))},Nr=function(e,t,n){s.bf.call(this);var r=this;if(mr(),this.c=new s.E("clpp.Player"),!e)throw new s.K(s.M,7,7102);if(null===t)throw new s.K(s.M,7,7100,"Null configuration provided! Unable to initialize the player!");if(this.b=this.A=t||s.Kg(),void 0===this.b.license&&(this.b.license="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",this.c.warn("You are using the embedded demo license!")),!this.b.license)throw new s.K(s.M,7,7101,"No license provided in configuration!");this.f=new _t(e,n),this.j=this.a=this.i=null,this.m=new s.fg,this.g=null,this.v=[],this.w={},this.h=null,this.u=this.l=this.o=!1,this.on(s.zd,(function(){r.getState()===s.qk&&r.unload()})),Dr(this,this.b.license),this.f.D()&&(e=this.f.D(),e.hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),this.c.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),void 0===this.b.autoplay&&(this.b.autoplay=!0,this.c.debug("Setting autoplay in configuration since it was specified in the video element"))));var i=[];ro.forEach((function(e){try{var t=e.create(r.b);t&&i.push(t)}catch(n){r.c.error("Error while creating player plugin",n)}})),Or(this,i),s.wk.clear()},s.$k=function(e,t){t!==e.a&&(e.a&&(e.a.removeDelegate(e),e.a.destroy()),e.a=t,e.a&&(e.a.init(e.f,e.b),e.a.setNetworkEngine(e.getNetworkEngine()),e.a.addDelegate(e)))},Dr=function(e,t){e.i=new Sr(t),e.i.verify()["catch"]((function(t){setTimeout((function(){e.c.error("License verification failed: "+t),e.trigger(new s.I(s.zc,{detail:new s.K(s.M,7,7101)})),e.destroy()}),1e3)}))},Lr=function(e){e.f.D(),e.i||(e.i=new Sr(e.b.license));var t=Object.keys(e.w);Rr(e.i,{getConfiguration:e.getConfiguration.bind(e),Wc:e.Wc.bind(e),getDrmInfo:e.getDrmInfo.bind(e),Hh:function(){return t},isLive:e.isLive.bind(e)}).then((function(){e.c.debug("License verified remotely")}))["catch"]((function(t){setTimeout(yr,1e3,{release:e.release.bind(e),destroy:e.destroy.bind(e),onError:e.onError.bind(e)},t)}))},Or=function(e,t){e.v=t,e.zc("onPlayerCreated").then((function(){e.v.forEach((function(t){var n=t.id();n&&(e.w[n]=t)}))}))},_r=function(e,t){return new Promise((function(n,r){var i;e:{if(t){for(i=0;i<t.length;i++);i=Object.values(s.ef);for(var a=0;a<i.length;a++)for(var o=0;o<t.length;o++)if(i[a].canPlay(t[o])){s.ff.debug("Player Factory '"+i[a].name+"' can play",t[o]),i=new Ve(i[a],o);break e}s.ff.error("No compatible Player Factory found for sources:",t)}i=null}i?(a=i.b.create(),n(new ze(a,i.a))):(i=new s.I(s.zc,{detail:new s.K(s.M,7,7003)}),e.trigger(i),r(i))}))},s.dl=function(e,t){var n,r,i,a;return s.z((function(o){switch(o.a){case 1:if(e.l)throw Error("Player is already destroyed.");if(!e.f)throw Error("No surface associated with this player!");return s.x(o,e.release(),2);case 2:if(e.h=s.Gk(t),n=s.Og(t),e.b=s.Ng(e.A,n?t:{},{source:e.h}),0===e.h.length)throw Error("Invalid request to load: could not find source to load");if(e.o=!1,r=e.h.findIndex((function(t){return e.canPlay(t)})),-1!==r&&!e.u){o.a=3;break}return s.x(o,_r(e,e.h),4);case 4:a=o.b,i=a.a,r=a.b,e.u=!1;case 3:return i?s.$k(e,i):e.a.addDelegate(e),Ur(e,e.b),e.g=Bt(e,e.b).create(e),e.setSourceIndex(r),gr((function(e){e.lc()})),s.x(o,e.zc("onContentWillLoad",e.b.source[r]),0)}}))},s.fl=function(e){var t;return s.z((function(n){return e.f.D(),t=function(n){(n=n.detail)&&n.currentState===s.el&&(Lr(e),e.off(s.zd,t))},e.on(s.zd,t),e.trigger(new s.I(ee)),s.x(n,Promise.all([e.a.load(e.b),e.g.load()]),0)}))},s.gl=function(e){var t,n,r;return s.z((function(i){if(1==i.a){if(e.b.remoteTextTracks)for(t=s.v(e.b.remoteTextTracks),n=t.next();!n.done;n=t.next())r=n.value,e.getTrackManager().addTextTrack(r);return gr((function(e){e.qe()})),s.x(i,e.zc(s.Yc,e.getThumbnailStreams()),2)}return e.b.autoplay?i=s.x(i,e.play(),0):(i.a=0,i=void 0),i}))},Ur=function(e,t){var n;e:{for(n=0;n<Ga.length;n++){var r=Ga[n];if(r.canPlay(t)){Wa.info("Chosen subtitle: "+r.name),n=r;break e}}n=null}n&&(e.j=n.create(e))},s.hl=function(e){e&&(0<=ro.indexOf(e)||ro.push(e))},s.il=function(e){this.b=e,this.a=0},jr=function(e){s.jl(e,/[ \t]+/gm)},s.jl=function(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)},Kr=function(e){return e.a==e.b.length?null:(e=s.jl(e,/[^ \t\n]*/gm))?e[0]:null},Br=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Fr=function(e){return"middle"===e?s.$b:"left"===e||e===Q?s.yd:"right"===e||e===$?s.xc:e},s.ol=function(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)},s.pl=function(e,t,n,r,i,a,o){return e=s.hg(e),e.timeout=r.timeout,e.maxAttempts=r.maxAttempts,e.baseDelay=r.baseDelay,e.fuzzFactor=r.fuzzFactor,e.backoffFactor=r.backoffFactor,0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),i&&(e.startTime=i),a&&(e.endTime=a),o&&(e.contentType=o),e},s.eg=function(){this.a=[]},s.ql=function(e,t){e.a.push(Mn(t,(function(){s.ol(e.a,t)})))},s.rl=function(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0},s.sl=function(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)},s.tl=function(e){return e.a/(1-Math.pow(e.c,e.b))},s.vl=function(e){var t=(e||"").split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=io.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e},s.wl=function(){},s.Hl=function(e,t,n){this.startTime=e,this.direction=lo,this.endTime=t,this.payload=n,this.region=new Vr,this.position=null,this.positionAlign=ao,this.size=100,this.textAlign=oo,this.writingMode=fo,this.lineInterpretation=ho,this.line=null,this.lineHeight="",this.lineAlign=po,this.displayAlign=uo,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=mo,this.fontStyle=vo,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""},Vr=function(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=yo,this.scroll=wo},s.Kl=function(e){this.i=null,this.c=e,this.f=this.l=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map},s.Ml=function(t){return!!(s.Ll[t]||e.muxjs&&t==s.Ab)},zr=function(){},qr=function(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=qr(n[r]),t=t.concat(i))}return t.length||t.push(e),t},Hr=function(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if("br"==n[r].nodeName&&0<r)n[r-1].textContent+="\n";else if(0<n[r].childNodes.length)Hr(n[r],t);else if(t){var i=n[r].textContent.trim();i=i.replace(/\s+/g," "),n[r].textContent=i}},Wr=function(e,t,n,r,i,a,o,u){if(!e.hasAttribute("begin")&&!e.hasAttribute(s.xc)&&/^\s*$/.test(e.textContent))return null;Hr(e,u),u=Zr(e.getAttribute("begin"),n);var c=Zr(e.getAttribute(s.xc),n);n=Zr(e.getAttribute("dur"),n);var l=e.textContent;if(null==c&&null!=n&&(c=u+n),null==u||null==c)return s.C("TtmlTextParser: ignoring cue without start and end time."),null;if(t=new s.Hl(u+t,c+t,l),(a=$r(e,"region",a,""))&&a.getAttribute(ye)){var f=a.getAttribute(ye);o=o.filter((function(e){return e.id==f})),t.region=o[0]}return r=$r(e,"smpte:backgroundImage",r,"#"),Gr(t,e,a,r,i),t},Gr=function(e,t,n,r,i){"rtl"==Xr(t,n,i,"direction")&&(e.direction="rtl");var a=Xr(t,n,i,"writingMode");if("tb"==a||"tblr"==a?e.writingMode=s.Vd:"tbrl"==a?e.writingMode=s.Wd:"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=lo),(a=Xr(t,n,i,"textAlign"))&&(e.positionAlign=Do[a],e.lineAlign=No[a],e.textAlign=so[a.toUpperCase()]),(a=Xr(t,n,i,"displayAlign"))&&(e.displayAlign=co[a.toUpperCase()]),(a=Xr(t,n,i,"color"))&&(e.color=a),(a=Xr(t,n,i,"backgroundColor"))&&(e.backgroundColor=a),(a=Xr(t,n,i,"fontFamily"))&&(e.fontFamily=a),(a=Xr(t,n,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=Xr(t,n,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=Xr(t,n,i,"lineHeight"))&&a.match(xo)&&(e.lineHeight=a),(a=Xr(t,n,i,"fontSize"))&&a.match(xo)&&(e.fontSize=a),(a=Xr(t,n,i,"fontStyle"))&&(e.fontStyle=bo[a.toUpperCase()]),r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent,"PNG"==a&&"Base64"==o&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(n=Yr(n,i,ce))&&Jr(e,n),(t=Qr(t,i,ce))&&Jr(e,t)},Jr=function(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case le:e.textDecoration.includes(le)||e.textDecoration.push(le);break;case"noUnderline":e.textDecoration.includes(le)&&s.ol(e.textDecoration,le);break;case Z:e.textDecoration.includes(Z)||e.textDecoration.push(Z);break;case"noLineThrough":e.textDecoration.includes(Z)&&s.ol(e.textDecoration,Z);break;case ne:e.textDecoration.includes(ne)||e.textDecoration.push(ne);break;case"noOverline":e.textDecoration.includes(ne)&&s.ol(e.textDecoration,ne)}},Xr=function(e,t,n,r){return(e=Qr(e,n,r))?e:Yr(t,n,r)},Yr=function(e,t,n){for(var r=qr(e),i=0;i<r.length;i++){var a=s.Q.getAttributeNS(r[i],Y,n);if(a)return a}return(e=$r(e,"style",t,""))?s.Q.getAttributeNS(e,Y,n):null},Qr=function(e,t,n){return(e=$r(e,"style",t,""))?s.Q.getAttributeNS(e,Y,n):null},$r=function(e,t,n,r){if(!e||1>n.length)return null;var i=null,a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode,a instanceof Element););if(t=e)for(e=0;e<n.length;e++)if(r+n[e].getAttribute(ye)==t){i=n[e];break}return i},Zr=function(e,t){var n=null;if(Ao.test(e)){n=Ao.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*i+3600*r}else Io.test(e)?n=ei(Io,e):Mo.test(e)?n=ei(Mo,e):Co.test(e)?(n=Co.exec(e),n=Number(n[1])/t.frameRate):Po.test(e)?(n=Po.exec(e),n=Number(n[1])/t.a):Ro.test(e)&&(n=ei(Ro,e));return n},ei=function(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)},ti=function(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))},ni=function(){this.a=new zr},ri=function(){},ii=function(e,t,n){var r;if(r=/^align:(start|middle|center|end|left|right)$/.exec(t))t=r[1],e.textAlign="middle"==t?oo:so[t.toUpperCase()];else if(r=/^vertical:(lr|rl)$/.exec(t))e.writingMode="lr"==r[1]?s.Vd:s.Wd;else if(r=/^size:([\d.]+)%$/.exec(t))e.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t==Q||t==s.yd?Q:t==$||t==s.xc?$:s.$b);else{if(!(r=/^region:(.*)$/.exec(t))){e:{if(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=go[n[2].toUpperCase()]);else{if(!(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))){e=!1;break e}e.lineInterpretation=ho,e.line=Number(n[1]),n[2]&&(e.lineAlign=go[n[2].toUpperCase()])}e=!0}return e}(t=ai(n,r[1]))&&(e.region=t)}return!0},ai=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:(s.C("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},oi=function(e){if(e=s.jl(e,/(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})\.(\d{3})/g),null==e)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)},si=function(){this.a=null,this.b=new s.E("clpp.vtt.mp4")},ui=function(e,t,n){var r,i,a;return(new s.ri).G("payl",rn((function(e){r=s.mf(e)}))).G("iden",rn((function(e){i=s.mf(e)}))).G("sttg",rn((function(e){a=s.mf(e)}))).parse(e),r?ci(r,i,a,t,n):null},ci=function(e,n,r,i,a){if(e=new s.Hl(i,a,e),n&&(e.id=n),r)for(n=new s.il(r),r=Kr(n);r;)ii(e,r,[])||s.C(C,r,t),jr(n),r=Kr(n);return e},li=function(){},s.Mj=function(e){e=s.mf(e),e=e.replace(/\r+/g,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/<[a-zA-Z\/][^>]*>/g,"");var t=e.split("\n\n");if(e="",0<t.length){e+="WEBVTT\n\n",t=s.v(t);for(var n=t.next();!n.done;n=t.next())e+=fi(n.value)}return s.uf(e)},fi=function(e){var t="";for(e=e.split(/\n/);3<e.length;){for(var n=3;n<e.length;++n)e[2]+="\n"+e[n];e.splice(3,e.length-3)}if(3!==e.length)return"";if(n=0,!e[0].match(/\d+:\d+:\d+/)&&e[1].match(/\d+:\d+:\d+/)&&(t+=e[0].match(/\w+/)+"\n",++n),!e[n].match(/\d+:\d+:\d+/))return"";var r=e[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);return r?(t+=r[1]+":"+r[2]+":"+r[3]+"."+r[4]+" --\x3e ",t+=r[5]+":"+r[6]+":"+r[7]+"."+r[8]+"\n",++n,e[n]&&(t+=e[n]+"\n\n"),t):""},di=function(){},hi=function(){},pi=function(e){this.c=new s.E("clpp.StateManager"),this.a=e,this.b=s.ym,this.j=s.zm,this.A=0,this.i=-1,this.F=this.h=this.C=this.m=0,this.g=this.l=this.o=this.u=!1,this.v=0,this.f=null,this.w=0,this.C=(new Date).getTime(),this.c.debug("Start watching for video events for "+this.a.namespace()),this.a.on(s.yc,this.ff,this),this.a.on(_,this.re,this),this.a.on(s.ld,this.ue,this),this.a.on(s.hd,this.te,this),this.a.on(ie,this.ve,this),this.a.on(s.nd,this.we,this),this.a.on(s.ud,this.Pc,this),this.a.on(s.vd,this.Qc,this),this.a.on(ue,this.xe,this),this.a.on(s.be,this.pf,this),this.a.on(s.zc,this.se,this),this.a.on(s.Pc,this.hf,this),this.a.on(s.Td,this.Qc,this),this.a.on(s.Sd,this.Pc,this)},gi=function(e,t){return Object.keys(t)[e]},mi=function(e,t){var n={type:s.zd};return t===s.Ub||t===s.Tb?(n.reason=e.i,t===s.Ub?n.timeSinceLastStateChangeMS=e.A:n.bufferedTimeMS=e.m):(e.b===s.Cm&&(n.reason=e.i),e.j===s.Cm&&(n.reason=e.i,n.bufferedTimeMS=e.m),n.currentState=e.b,n.previousState=e.j,n.timeSinceLastStateChangeMS=e.A),n},vi=function(e,t){if(e.b===t)return!1;var n=(new Date).getTime(),r=e.b===s.Cm;return e.j=e.b,e.b=t,e.j===s.Em&&(e.C=n,e.h=0),e.h||(e.h=e.C||n),e.A=n-e.h,e.h=n,t===s.Cm?(e.F=e.h,e.i=e.l?1:2,e.c.info("Buffering started. Reason: "+gi(e.i-1,s.Fm)),n=mi(e,s.Ub),e.Dc(s.Ub,n)):r&&(e.m=e.h-e.F,e.c.info("Buffering finished. Reason: "+gi(e.i-1,s.Fm)+". Buffering time: "+e.m+" ms"),n=mi(e,s.Tb),e.Dc(s.Tb,n)),n=gi(e.j,s.Gm),r=gi(e.b,s.Gm),e.c.info(s.Ha+n+" -> "+r),e.Dc(s.zd,mi(e,"")),!0},bi=function(e){return e.a.namespace()!==F},yi=function(e,t){if(e.b===s.qk)e.c.warn("Player is in error state, aborting any further state checks");else{var n=!!e.a&&e.a.isEnded();if(n)vi(e,s.Em)&&e.c.warn("Player claims to be in ended state, not checking more");else{var r=e.a.getPosition();r=null!==r&&void 0!==r&&0<=r?e.a.getBufferInfo().sa(r,!0):-1,e.v=r;var i=e.a.getSurface().D();e.f=i?i.readyState:null,e.w=e.a.getPlaybackRate()||1,e.o=e.a.isPaused(),r=e.l;var o=0===e.w&&!e.o;i=bi(e)&&a(e.f)===s.Wc&&2>e.f&&2===i.networkState;var u=bi(e)&&a(e.f)===s.Wc&&0>=e.v&&e.b===s.ym,c=bi(e)&&a(e.f)===s.Wc&&2>=e.f&&e.g,l=bi(e)&&void 0===e.f&&e.g,f=e.a.namespace()===F&&!0,d=!1;r||u||o||i||c||l||f?d=vi(e,s.Cm):e.o?d=vi(e,s.Jm):e.u&&(d=vi(e,s.el)),e.c.debug("Video state check for event "+t+":: seeking: "+e.l+", waiting: "+e.g+", playing: "+e.u+", paused: "+e.o+", readyState: "+e.f+", rate: "+e.w+", buffer: "+e.v+", ended: "+n+". Changed state: "+d+", Current state: "+gi(e.b,s.Gm))}}},wi=function(t,n,r){return new e.TextTrackCue(t,n,r)},Si=function(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)},Ti=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},Ei=function(e,t,n){if("input"===e)switch(this.type){case"range":e=j}So.call(this,e,t,n)},xi=function(e,t){s.F("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var n=new ki(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},ki=function(e,t){if(s.F("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith(V))for(var n=s.v(t),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.persistentState==s.rd)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:s.cd,distinctiveIdentifier:s.cd,initDataTypes:i.initDataTypes,sessionTypes:[s.Ed],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var u=s.v(i.audioCapabilities),c=u.next();!c.done;c=u.next())c=c.value,c.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(r.audioCapabilities.push(c),o=!0));if(i.videoCapabilities)for(i=s.v(i.videoCapabilities),c=i.next();!c.done;c=i.next())u=c.value,u.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(r.videoCapabilities.push(u),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,s.Zd)),r=o?r:null}if(r)return void(this.a=r)}throw n=Error(s.Xa),n.name=s.Fa,n.code=DOMException.NOT_SUPPORTED_ERR,n},Ai=function(e){s.F("PatchedMediaKeysApple.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&Mi(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Mi(e,this):Promise.resolve()},Ii=function(e){s.F("PatchedMediaKeysApple.MediaKeys"),this.b=new WebKitMediaKeys(e),this.a=new s.Xe},Mi=function(e,t){if(s.$e(e.a),!t)return Promise.resolve();e.a.on(t,ge,Pi);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):e.a.one(t,s.Pc,(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(n){return Promise.reject(n)}},Ci=function(e){s.F("PatchedMediaKeysApple.MediaKeySession"),s.bf.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.Xe,this.sessionId="",this.expiration=NaN,this.closed=new s.Of,this.keyStatuses=new Ni},Pi=function(e){s.F("PatchedMediaKeysApple.onWebkitNeedKey_",e);var t=new Event(s.wc);t.initDataType=s.Zb,t.initData=e.initData,this.dispatchEvent(t)},Ri=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new s.I(s.Ic))},Ni=function(){this.size=0,this.a=void 0},Di=function(){return s.F("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))},Li=function(e){return s.F("PatchedMediaKeysNop.setMediaKeys"),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},Oi=function(){throw new TypeError(m)},_i=function(){throw new TypeError(m)},Ui=function(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(("undefined"===typeof Event?"undefined":a(Event))===s.Cc)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)},ji=function(e){if(e=e.target,e.webkitPresentationMode===re){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement===e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},Ki=function(){return this.webkitSupportsPresentationMode(re)?(this.webkitSetPresentationMode(re),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},Bi=function(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},Fi=function(e){if(this.a=e,this.a.getConfiguration(),e=this.a.getSurface(),!e.i||!document.querySelector(u)){var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");Dt(u,{backgroundColor:se,bottom:0,fontSize:"1.92vw",flexDirection:"column",justifyContent:"flex-end",left:0,marginBottom:"30px",maxHeight:"100%",maxWidth:"100%",pointerEvents:"none",position:"absolute",right:0,top:0,overflow:s.Ec}),Dt(".clpp-show-flex",{display:"block"}),Dt(".clpp-hidden",{display:"none"}),Dt(".clpp-subtitle-window",{backgroundColor:se,flexDirection:"row",justifyContent:s.$b,position:"relative",width:"100%",boxSizing:"border-box"}),Dt(".clpp-subtitle-cues",{color:"#fff",backgroundColor:se}),s.Sg(t,"clpp-subtitle-container"),s.Sg(n,"clpp-subtitle-window"),s.Sg(r,"clpp-subtitle-cues"),n.appendChild(r),t.appendChild(n),e.Lc(t),e.i=t,e.l=n,e.j=r}this.b=e.i,this.f=e.l,this.c=e.j,this.a.on(s.pc,this.Cb,this),this.a.on(s.oc,this.Bb,this)},Vi=function(){this.name="clpp_enhanced"},s.jn=function(e,t,n,r,i){this.c=e,this.b=t,this.a=n,this.keyInfo=r||null,this.g=!!i},s.kn=function(e,t,n,r,i,a,o,s){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=a,this.keyInfo=o||null,this.g=!!s},s.ln=function(e){this.a=e},s.mn=function(e,t){for(;e.a.length;){if(!(0>=e.a[0].endTime))break;e.a.shift()}if(0!=e.a.length){var n=e.a[e.a.length-1];n.startTime>=t||(e.a[e.a.length-1]=new s.kn(n.position,n.startTime,t,n.c,n.b,n.a))}},s.nn=function(e,t,n){var r=void 0!==r&&r;this.h=e,this.Xd=t,this.Fb=this.c=1/0,this.a=1,this.i=0,this.f=this.g=null,this.j=0,this.b=!0,this.o=void 0===n||n,this.l=new s.E("clpp.media.PresentationTimeline"),this.m=r},s.pn=function(e,t,n){if(0!=t.length){var r=t[t.length-1].endTime+n;s.on(e,t[0].startTime+n),e.a=t.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),e.a),e.f=Math.max(e.f,r),null!=e.h&&e.o&&(e.h=(Date.now()+e.j)/1e3-e.f-e.a),e.l.debug("notifySegments: maxSegmentDuration="+e.a)}},s.on=function(e,t){e.g=null==e.g?t:Math.min(e.g,t)},s.qn=function(e,t){e.a=Math.max(e.a,t),e.l.debug("notifyNewSegmentDuration: maxSegmentDuration="+e.a)},s.sn=function(e){return 1/0==e.Fb?0:(e=s.rn(e)-e.Fb,Math.max(0,e))},s.rn=function(e){if(e.isLive()||1/0!=e.c&&!e.b){var t=(Date.now()+e.j)/1e3;e=Math.min(e.m?Math.max(0,t-(e.a-e.i)-e.h):Math.max(0,t-e.a-e.h),e.c)}else e=e.c;return e},s.tn=function(){},zi=a(Object.create)==s.Cc?Object.create:function(e){function t(){}return t.prototype=e,new t},a(Object.setPrototypeOf)==s.Cc)qi=Object.setPrototypeOf;else{var Hi;e:{var Wi={Df:!0},Gi={};try{Gi.__proto__=Wi,Hi=Gi.Df;break e}catch(Lo){}Hi=!1}qi=Hi?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Ji=qi,Xi="undefined"!=typeof e&&e===this?this:"undefined"!=typeof r&&null!=r?r:this,Yi=a(Object.defineProperties)==s.Cc?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};Se("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=Xi.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(a(e)){case s.Xc:var n=null!=e;break e;case s.Cc:n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(n){return void this.f(n)}a(t)==s.Cc?this.u(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.o=function(e){var t=this.c();e.Mc(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return a(e)==s.Cc?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,u=new t((function(e,t){i=e,o=t}));return this.Mc(r(e,i),r(n,o)),u},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype.Mc=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s.v(e),a=i.next();!a.done;a=i.next())r(a.value).Mc(t,n)}))},t.all=function(e){var n=s.v(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,s--,0==s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Mc(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),Ee.prototype.toString=function(){return this.a};var Qi=function(){function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new Ee("jscomp_symbol_"+(n||"")+"_"+t++,n)}var t=0;return e}();Ae.prototype.i=function(e){this.b=e},Ae.prototype["return"]=function(e){this.g={return:e},this.a=this.j};var $i=this||self;$i.a=!0,clpp={},s.r=s.Le.prototype,s.r.start=function(e){if(this.b)return this.b.start(e);if(e<this.a.length)return this.a[e].start;throw Error(A)},s.r.end=function(e){if(this.b)return this.b.end(e);if(e<this.a.length)return this.a[e].end;throw Error(A)},s.r.Ja=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)},s.r.aa=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:this.end(this.length-1)},s.r.xb=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)||e>this.end(this.length-1))return!1;if(t)return n+e>=this.start(0)&&e<=this.end(this.length-1);for(t=0;t<this.length;t++)if(n+e>=this.start(t)&&e<=this.end(t))return!0;return!1},s.r.sa=function(e,t){if(t=void 0!==t&&t,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0))return 0;var n=0;if(t){var r=this.aa();null!=r&&(n=Math.max(0,r-e))}else for(r=this.length-1;0<=r&&this.end(r)>e;--r)n+=this.end(r)-Math.max(this.start(r),e);return n},s.B("clpp.BufferInfo",s.Le),s.Le.prototype.bufferedAheadOf=s.Le.prototype.sa,s.Le.prototype.isBuffered=s.Le.prototype.xb,s.Le.prototype.bufferEnd=s.Le.prototype.aa,s.Le.prototype.bufferStart=s.Le.prototype.Ja,s.Le.prototype.end=s.Le.prototype.end,s.Le.prototype.start=s.Le.prototype.start,s.J={Bf:20,hb:function(e){var t=s.J.H,n=s.J.$e,r=s.J.Va;return t(e)||n(e)?e:r(e)}},s.B("clpp.utils.obj.cloneItem",s.J.hb),s.J.Va=function(e){var t,n={},r=0;for(t=arguments.length;r<t;r++)null!==arguments[r]&&void 0!==arguments[r]&&(n=s.J.cf(n,{merging:arguments[r]}));return n.merging},s.B("clpp.utils.obj.merge",s.J.Va),s.J.cf=function(e,t,n){var r=s.J.H,i=s.J.$e,a=s.J.cf,o=s.J.yb,u=s.J.Nh,c=s.J.Lh,l=s.J.uc;for(var f in n=n+1||1,!r(e)&&l(e)||(e={}),t)t.hasOwnProperty(f)&&(l=t[f],i(l)||r(l)||o(l)?e[f]=l:u(l)?e[f]=l.subarray(0):l instanceof Array?e[f]=a([],l):!r(l)&&c(l)&&n<s.J.Bf&&(e[f]=a(e[f],l,n)));return e},s.J.$e=function(e){return e=a(e),e===s.Bd||e===s.Wc||e===s.Sb},s.J.H=function(e){return null===e||void 0===e},s.J.uc=function(e){return a(e)===s.Xc},s.J.yb=function(e){return a(e)===s.Cc},s.J.X=function(e){return a(e)===s.Bd},s.J.Ua=function(e){return a(e)===s.Wc},s.J.Nh=function(e){var t=s.J.uc,n=s.J.yb;return!!(t(e)&&e.buffer&&e.buffer instanceof ArrayBuffer&&n(e.subarray))},s.J.Lh=function(e){var t=s.J.uc,n=s.J.H;return!n(e)&&t(e)&&e.constructor===Object},s.J.ua=function(e,t,n,r){if(e===t||null===e&&null===t||void 0===e&&void 0===t)return!0;if(null===e&&null!==t||null!==e&&null===t||void 0!==e&&void 0===t||void 0===e&&void 0!==t||!s.J.uc(e)||!s.J.uc(t))return!1;for(var i=n||Object.keys(e),a={},o=0;o<i.length;o++){var u=i[o];if((s.J.H(r)||0>r.indexOf(u))&&(a[u]=!0,e[u]!==t[u]))return!1}if(s.J.H(n))for(e=Object.keys(t),t=0;t<e.length;t++)if(n=e[t],(s.J.H(r)||0>r.indexOf(n))&&!a[n])return!1;return!0},s.J.isNaN=function(e){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(e){return e!==e})(e)},s.J.ge=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},s.J.he=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};var Zi={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};s.B("clpp.log.Level",Zi);var ea=3,ta={},na=[];s.B("clpp.log.getLoggers",(function(){return s.J.hb(ta)})),s.B("clpp.log.addInterceptor",(function(e){e&&na.push(e)})),s.B("clpp.log.removeInterceptor",(function(e){e&&(e=na.indexOf(e),0<=e&&na.splice(e,1))})),s.B("clpp.log.getTagLevel",Oe),s.B("clpp.log.hasTagLevel",(function(e){return void 0!==e&&0<=ta[e]})),s.B("clpp.log.setTagLevel",(function(e,t){e&&(s.J.X(t)&&(t=_e(t)),ta[e]=t)})),s.B("clpp.log.setLogLevel",(function(e){-1===e&&(e=3),s.J.X(e)&&(e=_e(e)),ea=e})),s.B("clpp.log.getLogLevel",(function(){return ea})),s.B("clpp.log.Logger",s.E),s.E.prototype.log=function(t,n){var r=arguments;if(e.console){var i=t;1<arguments.length?(i=arguments[0],Array.prototype.shift.call(arguments)):i=3;var a=Oe(this.a);if(0<=a){if(a<i)return}else if(ea<i)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]"),a=new Date,a.toISOString&&(a=a.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,a)),4===i?console.log.apply(console,arguments):3===i?console.info.apply(console,arguments):2===i?console.warn.apply(console,arguments):1===i?console.error.apply(console,arguments):console.log.apply(console,arguments),0<na.length&&na.forEach((function(e){e.call(e,i,r)}))}},s.E.prototype.log=s.E.prototype.log,s.E.prototype.info=function(e){Array.prototype.unshift.call(arguments,3),this.log.apply(this,arguments)},s.E.prototype.info=s.E.prototype.info,s.E.prototype.debug=function(e){Array.prototype.unshift.call(arguments,4),this.log.apply(this,arguments)},s.E.prototype.debug=s.E.prototype.debug,s.E.prototype.warn=function(e){Array.prototype.unshift.call(arguments,2),this.log.apply(this,arguments)},s.E.prototype.warn=s.E.prototype.warn,s.E.prototype.error=function(e){Array.prototype.unshift.call(arguments,1),this.log.apply(this,arguments)},s.E.prototype.error=s.E.prototype.error,s.E.prototype.kh=function(e){return e?this.a?new s.E(this.a+"."+e):new s.E(e):this},s.E.prototype.createChild=s.E.prototype.kh;var ra=new s.E("clpp");s.B("clpp.log.info",s.Se),s.B("clpp.log.debug",s.F),s.B("clpp.log.warn",s.C),s.B("clpp.log.error",s.Te),s.r=s.Ue.prototype,s.r.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},s.r.get=function(e){return(e=this.a[e])?e.slice():[]},s.r.remove=function(e,t){var n=this.a[e];if(!n)return!1;for(var r=!1,i=0;i<n.length;++i)n[i]==t&&(n.splice(i,1),--i,r=!0);return r},s.r.clear=function(){this.a={}},s.r.forEach=function(e){for(var t in this.a)e(t,this.a[t])},Ue.prototype.Dc=function(e){try{this.Qb.handleEvent?this.Qb.handleEvent(e):this.Qb.call(this.a,e)}catch(t){s.Te("clpp","Uncaught exception in event handler for event '"+this.b+"'",t,t?t.message:null,t?t.stack:null)}},s.I.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},s.I.prototype.stopImmediatePropagation=function(){this.a=!0},s.I.prototype.stopPropagation=function(){},s.B("clpp.EventBus",je),je.prototype.trigger=function(e){var t=this.a.get(e.type);if(t)for(var n=0;n<t.length&&(e.target=this.b,e.currentTarget=this.b,t[n].Dc(e),t[n].Ki&&this.a.remove(e.type,t[n]),!e||!e.a);n++);},je.prototype.trigger=je.prototype.trigger,je.prototype.on=function(e,t,n){return this.a.push(e,new Ue(e,t,n||this.b)),t},je.prototype.on=je.prototype.on,je.prototype.one=function(e,t,n){return this.a.push(e,new Ue(e,t,n||this.b,!0)),t},je.prototype.one=je.prototype.one,je.prototype.off=function(e,t){var n=this.a.get(e),r=!1;if(n)for(var i=0;i<n.length;i++)n[i].Qb===t&&(r=this.a.remove(e,n[i])||r);return r},je.prototype.off=je.prototype.off,je.prototype.clear=function(){this.a.clear()},je.prototype.clear=je.prototype.clear,s.Xe.prototype.release=function(){s.$e(this)},s.Xe.prototype.on=function(e,t,n,r){e=new Be(e,t,n,void 0!==r&&r),this.a.push(t,e)},s.Xe.prototype.one=function(e,t,n){function r(a){i.off(e,t,r),n(a)}var i=this;this.on(e,t,r)},s.Xe.prototype.off=function(e,t,n){for(var r=this.a.get(t)||[],i=0;i<r.length;++i){var a=r[i];a.target!=e||n!=a.listener&&n||(Fe(a),this.a.remove(t,a))}},s.bf.prototype.trigger=function(e){this.oc.trigger(e),0<this.Sb.length&&this.Sb.forEach((function(t){null!==e&&t.dispatchEvent(e)}))},s.bf.prototype.addEventListener=function(e,t){this.on(e,t)},s.bf.prototype.addEventListener=s.bf.prototype.addEventListener,s.bf.prototype.removeEventListener=function(e,t){this.off(e,t)},s.bf.prototype.removeEventListener=s.bf.prototype.removeEventListener,s.bf.prototype.dispatchEvent=function(e){return this.trigger(e),e.defaultPrevented},s.bf.prototype.on=function(e,t,n){return this.oc.on(e,t,n)},s.bf.prototype.on=s.bf.prototype.on,s.bf.prototype.one=function(e,t,n){return this.oc.one(e,t,n)},s.bf.prototype.one=s.bf.prototype.one,s.bf.prototype.off=function(e,t){return this.oc.off(e,t)},s.bf.prototype.off=s.bf.prototype.off,s.bf.prototype.addDelegate=function(e){e&&(0<=this.Sb.indexOf(e)||this.Sb.push(e))},s.bf.prototype.addDelegate=s.bf.prototype.addDelegate,s.bf.prototype.removeDelegate=function(e){e&&(e=this.Sb.indexOf(e),0<=e&&this.Sb.splice(e,1))},s.bf.prototype.removeDelegate=s.bf.prototype.removeDelegate,s.ff=new s.E("clpp.players"),s.ef={},s.B("clpp.events.ERROR",s.zc),s.B("clpp.events.LOADEDMETADATA",s.Pc),s.B("clpp.events.BUFFERING_ENDED",s.Tb),s.B("clpp.events.BUFFERING_STARTED",s.Ub),s.B("clpp.events.STATE_CHANGED",s.zd),s.B("clpp.events.AUDIO_TRACK_CHANGED",s.Ob),s.B("clpp.events.TEXT_TRACK_CHANGED",s.Id),s.B("clpp.events.VIDEO_TRACK_CHANGED",s.ae),s.B("clpp.events.BITRATE_CHANGED",s.Rb),s.B("clpp.events.TRACKS_ADDED",s.Nd),s.B("clpp.events.LOAD_START",ee),s.B("clpp.events.RELEASING",s.pd),s.B("clpp.events.RELEASED",ae),s.B("clpp.events.DESTROYING","destroying"),s.B("clpp.events.DESTROYED","destroyed"),s.B("clpp.events.VIDEO_BUFFER_CHANGED",s.$d),s.B("clpp.events.AUDIO_BUFFER_CHANGED",s.Kb),s.B("clpp.events.DOWNLOAD_TRACE","downloadtrace"),s.B("clpp.events.DRM_SESSION_UPDATE",s.uc),s.B("clpp.events.DRM_SESSION_PERSISTED",s.tc),s.B("clpp.events.DRM_RENEWAL_STARTED",W),s.B("clpp.events.DRM_EXPIRATION_UPDATE",s.rc),s.B("clpp.events.AUTOPLAY_NOT_ALLOWED",s.Qb),s.B("clpp.events.PLAY",s.kd),s.B("clpp.events.SEEKING",s.vd),s.B("clpp.events.SEEKED",s.ud),s.B("clpp.events.USER_SEEKING",s.Td),s.B("clpp.events.USER_SEEKED",s.Sd),s.Fm={SEEKING:1,NO_DATA:2},s.B("clpp.events.BufferingReasons",s.Fm),s.B("clpp.events.ADS_TIMELINE_CHANGED",s.vb),s.B("clpp.events.AD_LOADED",s.ib),s.B("clpp.events.AD_BREAK_STARTED",s.bb),s.B("clpp.events.AD_STARTED",s.qb),s.B("clpp.events.AD_BUFFERING",s.db),s.B("clpp.events.AD_PROGRESS",s.nb),s.B("clpp.events.AD_FIRST_QUARTILE",s.gb),s.B("clpp.events.AD_MIDPOINT",s.jb),s.B("clpp.events.AD_THIRD_QUARTILE",s.sb),s.B("clpp.events.AD_PAUSED",s.mb),s.B("clpp.events.AD_RESUMED",s.ob),s.B("clpp.events.AD_SKIPPED",s.pb),s.B("clpp.events.AD_CLICKED",s.eb),s.B("clpp.events.AD_IMPRESSION",s.hb),s.B("clpp.events.AD_COMPLETED",s.fb),s.B("clpp.events.AD_STOPPED",s.rb),s.B("clpp.events.AD_BREAK_STOPPED",s.cb),s.B("clpp.events.CASTING_STARTED",s.Xb),s.B("clpp.events.CASTING_ENDED","castingended"),s.B("clpp.events.CAST_STATUS_CHANGED",s.Yb),s.B("clpp.events.AIRPLAY_STATUS_CHANGED",s.yb),s.B("clpp.events.AIRPLAY_CASTING_STARTED",s.xb),s.B("clpp.events.AIRPLAY_CASTING_ENDED",s.wb),s.B("clpp.events.TIMELINE_CUE_ADDED",s.Jd),s.B("clpp.events.TIMELINE_CUE_ENTER",s.Kd),s.B("clpp.events.TIMELINE_CUE_EXIT",s.Ld),s.w(s.K,Error),s.K.prototype.toString=function(){var e=this.message;return this.b&&(e+="\n Caused by "+this.b),e},s.B("clpp.Error",s.K),s.M=2,s.K.Severity={RECOVERABLE:1,FATAL:s.M},s.K.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10},s.K.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8e3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9e3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,IMA_SDK_MISSING:1e4,IMA_INVALID_CONFIGURATION:10001,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11e3,BROADPEAK_SESSION_ERROR:11001};for(var ia=new s.E("clpp.utils.strings"),aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oa=[],sa=0,ua=aa.length;sa<ua;++sa)oa[aa.charCodeAt(sa)]=sa;oa[61]=0,s.B("clpp.utils.strings.fromUtf8",s.mf),s.B("clpp.utils.strings.fromBytesAutoDetect",s.pf),s.B("clpp.utils.strings.fromBase64",Ge),s.B("clpp.utils.strings.toBase64",s.tf),s.B("clpp.utils.strings.toUtf8",s.uf),s.B("clpp.utils.strings.toUtf16",s.vf),s.B("clpp.utils.strings.toByteArray",Je),s.B("clpp.utils.strings.startsWith",Xe),s.B("clpp.utils.strings.endsWith",s.yf),s.B("clpp.utils.strings.bitrateToString",(function(e){if(void 0===e||null===e||""===e)return"";try{var t=Number(e);return s.J.isNaN(t)?"":(e="bps",1e3<=Math.abs(t)&&(e="Kbps",t/=1e3),1e3<=Math.abs(t)&&(e="Mbps",t/=1e3),t.toFixed(2).replace(/[.,]00$/,"")+e)}catch(n){return""}})),s.B("clpp.utils.strings.durationToStirng",(function(e,t){function n(e){return function(t,n){return r(e,n.length-1)}}function r(e,t){return e.length<t?r("0"+e,t):e}t=void 0===t?"%h:%mm:%ss":t,null!==e&&void 0!==e||(e=0),null!==t&&void 0!==t||(t="%h:%mm:%ss");var i=Math.floor(e/3600),a=Math.floor((e-3600*i)/60),o=Math.floor(e-3600*i-60*a);return t.replace(/(%h+)/,n(String(i))).replace(/(%m+)/,n(String(a))).replace(/(%s+)/,n(String(o)))})),s.B("clpp.utils.strings.hashCode",(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++){var r=e.charCodeAt(t);n=(n<<5)-n+r,n|=0}return n})),s.Af.parse=function(t){var n=t.split(":");if(2>n.length||"data"!==n[0])throw s.Te("Bad data URI, failed to parse scheme"),new s.K(s.M,1,1004,{uri:t});if(n=n.slice(1).join(":").split(","),2>n.length)throw s.Te("Bad data URI, failed to extract encoding and MIME type"),new s.K(s.M,1,1004,{uri:t});var r=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),r=r.split(";");var i="";if(1<r.length&&(i=r[1]),"base64"===i)t=Ge(n).buffer;else{if(i)throw s.Te("Bad data URI, unknown encoding "+i),new s.K(s.M,1,1005,{uri:t});t=s.uf(n).buffer}return{data:t,contentType:r[0]}},st.g=function(e,t,n,r){var i,a,o,u,c,f,d,h,p,g,m,v,b,y,w;return s.z((function(S){switch(S.a){case 1:return i=st.f,c=u=Date.now(),S.c=2,s.x(S,i(e,n),4);case 4:return a=S.b,f=a.headers.get(l),yt(t,f),d=f?parseInt(f,10):0,t.onFragment&&t.type===s.Bn?(g=a.body.getReader(),m=new tt(d),v=function(e,n){if(r.kc)return null;if(n&&n.data){var i=Date.now();wt(t,n.data.byteLength,i-u),u=i}return t.onFragment&&n?t.onFragment(n):null},s.x(S,nt(m,g,v,t.onProgress),8)):(h=a.body.getReader(),p=new Ye(d),s.x(S,Qe(p,h,t),7));case 7:o=S.b,S.a=6;break;case 8:o=S.b;case 6:s.Be(S,3);break;case 2:if(b=s.Ce(S),r.kc)throw new s.K(1,1,7001,{url:e,request:t});if(r.Af)throw new s.K(1,1,1003,{url:e,request:t});throw s.Te("Error while fetching data:",b),new s.K(1,1,1002,{url:e,error:b,request:t,status:-1},b);case 3:if(y={},w=a.headers,w.forEach((function(e,t){y[t.trim()]=e})),r.kc)throw new s.K(1,1,7001,{url:e,request:t});return S["return"](s.Rf(y,o,a.status,e,a.url,t,Date.now()-c))}}))},st.da=function(){return!(!e.fetch||!e.AbortController)},st.f=e.fetch,st.a=e.AbortController,st.h=e.ReadableStream,st.b=e.Headers,s.Of.prototype.resolve=function(){},s.Of.prototype.reject=function(){},ut.c=e.XMLHttpRequest;var ca=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;s.r=s.Sf.prototype,s.r.wa="",s.r.Jb="",s.r.ta="",s.r.bc=null,s.r.ha="",s.r.ib="",s.r.toString=function(){var e=[],t=this.wa;if(t&&e.push(ht(t,la,!0),":"),t=this.ta){e.push("//");var n=this.Jb;n&&e.push(ht(n,la,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.bc,null!=t&&e.push(":",String(t))}return(t=this.ha)&&(this.ta&&"/"!=t.charAt(0)&&e.push("/"),e.push(ht(t,"/"==t.charAt(0)?da:fa,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.ib)&&e.push("#",ht(t,pa)),e.join("")},s.r.resolve=function(e){var t=new s.Sf(this);"data"===t.wa&&(t=new s.Sf);var n=!!e.wa;n?ct(t,e.wa):n=!!e.Jb,n?t.Jb=e.Jb:n=!!e.ta,n?t.ta=e.ta:n=null!=e.bc;var r=e.ha;if(n)lt(t,e.bc);else if(n=!!e.ha){if("/"!=r.charAt(0))if(this.ta&&!this.ha)r="/"+r;else{var i=t.ha.lastIndexOf("/");-1!=i&&(r=t.ha.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var u=r[o++];"."==u?i&&o==r.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(u),i=!0)}r=a.join("/")}}return n?t.ha=r:n=""!==e.a.toString(),n?ft(t,mt(e.a)):n=!!e.ib,n&&(t.ib=e.ib),t};var la=/[#\/\?@]/g,fa=/[#\?:]/g,da=/[#\?]/g,ha=/[#\?@]/g,pa=/#/g;gt.prototype.a=null,gt.prototype.c=null,gt.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),null!==this.c&&this.c++,this},gt.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.b=t.join("&")},s.r=s.fg.prototype,s.r.release=function(){return this.f.destroy()},s.r.destroy=function(){return this.g=!0,this.b=[],this.c=[],this.f.destroy()},s.r.Nf=function(e){this.b.push(e)},s.r.qd=function(e){this.c.push(e)},s.r.Li=function(e){this.b=this.b.filter((function(t){return t!==e}))},s.r.$d=function(e){this.c=this.c.filter((function(t){return t!==e}))},s.r.fetch=function(e){var t=this;if(this.g)return new Pn(Promise.reject(new s.K(1,1,7001,{url:e.uris[e.uriIndex],request:e})));try{var n=[];this.b.forEach((function(e){n.push(e)})),e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){n.push(e)})),e.requestModifiers=n;var r=[];this.c.forEach((function(e){r.push(e)})),e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){r.push(e)})),e.responseModifiers=r;var i=new s.Of,a=i;e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){a=a.then((function(t){if(o.a)throw new s.K(s.M,1,7001,t?{url:t.uris[t.uriIndex],request:t}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.K)throw e;throw new s.K(s.M,1,1006,null,e)}))})),a=a.then((function(e){var n=new s.Sf(e.uris[e.uriIndex]),r=n.wa;if(r||(r=location.protocol,r=r.slice(0,-1),ct(n,r),e.uris[e.uriIndex]=n.toString()),r=t.a[r],!r)throw new s.K(s.M,1,1e3,{url:n.toString()});return{request:e,plugin:r}}));var o=new Pn(a);return e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){o.then((function(t){if(o.a)throw new s.K(s.M,1,7001,t?{url:t.request.uris[t.request.uriIndex],request:t.request}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.K)throw e;throw new s.K(s.M,1,1007,null,e)}))})),s.ql(this.f,o),i.resolve(e),o}catch(u){return new Pn(Promise.reject(u))}},s.fg.prototype.fetch=s.fg.prototype.fetch,s.fg.prototype.removeResponseModifier=s.fg.prototype.$d,s.fg.prototype.removeRequestModifier=s.fg.prototype.Li,s.fg.prototype.addResponseModifier=s.fg.prototype.qd,s.fg.prototype.addRequestModifier=s.fg.prototype.Nf,s.B("clpp.net.makeRequest",s.hg),s.Bn=2,s.gg=6,s.B("clpp.net.RequestType",{MANIFEST:1,SEGMENT:s.Bn,LICENSE:3,APP:4,TIMING:5,OTHER:s.gg}),s.B(B,St),St.getInfo=s.Ig;var ga=null,ma=null,va=new s.E(B),ba="android",ya="ios",wa="linux",Sa="osx",Ta="windows",Ea="tizen",xa=fe,ka=fe,Aa={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};s.B("clpp.utils.PlayerConfiguration",Ct),Ct.create=s.Ng;var Ia=["abort",_,U,"durationchange","emptied",s.wc,s.yc,s.zc,"interruptbegin","interruptend",s.Oc,s.Pc,ee,"mozaudioavailable",s.hd,s.kd,s.ld,ie,s.nd,s.ud,s.vd,ue,"suspend",s.Md,"volumechange",s.be,"waitingforkey",s.sd,ge,pe,de,he];s.w(s.Pg,s.bf),s.r=s.Pg.prototype,s.r.init=function(e,t){var n=this;this.a=this.Hc=t,this.l=e,this.log.info("Initializing Player surface");var r=this.l.D(!0);this.log.info("Attaching media element listeners"),Ia.forEach((function(e){n.W.on(r,e,n.Oh,e!==s.zc)})),this.Ic||(this.Ic=this.Ie()),this.Ic.Sa(this),Ut(this.l)},s.r.destroy=function(){return this.W.release(),Promise.resolve()},s.r.canPlay=function(e){return s.ef[this.namespace()].canPlay(e)},s.r.play=function(){var e=this;if(!this.j)return Promise.reject("No sources specified yet. You need to load content before calling play.");var t=this.l.D().play();return Promise.resolve(t)["catch"]((function(t){var n=t.message||"",r=t.stack||"";throw"NotAllowedError"===(t.name||"")&&(0===r.indexOf(s.kd)||0<=n.indexOf(s.kd))&&(e.trigger(new s.I(s.Qb)),e.log.warn(s.ia)),t}))},s.r.pause=function(){var e=this;return this.j?new Promise((function(t,n){var r=e.getState();r!==s.Cm&&r!==s.Em&&r!==s.el&&r!==s.Jm?n():(e.l.D().pause(),e.getState()===s.el?e.W.one(e,s.zd,(function(){t()})):t())})):Promise.reject("No sources specified yet. You need to load content before calling pause.")},s.r.isPaused=function(){return this.l.D().paused},s.r.isEnded=function(){return this.l.D().ended},s.r.getConfiguration=function(){return this.a},s.r.getSurface=function(){return this.l},s.r.getBufferInfo=function(e){var t=this.getSurface().D();return new s.Le(t?t.buffered:void 0,e)},s.r.getPosition=function(){var e=this.l.D();return e?e.currentTime:(this.log.warn("No media element available, can not report current time!"),0)},s.r.seek=function(e){var t=this,n=this.getPosition();if(void 0===e||null===e||a(e)!==s.Wc||e===n)return Promise.resolve();var r=this.l.D();if(!r)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var i=e-n;return.1>=Math.abs(i)?(this.log.info("Skip seek. Delta "+Math.abs(i)+" < 0.1"),Promise.resolve()):new Promise((function(a,o){function u(){r.readyState>HTMLMediaElement.HAVE_NOTHING?l():t.W.one(r,s.Pc,l)}function c(i){var o=t.getPosition(),u=.1>=Math.abs(e-o),l=r.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,f=i.type===s.ud,d=i.type===ie;i=i.type===s.Md;var h=d&&l;t.log.debug("Checking seeking state. Native Event:",f,"Time reached",u,e,o,"Timeupdate:",i,"Progress:",d,"ReadyState:",l,"Progress Ready:",h),f||u&&(i||h)?(t.ec=!1,t.trigger(new s.I(s.Sd)),a()):(d&&n===o&&(t.log.debug("Seek seemed to have been ignored. Trying again"),r.currentTime=e),Ke(t.W,r,[s.ud,s.Md,ie],c))}function l(){Ke(t.W,r,[s.ud,s.Md,ie],c),t.log.info("Seeking to "+e+". Delta "+i),t.ec=!0,r.currentTime=e,t.trigger(new s.I(s.Td))}t.getState()===s.ym?(t.log.debug("Player is in IDLE state. Postpone seek."),t.W.one(t,s.zd,(function(){switch(t.getState()){case s.Cm:case s.el:case s.Jm:t.log.debug("Valid seek state reached."),u();break;default:t.log.warn("Invalid seek target state. Aborting seek"),o()}}))):u()}))},s.r.getVolume=function(){var e=this.l.D();return e?e.volume:(this.log.warn("No media element available, can not report volume!"),null)},s.r.setVolume=function(e){var t=this.l.D();t?s.J.Ua(e)?0>e||1<e?this.log.warn(c+e+".\n          Value must be between 0 and 1."):t.volume=e:this.log.warn(c+e+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")},s.r.isMuted=function(){return this.l.D().muted},s.r.setMuted=function(e){var t=this.l.D();a(e)===s.Sb&&(t.muted=e)},s.r.getDuration=function(){return this.j?this.l.D().duration:-1},s.r.getTrackManager=function(){return this.Ic},s.r.getPlaybackRate=function(){var e=this.l.D();return e&&e.playbackRate||1},s.r.setPlaybackRate=function(e){var t=this.l.D();void 0!==e&&t&&(t.playbackRate=e)},s.r.setSourceIndex=function(e){this.oe=e},s.r.getSourceIndex=function(){return this.oe},s.r.getLoadedSource=function(){return this.j&&this.j[this.getSourceIndex()]},s.r.getThumbnailStreams=function(){return[]},s.r.getNetworkEngine=function(){return this.le},s.r.setNetworkEngine=function(e){this.le=e},s.r.getTimelineCues=function(){return[]},s.r.Ji=function(e){e.type===s.Md||e.type===ie?this.bf.debug(T+e.type+"'"):this.bf.info(T+e.type+"'"),this.trigger(new s.I(e.type,{detail:e}))},s.Pg.prototype.setNetworkEngine=s.Pg.prototype.setNetworkEngine,s.Pg.prototype.getNetworkEngine=s.Pg.prototype.getNetworkEngine,_t.prototype.D=function(e){return this.a||!e||this.h||(this.g.info("Creating new media element upon request"),e=document.createElement(this.b.mediaTag),s.Sg(e,this.b.css.fill),e.controls=this.b.controls,e.setAttribute(q,this.b.crossorigin),this.a=e,this.c.appendChild(this.a)),this.a},_t.prototype.getMedia=_t.prototype.D,_t.prototype.Dh=function(){return this.c},_t.prototype.getContainer=_t.prototype.Dh,_t.prototype.Ch=function(){return this.h},_t.prototype.getCastElement=_t.prototype.Ch,_t.prototype.Lc=function(e,t,n){var r=this.c;if(!r)throw Error("No container is available. Unable to add element");var i=this.b.css;t&&s.Sg(e,i.fill),n?r.insertBefore(e,r.firstElementChild):r.appendChild(e)},_t.prototype.addContainerElement=_t.prototype.Lc,_t.prototype.uf=function(e){var t=this.c;if(!t)throw Error("No container is available. Unable to remove element");t.removeChild(e)},_t.prototype.removeContainerElement=_t.prototype.uf,_t.prototype.release=function(){var e=document.querySelector(u);e&&e.parentElement.removeChild(e)};var Ma={disableContainer:!1,moveCssToContainer:!0,containerTag:"div",mediaTag:s.Xd,crossorigin:"anonymous",controls:!1,css:{container:"clpp-container",fill:"clpp-fill",hidden:"clpp-hidden"},containerEl:null};s.r=Kt.prototype,s.r.load=function(){return Promise.resolve()},s.r.start=function(e){return e.play()},s.r.resume=function(){},s.r.pause=function(){},s.r.skip=function(){},s.r.getVolume=function(){return 1},s.r.setVolume=function(){},s.r.getPosition=function(){return-1},s.r.dispose=function(){},Kt.prototype.dispose=Kt.prototype.dispose,Kt.prototype.getPosition=Kt.prototype.getPosition,Kt.prototype.setVolume=Kt.prototype.setVolume,Kt.prototype.getVolume=Kt.prototype.getVolume,Kt.prototype.skip=Kt.prototype.skip,Kt.prototype.pause=Kt.prototype.pause,Kt.prototype.resume=Kt.prototype.resume,Kt.prototype.start=Kt.prototype.start,Kt.prototype.load=Kt.prototype.load,s.B("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2}),s.B("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1}),s.B("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var Ca=new s.E("clpp.ads"),Pa=[];s.B("clpp.ads.IAdsManager",Ft),Ft.prototype.load=function(){},Ft.prototype.start=function(){},Ft.prototype.resume=function(){},Ft.prototype.resume=Ft.prototype.resume,Ft.prototype.pause=function(){},Ft.prototype.pause=Ft.prototype.pause,Ft.prototype.skip=function(){},Ft.prototype.skip=Ft.prototype.skip,Ft.prototype.getVolume=function(){},Ft.prototype.getVolume=Ft.prototype.getVolume,Ft.prototype.setVolume=function(){},Ft.prototype.setVolume=Ft.prototype.setVolume,Ft.prototype.getPosition=function(){},Ft.prototype.getPosition=Ft.prototype.getPosition,Ft.prototype.dispose=function(){},s.B("clpp.ads.IAd",Vt),Vt.prototype.jb=function(){},Vt.prototype.getAdManagerName=Vt.prototype.jb,Vt.prototype.kb=function(){},Vt.prototype.getAdManagerVersion=Vt.prototype.kb,Vt.prototype.sb=function(){},Vt.prototype.getTechnology=Vt.prototype.sb,Vt.prototype.nb=function(){},Vt.prototype.getId=Vt.prototype.nb,Vt.prototype.getCreativeId=function(){},Vt.prototype.getCreativeId=Vt.prototype.getCreativeId,Vt.prototype.getApiFramework=function(){},Vt.prototype.getApiFramework=Vt.prototype.getApiFramework,Vt.prototype.getAdSystem=function(){},Vt.prototype.getAdSystem=Vt.prototype.getAdSystem,Vt.prototype.getAdvertiserName=function(){},Vt.prototype.getAdvertiserName=Vt.prototype.getAdvertiserName,Vt.prototype.getTitle=function(){},Vt.prototype.getTitle=Vt.prototype.getTitle,Vt.prototype.getDuration=function(){},Vt.prototype.getDuration=Vt.prototype.getDuration,Vt.prototype.getSkipTimeOffset=function(){},Vt.prototype.getSkipTimeOffset=Vt.prototype.getSkipTimeOffset,Vt.prototype.tc=function(){},Vt.prototype.isBumper=Vt.prototype.tc,Vt.prototype.Vb=function(){},Vt.prototype.getClickThroughUrl=Vt.prototype.Vb,Vt.prototype.getMediaUrl=function(){},Vt.prototype.getMediaUrl=Vt.prototype.getMediaUrl,Vt.prototype.pb=function(){},Vt.prototype.getMediaWidth=Vt.prototype.pb,Vt.prototype.ob=function(){},Vt.prototype.getMediaHeight=Vt.prototype.ob,Vt.prototype.Ta=function(){},Vt.prototype.getMediaBitrate=Vt.prototype.Ta,Vt.prototype.qb=function(){},Vt.prototype.getPodType=Vt.prototype.qb,Vt.prototype.getPodIndex=function(){},Vt.prototype.getPodIndex=Vt.prototype.getPodIndex,Vt.prototype.Wb=function(){},Vt.prototype.getPodTimeOffset=Vt.prototype.Wb,Vt.prototype.Xb=function(){},Vt.prototype.getPositionInSequence=Vt.prototype.Xb,Vt.prototype.rb=function(){},Vt.prototype.getSequenceLength=Vt.prototype.rb,Vt.prototype.getWrapperAdIds=function(){},Vt.prototype.getWrapperAdIds=Vt.prototype.getWrapperAdIds,Vt.prototype.getWrapperAdSystems=function(){},Vt.prototype.getWrapperAdSystems=Vt.prototype.getWrapperAdSystems,Vt.prototype.getWrapperCreativeIds=function(){},Vt.prototype.getWrapperCreativeIds=Vt.prototype.getWrapperCreativeIds,s.B("clpp.ads.IAdsTimeline",zt),zt.prototype.getCuePoints=function(){},zt.prototype.getCuePoints=zt.prototype.getCuePoints,zt.prototype.Yb=function(){},zt.prototype.hasPreroll=zt.prototype.Yb,zt.prototype.tb=function(){},zt.prototype.hasPostroll=zt.prototype.tb,s.B("clpp.ads.IAdsManagerFactory",qt),qt.prototype.name=function(){},qt.prototype.name=qt.prototype.name,qt.prototype.da=function(){},qt.prototype.isSupported=qt.prototype.da,qt.prototype.create=function(){},qt.prototype.create=qt.prototype.create,Ht.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"},Ht.prototype.da=function(){return!0},Ht.prototype.create=function(){return new Kt},Ht.prototype.create=Ht.prototype.create,Ht.prototype.isSupported=Ht.prototype.da,Ht.prototype.name=Ht.prototype.name,s.kh.prototype.Hb=function(e,t){this.a[e]=t},s.B("clpp.drm.DrmEnvironment",s.kh),s.kh.prototype.setDrmSystem=s.kh.prototype.Hb,s.B("clpp.drm.RobustnessLevel",{SW_SECURE_CRYPTO:E,SW_SECURE_DECODE:x,HW_SECURE_CRYPTO:p,HW_SECURE_DECODE:g,HW_SECURE_ALL:"HW_SECURE_ALL"}),s.lh=s.lc,s.nh=s.kc,s.mh="com.apple.fps.1_0",s.B("clpp.drm.KeySystem",{WIDEVINE:s.lh,PLAYREADY:s.nh,FAIRPLAY:s.mh}),s.ph={},s.B("clpp.drm.registerDrmEnvironment",s.qh);var Ra={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,244]},Na=new s.E("clpp.drm.DrmToday"),Da="PRODUCTION",La="STAGING",Oa="TEST",_a={PRODUCTION:Da,STAGING:La,TEST:Oa};s.B("clpp.drm.DrmToday.Environment",_a);var Ua="/license-proxy-widevine/cenc/",ja="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Ka="/license-server-fairplay/";(function(){var e=s.Ch();Object.keys(_a).forEach((function(t){var n=d;t!==Da&&(n+="_"+t),n=new s.kh(n),n.Hb(s.lh,{licenseUrl:Gt(s.lh,t),videoRobustness:e.video,audioRobustness:e.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:Jt(t),modifiers:{licenseRequest:s.Ih,licenseResponse:s.Mh}}),n.Hb(s.mh,{licenseUrl:Gt(s.mh,t),certificateUrl:Wt(t)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:s.Jh,licenseResponse:s.Kh,extractContentId:s.Hh,certificateRequest:s.Lh}}),n.Hb(s.nh,{licenseUrl:Gt(s.nh,t),modifiers:{licenseRequest:s.Ih}}),s.qh(n)}))})(),Xt.prototype.release=function(){this.a=this.b=null},s.Qh.prototype.getPosition=function(){return this.a},s.Qh.prototype.ea=function(){return this.b.byteLength},s.Qh.prototype.seek=function(e){(0>e||e>this.b.byteLength)&&s.Rh(),this.a=e},s.Qh.prototype.seek=s.Qh.prototype.seek,s.Th.prototype.getPosition=function(){return this.a},s.Th.prototype.ea=function(){return this.b.byteLength},s.Th.prototype.skip=function(e){this.a+e>this.b.byteLength&&$t(),this.a+=e},s.Th.prototype.seek=function(e){if(0>e||e>this.b.byteLength)throw $t();this.a=e},s.B("clpp.utils.url.queryString",Zt);var Ba=new s.E("clpp.utils.FairplayUtils");s.mi={lh:function(e,t){return e.reduce(function(e,t,n){return t["catch"](e.bind(null,n))}.bind(null,t),Promise.reject())},wd:function(e,t){return e.concat(t)},xc:function(){},La:function(e){return null!=e}},s.ok={VIDEO:s.Xd,AUDIO:s.Ib,TEXT:s.k,Yi:s.zb,aj:"image"},s.In=1/15,s.Jn=(new Map).set(s.hc,s.hc).set(s.Ac,"framerate").set("bandwidth","bitrate").set(s.he,s.he).set(s.Dc,s.Dc).set("channelsCount","channels"),s.B("clpp.utils.Mp4Parser",s.ri),s.ri.prototype.G=function(e,t){var n=an(e);return this.c[n]=0,this.b[n]=t,this},s.ri.prototype.box=s.ri.prototype.G,s.ri.prototype.T=function(e,t){var n=an(e);return this.c[n]=1,this.b[n]=t,this},s.ri.prototype.fullBox=s.ri.prototype.T,s.ri.prototype.stop=function(){this.a=!0},s.ri.prototype.stop=s.ri.prototype.stop,s.ri.prototype.parse=function(e,t){var n=s.N(e);for(n=new s.Th(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),this.a=!1;s.Uh(n)&&!this.a;)this.$c(0,n,t)},s.ri.prototype.parse=s.ri.prototype.parse,s.ri.prototype.$c=function(e,t,n){var r=t.getPosition(),i=s.Yh(t),a=s.Yh(t);switch(this.f.debug("Parsing MP4 box",on(a)),i){case 0:i=t.ea()-r;break;case 1:i=s.$h(t)}var o=this.b[a];if(o){var u=null,c=null;1==this.c[a]&&(c=s.Yh(t),u=c>>>24,c&=16777215),a=t.getPosition()-r;var l=r+i;n&&l>t.ea()&&(l=t.ea()),l-=t.getPosition(),t=0<l?s.ai(t,l):new Uint8Array(0),t=new s.Th(new DataView(t.buffer,t.byteOffset,t.byteLength),!1),o({Pa:this,tf:n||!1,version:u,flags:c,s:t,size:i,start:r+e,Ed:a})}else e=Math.min(r+i-t.getPosition(),t.ea()-t.getPosition()),t.skip(e)},s.ri.prototype.parseNext=s.ri.prototype.$c,s.ri.children=s.si,s.ri.sampleDescription=s.ti,s.ri.allData=rn,s.ri.typeToString=on,s.xi.prototype.f=function(e){if(1<e.version)s.C("Unrecognized PSSH version found!");else{var t=s.fi(s.ai(e.s,16)),n=[];if(0<e.version)for(var r=s.Yh(e.s),i=0;i<r;++i){var a=s.fi(s.ai(e.s,16));n.push(a)}r=s.Yh(e.s),e.s.skip(r),this.c.push.apply(this.c,n),this.b.push(t),this.a.push({start:e.start,end:e.start+e.size-1}),e.s.getPosition()!=e.s.ea()&&s.C("Mismatch between box size and data size!")}},s.yi.prototype.P=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},s.yi.prototype.stop=function(){this.a&&(this.a(),this.a=null)},s.sg.prototype.be=function(){return this.stop(),this.b(),this},s.sg.prototype.P=function(e){var t=this;return this.stop(),this.a=new s.yi((function(){t.b()})).P(e),this},s.sg.prototype.za=function(e){var t=this;return this.stop(),this.a=new s.yi((function(){t.a.P(e),t.b()})).P(e),this},s.sg.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},s.B("clpp.utils.Timer",s.sg),s.sg.prototype.stop=s.sg.prototype.stop,s.sg.prototype.tickEvery=s.sg.prototype.za,s.sg.prototype.tickAfter=s.sg.prototype.P,s.sg.prototype.tickNow=s.sg.prototype.be,s.r=s.Ci.prototype,s.r.destroy=function(){var e=this;return s.z((function(t){if(1==t.a)return e.g?s.x(t,e.la,0):(e.g=!0,s.x(t,sn(e),4));e.la.resolve(),t.a=0}))},s.r.setServerCertificate=function(){var e,t=this;return s.z((function(n){if(1==n.a)return t.m&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length?(n.c=3,s.x(n,t.m.setServerCertificate(t.a.serverCertificate),5)):void(n.a=0);if(3!=n.a)return n.b||t.b.warn("Server certificates are not supported by the key system.  The server certificate has been ignored."),s.Be(n,0);throw e=s.Ce(n),new s.K(s.M,6,6004,{browserError:e.message})}))},s.r.keySystem=function(){return this.a?this.a.keySystem:""},s.r.getDrmInfo=function(){return this.a},s.r.nf=function(e){this.u&&this.C===za||(!this.c.delayLicenseRequestUntilPlayed||this.j&&!this.j.paused||this.qa?dn(this,e):this.F.push(e))},s.r.gf=function(e){var t=this;e=e.target,this.b.debug("Key status changed for session",e.sessionId);var n=this.f.get(e),r=!1;e.keyStatuses.forEach((function(e,i){if(a(i)==s.Bd){var o=i;i=e,e=o}if(!(t.a.keySystem!=s.kc||16!=i.byteLength||s.ng()||s.mg("VITIS")||s.mg("Web0S")||s.mg("TiVo"))){var u=void 0===u?1/0:u;o=s.kf(i,u,DataView),u=o.getUint32(0,!0);var c=o.getUint16(4,!0),l=o.getUint16(6,!0);o.setUint32(0,u,!1),o.setUint16(4,c,!1),o.setUint16(6,l,!1)}t.a.keySystem==s.kc&&e==s.Ad&&(e=s.Rd),e!=s.Ad&&(n.loaded=!0),"expired"==e&&(r=!0),o=s.fi(s.N(i)),t.b.debug("Key status for",o,e),t.Ia.set(o,e)}));var i=e.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.Ha&&(this.b.debug("Session has expired",e.sessionId),this.f["delete"](e),e.close()["catch"]((function(){}))),vn(this)&&(this.o.resolve(),this.N.P(.5))};var Fa,Va,za=0,qa=3;s.Q={qc:function(e,t){var n=s.Q.J(e,t);return 1!=n.length?null:n[0]},Uc:function(e,t,n){return e=s.Q.Re(e,t,n),1!=e.length?null:e[0]},J:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},Re:function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},lb:function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},L:function(e,t,n,r){r=void 0===r?null:r;var i=null;return e=e.getAttribute(t),null!=e&&(i=n(e)),null==i?r:i},Ei:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},Oa:function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(s.C("Invalid duration string:",e),null)},cd:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return e=Number(e),0===e%1?e:null},bd:function(e){return e=Number(e),0===e%1&&0<e?e:null},Db:function(e){return e=Number(e),0===e%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},ph:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},sf:function(e,t){var n=new DOMParser,r=null,i=null;try{i=n.parseFromString(e,s.Gd)}catch(a){}return i&&i.documentElement.tagName==t&&(r=i.documentElement),r&&0<r.getElementsByTagName(s.gd).length?null:r},rf:function(e,t){try{var n=s.mf(e);return s.Q.sf(n,t)}catch(r){return null}}},s.hj=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149],Fa=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],Va=[112,115,115,104,0,0,0,0],s.w(En,Tn),s.w(s.fj,Tn),s.B("clpp.SubtitleManagerFactory",xn),xn.prototype.canPlay=function(){},xn.prototype.canPlay=xn.prototype.canPlay,xn.prototype.create=function(){},xn.prototype.create=xn.prototype.create;var Ha,Wa=new s.E("clpp.players"),Ga=[];s.nj.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length},s.B("clpp.Track",s.nj),s.nj.prototype.toString=s.nj.prototype.toString,s.B("clpp.Rendition",s.oj),s.tj=1,s.qj=s.Xd,s.S=s.Ib,s.R=s.k,Ha=te,s.nj.Type={VIDEO:s.qj,AUDIO:s.S,TEXT:s.R,bj:Ha},s.vj.prototype.abort=function(){return this.a=!0,this.j()},s.vj.prototype.Nc=function(e,t){function n(){return i.reject(new s.K(s.M,7,7001)),r.abort()}var r=this,i=new s.Of;return this.promise.then((function(t){r.a?i.reject(new s.K(s.M,7,7001)):e?n=Cn(e,t,i):i.resolve(t)}),(function(e){t?n=Cn(t,e,i):i.reject(e)})),new s.vj(i,(function(){return n()}))},s.vj.aborted=function(){var e=Promise.reject(new s.K(s.M,7,7001));return e["catch"]((function(){})),new s.vj(e,(function(){return Promise.resolve()}))},s.vj.prototype.chain=s.vj.prototype.Nc,s.w(Pn,s.vj),Pn.prototype.then=function(e,t){return this.promise=this.promise.then(e,t),this},Pn.prototype["catch"]=function(e){return this.promise=this.promise["catch"](e),this},Pn.prototype.abort=function(){var e=this;return this.a?Promise.resolve():(this.a=!0,this.c.then((function(t){return e.h&&clearTimeout(e.h),e.g&&e.g(),t.abort()}))["catch"]((function(){})))},Ln.prototype.release=function(){this.c.release(),this.f=[],this.a=null},Ln.prototype.destroy=function(){var e=this;return s.z((function(t){e.release(),e.h=null,e.g=null,s.y(t)}))},Ln.prototype.getTimelineCues=function(){return this.f},s.B("clpp.TrackManager",s.U),s.U.prototype.getVideoTracks=s.U.prototype.getVideoTracks,s.U.prototype.getAudioTracks=s.U.prototype.getAudioTracks,s.U.prototype.getTextTracks=s.U.prototype.U,s.U.prototype.getVideoRendition=s.U.prototype.V,s.U.prototype.getAudioRendition=s.U.prototype.ma,s.U.prototype.getTextRendition=s.U.prototype.fa,s.U.prototype.getLoadingVideoRendition=s.U.prototype.Ca,s.U.prototype.getLoadingAudioRendition=s.U.prototype.Aa,s.U.prototype.getLoadingTextRendition=s.U.prototype.Ba,s.U.prototype.getVideoTrack=s.U.prototype.ga,s.U.prototype.getAudioTrack=s.U.prototype.ba,s.U.prototype.getTextTrack=s.U.prototype.ca,s.U.prototype.setVideoTrack=s.U.prototype.ya,s.U.prototype.setAudioTrack=s.U.prototype.ia,s.U.prototype.setTextTrack=s.U.prototype.ja,s.U.prototype.setVideoRendition=s.U.prototype.xa,s.U.prototype.setAudioRendition=s.U.prototype.Ea,s.U.prototype.setTextRendition=s.U.prototype.Fa,s.U.prototype.wh=function(e){return this.getVideoTracks().find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findVideoTrack=s.U.prototype.wh,s.U.prototype.sh=function(e){return this.getAudioTracks().find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findAudioTrack=s.U.prototype.sh,s.U.prototype.uh=function(e){return this.U().find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findTextTrack=s.U.prototype.uh,s.U.prototype.vh=function(e){return this.getVideoTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findVideoRendition=s.U.prototype.vh,s.U.prototype.rh=function(e){return this.getAudioTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findAudioRendition=s.U.prototype.rh,s.U.prototype.th=function(e){return this.U().flatMap((function(e){return e.renditions})).find((function(t){return s.J.ua(t,e,e&&Object.keys(e))}))},s.U.prototype.findTextRendition=s.U.prototype.th,s.U.prototype.addTextTrack=s.U.prototype.addTextTrack,s.U.prototype.isAbrEnabled=s.U.prototype.na;var Ja,Xa,Ya,Qa=[];s.w(jn,s.U),s.r=jn.prototype,s.r.Ud=function(e,t){if(t){var n=t.track;if(n){var r=this.g.find((function(t){return Kn(t,n,e)}));if(r)this.a.warn("Track from event already exists",n,r);else{var i,a=In(e,n);if(e===s.R)i=void 0!==n.id?this.i[n.id]:Object.values(this.i).find((function(t){return Kn(a,t,e)})),a.kind&&"captions"===a.kind&&(a.mimeType=s.Ab),i&&(a.src=i.url,a.mimeType=i.mimeType);else if(r=this.g.find((function(t){return t.type===e&&s.J.ua(t,a,["kind","label","language"])})))return r.id=n.id,Gn(n)&&this.c.set(e,r),void this.a.debug("Track from event seems to already exists, flipped native track to",n);try{a.renditions.push(new s.oj(a.id,a)),this.g.push(a),this.a.debug(e+" Track added",a),this.b.trigger(new s.I(s.Nd)),Gn(n)&&this.c.set(e,a)}catch(o){this.a.error("Error while converting track data",o)}}}else this.a.warn(w)}else this.a.warn(y)},s.r.Wd=function(e,t){if(t){var n=t.track;if(n){if(e===s.R){var r=this.g.find((function(t){return Kn(t,n,e)}));r&&(this.g.splice(this.g.indexOf(r),1),(this.c.get(e)||null)===r&&this.c.set(e,null),this.a.debug(e+" Track removed",r))}}else this.a.warn(w)}else this.a.warn(y)},s.r.Vd=function(e,t){this.a.debug(e+" Track changed",t);var n=Vn(this,e);if(n)for(var r={Mb:0};r.Mb<n.length;r={Mb:r.Mb},++r.Mb)if(Gn(n[r.Mb])){(r=this.g.find(function(t){return function(r){return Kn(r,n[t.Mb],e)}}(r)))&&(this.c.set(e,r),this.a.debug("Track change detected!",r),r===this.h.get(e)&&this.h.set(e,null),e===s.S?this.b.trigger(new s.I(s.Ob)):e===s.R&&this.b.trigger(new s.I(s.Id)));break}},s.r.Sa=function(e){this.b=e},s.r.load=function(){var e=Vn(this,s.R);e&&(this.f.on(e,P,this.v),this.f.on(e,oe,this.A),this.f.on(e,j,this.w)),(e=Vn(this,s.S))&&(this.f.on(e,P,this.m),this.f.on(e,oe,this.u),this.f.on(e,j,this.o)),(e=Vn(this,s.qj))&&(this.f.on(e,P,this.C),this.f.on(e,oe,this.I),this.f.on(e,j,this.F)),this.f.one(this.b,U,this.Pg.bind(this))},s.r.release=function(){this.g=[],this.i={},this.c.clear(),this.h.clear(),this.f.release()},s.r.destroy=function(){this.release(),this.b=null},s.r.getVideoTracks=function(){return zn(this,s.qj)},s.r.getAudioTracks=function(){return zn(this,s.S)},s.r.U=function(){return zn(this,s.R)},s.r.V=function(){return qn(this,s.qj)},s.r.ma=function(){return qn(this,s.S)},s.r.fa=function(){return qn(this,s.R)},s.r.Ca=function(){return Hn(this,s.qj)},s.r.Aa=function(){return Hn(this,s.S)},s.r.Ba=function(){return Hn(this,s.R)},s.r.ga=function(){return this.c.get(s.qj)||null},s.r.ba=function(){return this.c.get(s.S)||null},s.r.ca=function(){return this.c.get(s.R)||null},s.r.ya=function(e){Wn(this,s.qj,e)},s.r.ia=function(e){Wn(this,s.S,e)},s.r.ja=function(e){Wn(this,s.R,e)},s.r.xa=function(e){Wn(this,s.qj,e&&e.track)},s.r.Ea=function(e){Wn(this,s.S,e&&e.track)},s.r.Fa=function(e){Wn(this,s.R,e&&e.track)},s.r.addTextTrack=function(e){var t,n=this;return s.z((function(r){if(!e.mimeType.match(/text\/vtt/))return s.x(r,Bn(n,e),0);t="External_"+n.j++,n.i[t]=e,Fn(n,e,t),r.a=0}))},s.r.Pg=function(){var e=this.b.getConfiguration();Jn(this,s.S,e.preferredAudioLanguage),Jn(this,s.R,e.preferredTextLanguage)},s.r.na=function(){return 1>=this.getVideoTracks().flatMap((function(e){return e.renditions})).length},jn.prototype.isAbrEnabled=jn.prototype.na,jn.prototype.addTextTrack=jn.prototype.addTextTrack,jn.prototype.setTextRendition=jn.prototype.Fa,jn.prototype.setAudioRendition=jn.prototype.Ea,jn.prototype.setVideoRendition=jn.prototype.xa,jn.prototype.setTextTrack=jn.prototype.ja,jn.prototype.setAudioTrack=jn.prototype.ia,jn.prototype.setVideoTrack=jn.prototype.ya,jn.prototype.getTextTrack=jn.prototype.ca,jn.prototype.getAudioTrack=jn.prototype.ba,jn.prototype.getVideoTrack=jn.prototype.ga,jn.prototype.getLoadingTextRendition=jn.prototype.Ba,jn.prototype.getLoadingAudioRendition=jn.prototype.Aa,jn.prototype.getLoadingVideoRendition=jn.prototype.Ca,jn.prototype.getTextRendition=jn.prototype.fa,jn.prototype.getAudioRendition=jn.prototype.ma,jn.prototype.getVideoRendition=jn.prototype.V,jn.prototype.getTextTracks=jn.prototype.U,jn.prototype.getAudioTracks=jn.prototype.getAudioTracks,jn.prototype.getVideoTracks=jn.prototype.getVideoTracks,s.B("clpp.SubtitleManager",Xn),Xn.prototype.Cb=function(){},Xn.prototype.onCueShown=Xn.prototype.Cb,Xn.prototype.Bb=function(){},Xn.prototype.onCueHidden=Xn.prototype.Bb,Xn.prototype.dispose=function(){},Yn.prototype.release=function(){this.b.release(),this.a=!1},Yn.prototype.destroy=function(){return this.a&&this.release(),this.b=this.c=this.f=null,Promise.resolve()},Yn.prototype.start=function(e){var t=this;this.a&&this.g.warn("Already started. Ignoring request..."),this.a=!0,this.c=e,this.f=this.c.textTracks,this.f.onaddtrack=function(e){return $n(t,e)}},s.hk.prototype.getStats=function(){return{width:this.c,height:this.b,streamBandwidth:this.l,decodedFrames:this.f,droppedFrames:this.g,corruptedFrames:this.m,estimatedBandwidth:this.h,loadLatency:this.i,playTime:er(this.a,s.el),pauseTime:er(this.a,s.Jm),bufferingTime:er(this.a,s.Cm),stateHistory:tr(this.a),switchHistory:rr(this.j)}},s.w(ir,s.Pg),s.r=ir.prototype,s.r.init=function(e,t){s.Pg.prototype.init.call(this,e,t),this.g=new pi(this),vi(this.g,s.ym)},s.r.namespace=function(){return K},s.r.unload=function(){var e=this;return this.j?new Promise((function(t){e.log.debug(s.Na,e.j);var n=e.getTrackManager();n&&n.release(),e.m&&e.m.release(),e.h&&e.h.release(),e.i&&(e.i.destroy(),e.i=null),e.c.off(e,s.zd),e.f&&(e.f=new s.hk),e.j=null,e.u=!1,e.b&&(e.b.removeAttribute("src"),e.b.load()),or(e).then(t)})):new Promise((function(e){e()}))},s.r.release=function(){var e=this;return this.unload().then((function(){e.g&&vi(e.g,s.ym)}))},s.r.destroy=function(){var e=this;return this.o?(this.log.warn("Player is already destroyed!"),Promise.resolve()):(this.o=!0,s.Pg.prototype.destroy.call(this).then((function(){return e.release()})).then((function(){e.log.debug(h);var t=e.getTrackManager();t&&t.destroy(),e.m&&(e.m.destroy()["catch"]((function(t){e.log.warn("Error while disposing cue handler",t)})),e.m=null),e.h&&(e.h.destroy()["catch"]((function(t){e.log.warn("Error while disposing metadata handler",t)})),e.h=null),e.g&&(e.g.destroy(),e.g=null),e.f=null})))},s.r.getDrmInfo=function(){return this.i?this.i.getDrmInfo():null},s.r.load=function(e){var t,n,r,i,a=this;return s.z((function(o){switch(o.a){case 1:return a.o?o["return"](lr()):a.getSurface()&&a.getSurface().D(!0)?(t=s.J,n=a.l.D(),a.v=Date.now()/1e3,a.f=new s.hk,a.c.on(a,s.zd,(function(){a.f&&s.ck(a.f.a,a.getState())})),vi(a.g,s.Mn),a.j=s.Gk(e),s.Og(e)&&(a.a=s.Ng(a.Hc,e)),a.log.debug(s.va,a.a),a.log.debug(s.Ga,a.j),!0===a.a.enableEnhancedSubtitleManager&&(a.m?a.m.release():a.m=new Yn(a),a.m.start(n)),a.h?a.h.release():a.h=new Ln(a),On(a.h,n),r=a.getTrackManager(),r.load(),n.loop=!!a.a.loop,t.H(a.a.volume)||a.setVolume(a.a.volume),t.H(a.a.muted)||a.setMuted(a.a.muted),a.c.one(n,_,(function(){a.trigger(new s.I(s.Nd))})),o.c=2,s.x(o,ar(a,n),4)):o["return"](Promise.reject("No surface or no media element in surface"));case 4:return s.x(o,sr(a),5);case 5:return s.x(o,fr(a).promise,6);case 6:s.Be(o,0);break;case 2:i=s.Ce(o),a.u=!1,a.onError(i),s.y(o)}}))},s.r.onError=function(e){this.u||(e.a===s.M&&null!==this.g&&vi(this.g,s.qk),this.trigger(new s.I(s.zc,{detail:e})))},s.r.Ie=function(){return new jn},s.r.getState=function(){return null!==this.g?this.g.getState().currentState:s.zm},s.r.getPresentationStartTime=function(){if(this.b&&this.b.getStartDate&&this.isLive()){var e=this.b.getStartDate();return isNaN(e.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):e.getTime()/1e3}return 0},s.r.getSeekRange=function(){var e=this.getSurface().D(!1);return e&&e.src&&(e=e.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:this.getDuration()}},s.r.isLive=function(){return!(!this.b||!this.b.src)&&1/0===this.b.duration},s.r.getStats=function(){if(!this.f||!this.b)return s.ik();this.f&&s.ck(this.f.a,this.getState());var e=this.b,t=this.f,n=e.videoHeight;return t.c=e.videoWidth,t.b=n,e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),t=this.f,n=Number(e.totalVideoFrames),t.g=Number(e.droppedVideoFrames),t.f=n,this.f.m=Number(e.corruptedVideoFrames)),this.f.getStats()},s.r.getTimelineCues=function(){return this.h?this.h.getTimelineCues():[]},dr.prototype.canPlay=function(e){e=e.type||"";var t=e===s.Dk;return!(e===s.Bk||t||e===s.Ck&&!s.og())&&(!s.ng()&&!s.mg("CrKey")&&Tt(e))},dr.prototype.create=function(){return new ir},dr.prototype.create=dr.prototype.create,dr.prototype.canPlay=dr.prototype.canPlay,s.gf(new dr),hr.prototype.Cb=function(){},hr.prototype.onCueShown=hr.prototype.Cb,hr.prototype.Bb=function(){},hr.prototype.onCueHidden=hr.prototype.Bb,hr.prototype.dispose=function(){},pr.prototype.canPlay=function(t){var n=e.hasOwnProperty("TextTrackCue")&&"tizen"!==s.Ig().os;return t=!t.enableEnhancedSubtitleManager,n&&t},pr.prototype.canPlay=pr.prototype.canPlay,pr.prototype.create=function(){return new hr},pr.prototype.create=pr.prototype.create,kn(new pr),s.B("clpp.version",s.fa),s.B("clpp.name",s.la),s.Bk=R,s.Ck=D,s.Dk=N,s.B("clpp.Type",{DASH:s.Bk,HLS:s.Ck,SMOOTH_STREAMING:s.Dk,MP4:s.Zd}),Ja="scte35",Xa=fe,s.Nn={SCTE35:Ja,UNKNOWN:Xa},s.B("clpp.TimelineCueType",s.Nn),Ya=new s.E("clpp.Components"),s.wk=new Map,s.B("clpp.polyfill.installAll",mr);var $a=[];s.B("clpp.polyfill.register",s.Ak),s.B("clpp.utils.media.detectType",vr);var Za=new s.E("clpp.sources");wr.prototype.verify=function(t,n){var r={kty:"RSA",n:t.n,e:t.e},i=this.c+"."+this.b,a=this.f;return new Promise((function(t,o){try{var u=e&&e.crypto&&e.crypto.subtle}catch(l){}if(u){var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};u.importKey("jwk",r,c,!1,["verify"]).then((function(e){var t=s.uf(i),n=Ge(a);return u.verify(c,e,n.buffer,t.buffer)})).then((function(e){e?t():o(k)}))["catch"](o)}else n?o("Web Crypto API is not supported"):t()}))};var eo={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"};Sr.prototype.verify=function(){var t=this;return new Promise((function(e,n){try{var r=Tr(t);e(r)}catch(i){n()}})).then((function(e){return e.verify(eo)}))["catch"]((function(t){if(t&&t!==k){var n=e.location.href,r=new s.Sf(n);if(n=r.wa||r.ta?r:new s.Sf("//"+n),/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(n.ta))return Promise.resolve()}throw t}))};var to="vod",no="live";s.w(Nr,s.bf),s.r=Nr.prototype,s.r.init=function(){},s.r.onError=function(e){null!==this.a?this.a.onError(e):this.trigger(new s.I(s.zc,{detail:e}))},s.r.Vc=function(e){return e=this.w[e],void 0===e&&(e=null),e},s.r.getSurface=function(){return this.f},s.r.getConfiguration=function(){return s.J.hb(this.b)},s.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null},s.r.unload=function(){return this.a?this.a.unload():Promise.resolve()},s.r.release=function(){var e=this;if(this.o)return this.c.debug("The player is already released. No-op"),new Promise((function(e){return e()}));if(this.trigger(new s.I(s.pd)),this.f&&this.f.release(),this.j&&(this.j.dispose(),this.j=null),this.g&&(this.g.dispose(),this.g=null),gr((function(e){e.release()})),this.a){var t=null,n=this.a.on(s.zd,(function(e){t=e}));return this.zc("onPlayerWillRelease").then((function(){return e.a.removeDelegate(e),Promise.all([e.a.release(),e.m.release()])})).then((function(){e.c.debug("Releasing player completed"),t&&(e.c.debug("Re-post state change event after release"),e.trigger(t))}))["finally"]((function(){e.a.off(s.zd,n),e.trigger(new s.I(ae))}))}return this.trigger(new s.I(ae)),new Promise((function(e){return e()}))},s.r.destroy=function(){var e=this;return this.l?(this.c.debug("The player is already destroyed. No-op"),new Promise((function(e){return e()}))):(this.l=!0,this.release().then((function(){return e.c.debug(h),e.trigger(new s.I("destroying")),e.zc("onPlayerWillDestroy")})).then((function(){if(e.a&&e.a.removeDelegate(e),e.oc.clear(),e.a)return e.a.destroy()})).then((function(){gr((function(e){e.cb()})),s.wk.clear(),e.a=null,e.trigger(new s.I("destroyed"))})))},s.r.load=function(e){var t=this;return s.z((function(n){return 1==n.a?s.x(n,s.dl(t,e),2):3!=n.a?s.x(n,s.fl(t),3):s.x(n,s.gl(t),0)}))},s.r.zc=function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];var i=this;return r=this.v.map((function(t){var r=t[e];return r.call.apply(r,[t,i].concat(s.ne(n)))})).filter((function(e){return e instanceof Promise})),Promise.all(r)},s.r.use=function(e){e=new e,e.ub(this),s.wk.get(e.id())?Ya.warn("Component already in use."):s.wk.set(e.id(),e)},s.r.remove=function(e){if(this.getState()<=s.ym||this.o){var t="";if(gr((function(n){n instanceof e&&(t=n.id(),n.cb())})),t)return s.wk["delete"](t),this.u=!0}return!1},s.r.play=function(){return this.a?this.g&&this.a.namespace()!==s.bc?this.g.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")},s.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")},s.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()},s.r.getBufferInfo=function(e){return this.a?this.a.getBufferInfo(e):new s.Le},s.r.getState=function(){return this.a?this.a.getState():s.ym},s.r.getThumbnailStreams=function(){return this.a?this.a.getThumbnailStreams():[]},s.r.isEnded=function(){return this.a&&this.a.isEnded()||!1},s.r.isPaused=function(){return this.a&&this.a.isPaused()||!1},s.r.getPosition=function(){return this.a?this.a.getPosition():0},s.r.seek=function(e){return this.getState()===s.qk?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(e):Promise.reject("delegate does not exist")},s.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0},s.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}},s.r.getVolume=function(){return this.a?this.a.getVolume():null},s.r.setVolume=function(e){this.a&&this.a.setVolume(e)},s.r.getDuration=function(){return this.a?this.a.getDuration():-1},s.r.getAdsManager=function(){return this.g},s.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"},s.r.canPlay=function(e){return!!this.a&&this.a.canPlay(e)},s.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1},s.r.setPlaybackRate=function(e){this.a&&this.a.setPlaybackRate(e)},s.r.isMuted=function(){return this.a&&this.a.isMuted()||!1},s.r.setMuted=function(e){this.a&&this.a.setMuted(e)},s.r.getNetworkEngine=function(){return this.m},s.r.setNetworkEngine=function(e){this.m=e},s.r.isLive=function(){return!!this.a&&this.a.isLive()},s.r.getStats=function(){return this.a?this.a.getStats():null},s.r.Wc=function(){return Object.freeze(this.h)},s.r.setSourceIndex=function(e){this.a&&this.a.setSourceIndex(e)},s.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():0},s.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()},s.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]},s.B("clpp.Player",Nr),Nr.prototype.getTimelineCues=Nr.prototype.getTimelineCues,Nr.prototype.getLoadedSource=Nr.prototype.getLoadedSource,Nr.prototype.getSources=Nr.prototype.Wc,Nr.prototype.getStats=Nr.prototype.getStats,Nr.prototype.isLive=Nr.prototype.isLive,Nr.prototype.setNetworkEngine=Nr.prototype.setNetworkEngine,Nr.prototype.getNetworkEngine=Nr.prototype.getNetworkEngine,Nr.prototype.setMuted=Nr.prototype.setMuted,Nr.prototype.isMuted=Nr.prototype.isMuted,Nr.prototype.setPlaybackRate=Nr.prototype.setPlaybackRate,Nr.prototype.getPlaybackRate=Nr.prototype.getPlaybackRate,Nr.prototype.namespace=Nr.prototype.namespace,Nr.prototype.getAdsManager=Nr.prototype.getAdsManager,Nr.prototype.getDuration=Nr.prototype.getDuration,Nr.prototype.setVolume=Nr.prototype.setVolume,Nr.prototype.getVolume=Nr.prototype.getVolume,Nr.prototype.getSeekRange=Nr.prototype.getSeekRange,Nr.prototype.getPresentationStartTime=Nr.prototype.getPresentationStartTime,Nr.prototype.seek=Nr.prototype.seek,Nr.prototype.getPosition=Nr.prototype.getPosition,Nr.prototype.isPaused=Nr.prototype.isPaused,Nr.prototype.isEnded=Nr.prototype.isEnded,Nr.prototype.getState=Nr.prototype.getState,Nr.prototype.getBufferInfo=Nr.prototype.getBufferInfo,Nr.prototype.getTrackManager=Nr.prototype.getTrackManager,Nr.prototype.pause=Nr.prototype.pause,Nr.prototype.play=Nr.prototype.play,Nr.prototype.remove=Nr.prototype.remove,Nr.prototype.use=Nr.prototype.use,Nr.prototype.load=Nr.prototype.load,Nr.prototype.destroy=Nr.prototype.destroy,Nr.prototype.release=Nr.prototype.release,Nr.prototype.getDrmInfo=Nr.prototype.getDrmInfo,Nr.prototype.getConfiguration=Nr.prototype.getConfiguration,Nr.prototype.getSurface=Nr.prototype.getSurface,Nr.prototype.getPlugin=Nr.prototype.Vc,s.ym=0,s.Mn=1,s.Cm=2,s.el=3,s.Jm=4,s.Em=5,s.qk=6,s.zm=7,s.Gm={IDLE:s.ym,PREPARING:s.Mn,BUFFERING:s.Cm,PLAYING:s.el,PAUSED:s.Jm,ENDED:s.Em,ERROR:s.qk,UNSET:s.zm},Nr.State=s.Gm;var ro=[];Nr.registerPlugin=s.hl,s.eg.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise["catch"]((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)};var io=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);s.wl.prototype.lc=function(){},s.wl.prototype.qe=function(){},s.wl.prototype.release=function(){},s.B("clpp.text.Cue",s.Hl);var ao=s.Pb;s.Hl.positionAlign={LEFT:Q,RIGHT:$,CENTER:s.$b,AUTO:ao};var oo=s.$b,so={LEFT:"left",RIGHT:"right",CENTER:oo,START:s.yd,END:s.xc};s.Hl.textAlign=so;var uo="after",co={BEFORE:"before",CENTER:s.$b,AFTER:uo};s.Hl.displayAlign=co;var lo="ltr";s.Hl.direction={HORIZONTAL_LEFT_TO_RIGHT:lo,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var fo="horizontal-tb";s.Hl.writingMode={HORIZONTAL_TOP_TO_BOTTOM:fo,VERTICAL_LEFT_TO_RIGHT:s.Vd,VERTICAL_RIGHT_TO_LEFT:s.Wd};var ho=0;s.Hl.lineInterpretation={LINE_NUMBER:ho,PERCENTAGE:1};var po=s.yd,go={CENTER:s.$b,START:po,END:s.xc};s.Hl.lineAlign=go;var mo=400;s.Hl.fontWeight={NORMAL:mo,BOLD:700};var vo="normal",bo={NORMAL:vo,ITALIC:"italic",OBLIQUE:"oblique"};s.Hl.fontStyle=bo,s.Hl.textDecoration={UNDERLINE:le,LINE_THROUGH:Z,OVERLINE:ne},s.B("clpp.text.CueRegion",Vr);var yo=1;Vr.units={PX:0,PERCENTAGE:yo,LINES:2};var wo="";Vr.scrollMode={NONE:wo,UP:"up"},s.Ll={},s.B("clpp.text.TextEngine.registerParser",(function(e,t){s.Ll[e]=t})),s.B("clpp.text.TextEngine.unregisterParser",(function(e){delete s.Ll[e]})),s.r=s.Kl.prototype,s.r.destroy=function(){return this.c=this.i=null,this.h.clear(),Promise.resolve()},s.r.remove=function(e,t){var n=this;return Promise.resolve().then((function(){!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e))}))},s.r.Ja=function(){return this.a},s.r.aa=function(){return this.b},s.r.xb=function(e){return null!=this.a&&null!=this.b&&(e>=this.a&&e<this.b)},s.r.sa=function(e){return null==this.b||this.b<e?0:this.b-Math.max(e,this.a)},s.r.Qf=function(e){this.c.append(e)},s.Kl.prototype.appendCues=s.Kl.prototype.Qf,s.Kl.prototype.hd=function(e,t){this.j=e;var n=this.h.get(e);if(n)for(var r=s.v(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter((function(e){return e.endTime<=t})),this.c.append(i))},s.Kl.prototype.setSelectedClosedCaptionId=s.Kl.prototype.hd,zr.prototype.parseInit=function(){},zr.prototype.parseMedia=function(e,t){var n=s.mf(e),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,s.Gd)}catch(y){throw new s.K(s.M,2,2005)}if(a){if(n=a.getElementsByTagName(s.gd)[0])throw new s.K(s.M,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new s.K(s.M,2,2005);var o=s.Q.getAttributeNS(i,X,s.Ac),u=s.Q.getAttributeNS(i,X,"subFrameRate"),c=s.Q.getAttributeNS(i,X,"frameRateMultiplier"),l=s.Q.getAttributeNS(i,X,"tickRate");if(a=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new s.K(s.M,2,2005);a="default"==a,o=new ti(o,u,c,l),u=qr(i.getElementsByTagName(te)[0]),c=qr(i.getElementsByTagName("styling")[0]),l=qr(i.getElementsByTagName("layout")[0]);for(var f=[],d=0;d<l.length;d++){var h,p,g=l[d],m=n,v=new Vr,b=g.getAttribute(ye);if(b)v.id=b,b=null,m&&(b=Eo.exec(m)||ko.exec(m)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(h=Yr(g,c,"extent"))&&(h=(p=Eo.exec(h))||ko.exec(h),null!=h&&(v.width=null!=m?100*Number(h[1])/m:Number(h[1]),v.height=null!=b?100*Number(h[2])/b:Number(h[2]),v.widthUnits=p||null!=m?yo:0,v.heightUnits=p||null!=b?yo:0)),(g=Yr(g,c,"origin"))&&(h=(p=Eo.exec(g))||ko.exec(g),null!=h&&(v.viewportAnchorX=null!=b?100*Number(h[1])/b:Number(h[1]),v.viewportAnchorY=null!=m?100*Number(h[2])/m:Number(h[2]),v.viewportAnchorUnits=p||null!=m?yo:0));else s.C("TtmlTextParser parser encountered a region with no id. Region will be ignored."),v=null;v&&f.push(v)}for(n=qr(i.getElementsByTagName("body")[0]),i=0;i<n.length;i++)(d=Wr(n[i],t.periodStart,o,u,c,l,f,a))&&r.push(d)}return r};var So,To,Eo=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,xo=/^(\d+px|\d+em)$/,ko=/^(\d+)px (\d+)px$/,Ao=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Io=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Mo=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Co=/^(\d*(?:\.\d*)?)f$/,Po=/^(\d*(?:\.\d*)?)t$/,Ro=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,No={left:po,center:s.$b,right:s.xc,start:po,end:s.xc},Do={left:Q,center:s.$b,right:$};s.Ll[s.Cb]=zr,ni.prototype.parseInit=function(e){var t=!1;if((new s.ri).G("moov",s.si).G("trak",s.si).G("mdia",s.si).G("minf",s.si).G("stbl",s.si).T("stsd",s.ti).G("stpp",(function(e){t=!0,e.Pa.stop()})).parse(e),!t)throw new s.K(s.M,2,2007)},ni.prototype.parseMedia=function(e,t){var n=this,r=!1,i=[];if((new s.ri).G(s.Rc,rn((function(e){r=!0,i=i.concat(n.a.parseMedia(e,t))}))).parse(e),!r)throw new s.K(s.M,2,2007);return i},s.Ll['application/mp4; codecs="stpp"']=ni,s.Ll['application/mp4; codecs="stpp.TTML.im1t"']=ni,ri.prototype.parseInit=function(){},ri.prototype.parseMedia=function(e,n){var r=s.mf(e);if(r=r.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),r=r.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new s.K(s.M,2,2e3);var i=n.segmentStart;if(null==i&&(i=0,r[0].includes("X-TIMESTAMP-MAP"))){var a=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=r[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(i=oi(new s.il(a[1])),null==i)throw new s.K(s.M,2,2e3);i=n.periodStart+(Number(o[1])/9e4-i)}}o=[];var u=r[0].split("\n");for(a=1;a<u.length;a++)if(/^Region:/.test(u[a])){var c=new s.il(u[a]),l=new Vr;Kr(c),jr(c);for(var f=Kr(c);f;){var d;e:{var h=l,p=f;if(d=/^id=(.*)$/.exec(p))h.id=d[1];else if(d=/^width=(\d{1,2}|100)%$/.exec(p))h.width=Number(d[1]);else if(d=/^lines=(\d+)$/.exec(p))h.height=Number(d[1]),h.heightUnits=2;else if(d=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.regionAnchorX=Number(d[1]),h.regionAnchorY=Number(d[2]);else if(d=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.viewportAnchorX=Number(d[1]),h.viewportAnchorY=Number(d[2]);else{if(!/^scroll=up$/.exec(p)){d=!1;break e}h.scroll="up"}d=!0}d||s.C("VTT parser encountered an invalid VTTRegion setting: ",f,t),jr(c),f=Kr(c)}o.push(l)}for(a=[],c=1;c<r.length;c++){if(u=r[c].split("\n"),h=u,p=i,1==h.length&&!h[0]||/^NOTE($|[ \t])/.test(h[0])||"STYLE"==h[0])u=null;else{u=null,h[0].includes("--\x3e")||(u=h[0],h.splice(0,1)),l=new s.il(h[0]),f=oi(l);var g=s.jl(l,/[ \t]+--\x3e[ \t]+/g);if(d=oi(l),null==f||null==g||null==d)throw new s.K(s.M,2,2001);for(f+=p,d+=p,h=h.slice(1).join("\n").trim(),f=new s.Hl(f,d,h),jr(l),d=Kr(l);d;)ii(f,d,o)||s.C(C,d,t),jr(l),d=Kr(l);null!=u&&(f.id=u),u=f}u&&a.push(u)}return a},s.Ll[s.Fd]=ri,s.Ll['text/vtt; codecs="vtt"']=ri,si.prototype.parseInit=function(e){var t=this,n=!1;if((new s.ri).G("moov",s.si).G("trak",s.si).G("mdia",s.si).T("mdhd",(function(e){0==e.version?(e.s.skip(4),e.s.skip(4),t.a=s.Yh(e.s),e.s.skip(4)):(e.s.skip(8),e.s.skip(8),t.a=s.Yh(e.s),e.s.skip(8)),e.s.skip(4)})).G("minf",s.si).G("stbl",s.si).T("stsd",s.ti).G("wvtt",(function(){n=!0})).parse(e),!this.a)throw new s.K(s.M,2,2008);if(!n)throw new s.K(s.M,2,2008)},si.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw this.b.error("No init segment for MP4+VTT!"),new s.K(s.M,2,2008);var r,i=0,a=[],o=[],u=!1,c=!1,l=!1,f=null;if((new s.ri).G("moof",s.si).G("traf",s.si).T("tfdt",(function(e){u=!0,i=0==e.version?s.Yh(e.s):s.$h(e.s)})).T("tfhd",(function(e){var t=e.flags;e=e.s,e.skip(4),1&t&&e.skip(8),2&t&&e.skip(4),f=8&t?s.Yh(e):null})).T("trun",(function(e){c=!0;var t=e.version,n=e.flags;e=e.s;var r=s.Yh(e);1&n&&e.skip(4),4&n&&e.skip(4);for(var i=[],o=0;o<r;o++){var u={duration:null,sampleSize:null,ce:null};256&n&&(u.duration=s.Yh(e)),512&n&&(u.sampleSize=s.Yh(e)),1024&n&&e.skip(4),2048&n&&(u.ce=0==t?s.Yh(e):s.Zh(e)),i.push(u)}a=i})).G(s.Rc,rn((function(e){l=!0,r=e}))).parse(e),!l&&!u&&!c)throw new s.K(s.M,2,2008);var d=i,h=new DataView(r.buffer,r.byteOffset,r.byteLength),p=new s.Th(h,!1);return a.forEach((function(e){var r=e.duration||f,a=e.ce?i+e.ce:d;d=a+(r||0);var u=0;do{var c=s.Yh(p);u+=c;var l=s.Yh(p);l=on(l);var h=null;"vttc"==l?8<c&&(h=s.ai(p,c-8)):("vtte"!=l&&n.b.error("Unknown box "+l+"! Skipping!"),p.skip(c-8)),r?h&&o.push(ui(h,t.periodStart+a/n.a,t.periodStart+d/n.a)):n.b.error("WVTT sample duration unknown, and no default found!")}while(e.sampleSize&&u<e.sampleSize)})),o.filter(s.mi.La)},s.Ll['application/mp4; codecs="wvtt"']=si,di.prototype.create=function(){return new li},di.prototype.probe=function(e,t){return("text/srt"===e||e===L)&&t===s.Fd},Qa.push(new di),s.w(hi,ri),hi.prototype.parseMedia=function(e,t){return ri.prototype.parseMedia.call(this,s.Mj(e),t)},s.Ll["text/srt"]=hi,s.Ll[L]=hi,s.r=pi.prototype,s.r.Dc=function(e,t){this.a&&this.a.trigger(new s.I(e,{detail:t}))},s.r.getState=function(){return mi(this,"")},s.r.ff=function(){this.g=!1,vi(this,s.Em)},s.r.re=function(){yi(this,_)},s.r.te=function(){this.g=this.u=!1,yi(this,s.hd)},s.r.ue=function(){this.u=!0,this.g=!1,yi(this,s.ld)},s.r.hf=function(){yi(this,s.Pc)},s.r.ve=function(){bi(this)&&yi(this,ie)},s.r.we=function(){yi(this,s.nd)},s.r.Pc=function(e){this.g=this.l=!1,yi(this,e.type)},s.r.Qc=function(e){this.l=!0,yi(this,e.type)},s.r.xe=function(){yi(this,ue)},s.r.pf=function(){this.g=!0,yi(this,s.be)},s.r.se=function(e){(e=e&&e.detail)&&e.a&&e.a===s.M&&vi(this,s.qk)},s.r.destroy=function(){this.c.debug("Stop watching for video events for "+this.a.namespace()),this.a.off(s.yc,this.ff),this.a.off(_,this.re),this.a.off(s.ld,this.ue),this.a.off(s.hd,this.te),this.a.off(ie,this.ve),this.a.off(s.nd,this.we),this.a.off(s.ud,this.Pc),this.a.off(s.vd,this.Qc),this.a.off(ue,this.xe),this.a.off(s.be,this.pf),this.a.off(s.zc,this.se),this.a.off(s.Pc,this.hf),this.a.off(s.Td,this.Qc),this.a.off(s.Sd,this.Pc)},s.Sn={Wa:{},Eb:{},ed:function(e,t){s.Sn.Eb[e]=t}},s.B("clpp.ManifestParser.registerParserByExtension",s.Sn.ed),s.Sn.Ac=function(e,t){s.Sn.Wa[e]=t},s.B("clpp.ManifestParser.registerParserByMime",s.Sn.Ac),s.Sn.Zd=function(e){s.Sn.Eb[e]&&delete s.Sn.Eb[e]},s.Sn.fd=function(e){s.Sn.Wa[e]&&delete s.Sn.Wa[e]},s.Sn.qj=function(){var e={};if(s.jg()){for(var t in s.Sn.Wa)e[t]=!0;for(var n in s.Sn.Eb)e[n]=!0}t={mpd:R,m3u8:D,ism:N},n=s.v([R,D,s.Db,N]);for(var r=n.next();!r.done;r=n.next())r=r.value,e[r]=s.jg()?!!s.Sn.Wa[r]:Tt(r);for(var i in t)e[i]=s.jg()?!!s.Sn.Eb[i]:Tt(t[i]);return e},s.Sn.create=function(e,t,n,r){var i,a;return s.z((function(o){if(1==o.a)return o.c=2,s.x(o,s.Sn.Gh(e,t,n,r),4);if(2!=o.a)return i=o.b,o["return"](new i);throw a=s.Ce(o),s.jf(a,s.M),a}))},s.Sn.Gh=function(e,t,n,r){var i,a,o,u,c;return s.z((function(l){if(1==l.a){if(i=s.Sn,r){if(a=i.Wa[r.toLowerCase()])return l["return"](a);s.C("Could not determine manifest type using MIME type ",r)}if(o=i.getExtension(e)){if(u=i.Eb[o])return l["return"](u);s.C("Could not determine manifest type for extension ",o)}else s.C("Could not find extension for ",e);return r?(l.a=2,l=void 0):l=s.x(l,i.Ih(e,t,n),3),l}if(2!=l.a&&(r=l.b)){if(c=s.Sn.Wa[r])return l["return"](c);s.C("Could not determine manifest type using MIME type",r)}throw new s.K(s.M,4,4e3,{url:e})}))},s.Sn.Ih=function(e,t,n){var r,i,a;return s.z((function(o){return 1==o.a?(r=s.hg(e),bt(r,n),r.type=1,r.method="HEAD",s.x(o,t.fetch(r).promise,2)):(i=o.b,a=i.headers["content-type"],o["return"](a?a.toLowerCase():""))}))},s.Sn.getExtension=function(e){return e=new s.Sf(e).ha.split("/").pop().split("."),1==e.length?"":e.pop().toLowerCase()},s.Sn.da=function(e,t){return!!s.jg()&&(t in s.Sn.Wa||s.Sn.getExtension(e)in s.Sn.Eb)},s.Ak((function(){if(e.VTTCue)s.Se("Using native VTTCue.");else if(e.TextTrackCue){var t=TextTrackCue.length;if(3===t)s.Se(M),e.VTTCue=wi;else if(6===t)s.Se("Using VTTCue polyfill from 6 argument TextTrackCue."),e.VTTCue=Si;else{try{var n=!!wi(1,2,"")}catch(r){n=!1}n&&(s.Se(M),e.VTTCue=wi)}}else s.Te("VTTCue not available.")})),s.Ak((function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){if(t=void 0!==t?t:this.byteLength,e=Math.floor(e),t=Math.floor(t),0>e&&(e+=this.byteLength),0>t&&(t+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),t=Math.min(Math.max(0,t),this.byteLength),0>=t-e)return new ArrayBuffer(0);var n=new ArrayBuffer(t-e),r=s.N(n),i=new Uint8Array(this,e,t-e);return r.set(i),n})})),s.Ak((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Ti)}})),s.Ak((function(){s.F("InputEvent.install"),s.mg("Trident/")&&HTMLInputElement.prototype.addEventListener!==Ei&&(s.Se("Patching input event support on IE."),So=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Ei)})),s.Ak((function(){s.F("mathRound.install")})),s.Ak((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),ki.prototype.createMediaKeys=function(){s.F("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new Ii(this.keySystem);return Promise.resolve(e)},ki.prototype.getConfiguration=function(){return s.F("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.a},Ii.prototype.createSession=function(e){if(s.F("PatchedMediaKeysApple.MediaKeys.createSession"),e=e||s.Ed,e!=s.Ed)throw new TypeError(s.Sa+e+s.ba);return new Ci(this.b,e)},Ii.prototype.setServerCertificate=function(e){return s.F("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),e&&s.N(e),Promise.resolve(!0)},s.Ke(Ci,s.bf),s.r=Ci.prototype,s.r.generateRequest=function(e,t){s.F("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.a=new s.Of;try{this.c=this.g.createSession(s.Zd,s.N(t)),this.f.on(this.c,pe,this.Vg.bind(this)),this.f.on(this.c,de,this.Tg.bind(this)),this.f.on(this.c,he,this.Ug.bind(this)),Ri(this,s.Ad)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.F("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error(s.za))},s.r.update=function(e){s.F("PatchedMediaKeysApple.MediaKeySession.update"),this.b=new s.Of;try{this.c.update(s.N(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.F("PatchedMediaKeysApple.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.$e(this.f)}catch(Lo){this.closed.reject(Lo)}return this.closed},s.r.remove=function(){return s.F("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error(s.Aa))},s.r.Vg=function(e){s.F("PatchedMediaKeysApple.onWebkitKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new s.I(s.Sc,{messageType:void 0==this.keyStatuses.a?s.Kc:s.Jc,message:e.message.buffer}))},s.r.Tg=function(e){s.F("PatchedMediaKeysApple.onWebkitKeyAdded_",e),this.b&&(Ri(this,s.Rd),this.b.resolve(),this.b=null)},s.r.Ug=function(e){if(s.F("PatchedMediaKeysApple.onWebkitKeyError_",e),e=Error("EME PatchedMediaKeysApple key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ri(this,s.ed);break;default:Ri(this,s.Hc)}},s.r=Ni.prototype,s.r.forEach=function(e){this.a&&e(this.a,To)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=To;return!(!this.a||!s.gi(s.N(e),s.N(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.Ak((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(s.Se("Using Apple-prefixed EME"),To=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ai,e.MediaKeys=Ii,e.MediaKeySystemAccess=ki,navigator.requestMediaKeySystemAccess=xi)})),s.Ak((function(){if(s.F("VideoPlayPromise.install"),e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e["catch"]((function(){})),e}}})),Oi.prototype.createSession=function(){},Oi.prototype.setServerCertificate=function(){},_i.prototype.getConfiguration=function(){},_i.prototype.createMediaKeys=function(){},s.Ak((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.Se("EME not available."),navigator.requestMediaKeySystemAccess=Di,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Li,e.MediaKeys=Oi,e.MediaKeySystemAccess=_i)}),-10),s.Ak((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,J in document||(Object.defineProperty(document,J,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ui),document.addEventListener("webkitfullscreenerror",Ui),document.addEventListener("mozfullscreenchange",Ui),document.addEventListener("mozfullscreenerror",Ui),document.addEventListener("MSFullscreenChange",Ui),document.addEventListener("MSFullscreenError",Ui)}})),s.Ak((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(s.F("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Ki,document.exitPictureInPicture=Bi,document.addEventListener("webkitpresentationmodechanged",ji,!0))}})),Fi.prototype.Cb=function(e){var t=e.cue;if(t){var n=t.text;e=this.b;var r=this.f,i=this.c,o={bottom:"",display:Ot(),justifyContent:"",opacity:"0",top:""},u={display:Ot(),justifyContent:"",backgroundColor:"",left:"",marginLeft:"",paddingLeft:"",paddingRight:"",textAlign:""},c={display:"",left:"",marginLeft:"",marginRight:"",maxWidth:"",maxHeight:"",position:"",wordWrap:"",right:"",textAlign:"",transform:"",transformOrigin:"",writingMode:"",whiteSpace:""},l=t.vertical;"lr"===l&&(n=n.split("<br>"),n.reverse(),n=n.join("<br>")),l&&(c.maxHeight="none",c.position="absolute",c.transform="rotate(90deg)",c.transformOrigin="left top",c.whiteSpace="nowrap",u.backgroundColor="rgba(0,0,0,0)"),i.innerHTML=n.replace(/\n/g,"<br/>"),l=Lt(i),Br(e,o),Br(r,u),Br(i,c),l=l.height;var f=Fr(t.align),d=t.position;if(t.vertical&&(d=t.line,f=t.lineAlign),a(d)!==s.Wc?(t.vertical&&!f&&(f=Fr(t.align)),f||(f=s.$b),f===s.$b?d=50:f===s.yd?d=0:f===s.xc&&(d=100)):f||(f=s.yd),t.vertical){Br(e,o),Br(r,u),Br(i,c);var h=Lt(i);h=h.height+h.marginTop+h.marginBottom,f===s.$b?h/=2:f===s.xc&&(h=0),u.display="block",u.marginLeft=h+"px",u.left=d+"%"}else f===s.$b?50>d?u.paddingRight=100-2*d+"%":50<d&&(u.paddingLeft=2*d-100+"%"):f===s.yd?(u.paddingLeft=d+"%",u.justifyContent="flex-start",c.wordWrap="break-word"):f===s.xc&&(u.paddingRight=100-d+"%",u.justifyContent="flex-end",c.wordWrap="break-word");d=t.line,t.vertical&&(d=t.position),a(d)!==s.Wc&&(d=t.vertical?0:100),Br(e,o),Br(r,u),Br(i,c),f=t.vertical,h=Lt(e.parentElement);var p=Lt(e),g=Lt(i);if(f){var m=g.width;o.display="block",o.marginLeft=g.height+g.marginTop+g.marginBottom}else m=g.height,o.display=Ot(),o.justifyContent="flex-start";g=100*(h.height-p.marginBottom-m)/h.height,t.snapToLines&&!f&&(l=parseInt((h.height-p.marginBottom)/(l/((n.split("<br>")||[]).length||1)),10)||16,0>d?(d=Math.abs(d)-1,d=l-d+1):1>d&&(d=1),0<d&&--d,d=100*d/l),d=Math.max(0,Math.min(d,100)),o.top=d/100*g-5+"%",t=Fr(t.align),t===s.$b?c.textAlign=s.$b:t===s.xc&&(c.textAlign="right"),Br(e,o),Br(r,u),Br(i,c),Br(e,{opacity:""})}},Fi.prototype.Bb=function(){this.c.innerHTML="",s.Tg(this.b,"clpp-show-flex")},Fi.prototype.dispose=function(){this.a.off(s.pc,this.Cb),this.a.off(s.oc,this.Bb)},Fi.prototype.onCueHidden=Fi.prototype.Bb,Fi.prototype.onCueShown=Fi.prototype.Cb,Vi.prototype.canPlay=function(t){var n=e.hasOwnProperty("TextTrackCue");t=t.enableEnhancedSubtitleManager||!1;var r=s.Ig(),i=r.osVersion;return i=2<=i.major&&void 0!==i.minor&&3<=i.minor,r=r.os===Ea&&i,n&&t||r},Vi.prototype.create=function(e){return new Fi(e)},Vi.prototype.create=Vi.prototype.create,Vi.prototype.canPlay=Vi.prototype.canPlay,kn(new Vi),s.jn.prototype.f=function(){return this.keyInfo},s.kn.prototype.getPosition=function(){return this.position},s.kn.prototype.f=function(){return this.keyInfo},s.r=s.ln.prototype,s.r.destroy=function(){return this.a=null,Promise.resolve()},s.r.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},s.r.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},s.r.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},s.r.Pb=function(e,t){var n=e-this.a[0].position;if(0<=n&&n<this.a.length)for(this.a[n].endTime+=t,n+=1;n<this.a.length;++n)this.a[n].startTime+=t,this.a[n].endTime+=t},s.ln.prototype.adjust=s.ln.prototype.Pb,s.ln.prototype.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime},s.ln.prototype.getDuration=s.ln.prototype.getDuration,s.ln.prototype.Va=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],a=e[r];i.startTime<a.startTime?(t.push(i),n++):(i.startTime>a.startTime?0==n?t.push(a):s.C("Refusing to rewrite original references on update!"):(.1<Math.abs(i.endTime-a.endTime)?t.push(new s.kn(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=e[r++],i=new s.kn(n++,i.startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},s.ln.prototype.replace=function(e){this.a=e},s.r=s.nn.prototype,s.r.getDuration=function(){return this.c},s.r.bb=function(e){this.c=e},s.r.getPresentationStartTime=function(){return this.h},s.r.offset=function(e){null!=this.g&&(this.g+=e),null!=this.f&&(this.f+=e)},s.r.isLive=function(){return 1/0==this.c&&!this.b},s.tn.prototype.onContentWillLoad=function(){return Promise.resolve()},s.tn.prototype.onContentLoaded=function(e,t){for(var n=1;n<arguments.length;++n);return Promise.resolve()},s.tn.prototype.onPlayerWillDestroy=function(){},s.tn.prototype.onPlayerWillRelease=function(){}}).call(o,this),o.clpp._=s,e.exports?e.exports=o.clpp:(i=function(){return o.clpp}.call(t,n,t,e),void 0===i||(e.exports=i))})()}).call(this,n("c8ba"))},"3fcc":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").map,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"45fc":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").some,a=n("a640"),o=n("ae40"),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),u=n("14c3");r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this);if(!o.global)return u(o,c);var l=o.unicode;o.lastIndex=0;var f,d=[],h=0;while(null!==(f=u(o,c))){var p=String(f[0]);d[h]=p,""===p&&(o.lastIndex=s(c,a(o.lastIndex),l)),h++}return 0===h?null:d}]}))},"4d60":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"assets"}},[n("section",{staticClass:"section"},[n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Purchased Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMoviePurchases,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Rented Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMovieRentals,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.movies,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - TV Shows")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.series,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("router-view")],1)])},i=[],a=(n("4de4"),n("5530")),o=n("2f62"),s={name:"Assets",data:function(){return{wishlist:{},librarylist:{},movieRentals:[]}},computed:Object(o["c"])(["getWishList","getMovieRentals","getMoviePurchases"]),created:function(){var e=JSON.parse(localStorage.getItem("authData"));this.fetchWishList({authData:e}),this.fetchMovieRentals({authData:e})},$route:{immediate:!0,handler:function(e){this.showModal=e.meta&&e.meta.showModal}},methods:Object(a["a"])({filterImage:function(e){var t=e.filter((function(e){return"SLICK"===e.type}));return t}},Object(o["b"])(["fetchWishList","fetchMovieRentals"]))},u=s,c=(n("6993"),n("2877")),l=Object(c["a"])(u,r,i,!1,null,"31248d33",null);t["default"]=l.exports},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),u=n("8418"),c=n("35a1");e.exports=function(e){var t,n,l,f,d,h,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=c(p),w=0;if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),void 0==y||g==Array&&o(y))for(t=s(p.length),n=new g(t);t>w;w++)h=b?v(p[w],w):p[w],u(n,w,h);else for(f=y.call(p),d=f.next,n=new g;!(l=d.call(f)).done;w++)h=b?a(f,v,[l.value,w],!0):l.value,u(n,w,h);return n.length=w,n}},"4eb8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"watch"},[n("div",{staticClass:"poster",style:"background-image: url("+e.posterImg+");"}),n("div",{staticClass:"overlay"},[n("div",{staticClass:"backbutton"},[n("arrow-left-icon",{staticClass:"icons",attrs:{size:"2x"},on:{click:function(t){return e.$router.push({path:"/assets"})}}})],1),n("div",{staticClass:"is-size-4 has-text-left title"},[e._v(" "+e._s(e.title)+" ")]),n("div",{staticClass:"is-size-6 has-text-left error has-text-danger"},[e._v(" "+e._s(e.errorTitle)+" ")])]),n("video",{staticClass:"video",attrs:{id:"player",crossOrigin:"anonymous",poster:e.posterImg,controls:""}})])},i=[],a=(n("99af"),n("4de4"),n("d3b7"),n("5530")),o=(n("96cf"),n("1da1")),s=n("3f2b"),u=n.n(s);n("5719"),n("d570"),n("78fe"),n("c1c5");function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var l="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function f(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(l(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return l(t)}}function d(e){this.message=e}function h(e,t){if("string"!=typeof e)throw new d("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(f(e.split(".")[n]))}catch(e){throw new d("Invalid token specified: "+e.message)}}d.prototype=new Error,d.prototype.name="InvalidTokenError";var p=h,g=n("92fa"),m=n.n(g),v={name:"ArrowLeftIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",m()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-arrow-left"},t.data]),[e("line",{attrs:{x1:"19",y1:"12",x2:"5",y2:"12"}}),e("polyline",{attrs:{points:"12 19 5 12 12 5"}})])}},b={components:{ArrowLeftIcon:v},props:["embedCode","posterImg"],data:function(){return{currentTime:null,lastPing:-1,title:"",errorTitle:"",platform:"",pingInterval:300,eventNumber:1,duration:0,firstPlay:!0,player:null,profileRank:{uhd:1,fhd:2,hd:3,sd:4},envConfig:{prod:{playerInit:"ttvbo.play.cf.ap-southeast-2-prod.vmnd.tv",playService:"ttvbo.mediaservices.com.au",drmPlatform:"DRMtoday"},preprod:{playerInit:"ttvbo.play.cf.ap-southeast-2-preprod.vmnd.tv",playService:"ttvbo.testmediaservices.com.au",drmPlatform:"DRMtoday_STAGING"}},drmType:"drmtoday.widevine",contentType:"DASH-H264"}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.platform=localStorage.getItem("platform")||"preprod",e.authData=JSON.parse(localStorage.getItem("authData")),n=void 0!==window.safari,n&&(e.drmType="drmtoday.fairplay",e.contentType="HLS"),r=e.$parent.clPlayerLicense,e.player=new u.a.Player("player",{license:r}),e.player.use(u.a.dash.DashComponent),e.player.use(u.a.hls.HlsComponent),e.player.use(u.a.crypto.CryptoComponent),console.log("watch initiated"),t.prev=10,t.next=13,e.initatePlayer();case 13:i=t.sent,o=e.getPlayerOptions(i),console.log(o),e.player.load(Object(a["a"])(Object(a["a"])({},o),{},{autoplay:!0})),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](10),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[10,19]])})))()},beforeDestroy:function(){},methods:{getPlayerOptions:function(e){var t,n,r,i=this;if(e.data[0].isDrmProtected){var a=e.data[0].alternativeStreams.filter((function(e){return e.drmProxyType===i.drmType}))[0];t=a.manifest.uri,n=a.mimeType;var o=a.drm.headers,s=o["x-dt-auth-token"],u=JSON.parse(p(s).optData);r={source:{url:t,type:n},drm:{env:this.envConfig[this.platform].drmPlatform,customData:{userId:u.userId,sessionId:u.sessionId,merchant:u.merchant,authToken:s,assetId:"ttvbo-".concat(e.data[0].assetId)}}}}else t=e.data[0].alternativeStreams[0].manifest.uri,n=e.data[0].alternativeStreams[0].mimeType,r={source:{url:t,type:n}};return r},initatePlayer:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getOoyalaToken({embedCode:e.$route.params.embedCode});case 3:return n=t.sent,r=n.embedToken,t.next=7,e.getJWT({OoyalaToken:r,embedCode:e.$route.params.embedCode,deviceType:"TTV",deviceModel:"Model",osVersion:"OS Version",security:{playready:{level:"default"}}});case 7:return i=t.sent,a=i.token,o=i.assetId,t.next=12,e.getPlayUrl({token:a,assetId:o});case 12:return s=t.sent,e.title=s["data"][0].assetTitle,s["data"][0].alternativeStreams.push(s["data"][0].recommendedStream),s["data"][0].alternativeStreams.sort(e.compareProfileRank),t.abrupt("return",s);case 19:t.prev=19,t.t0=t["catch"](0),e.errorTitle="ASSET NOT FOUND";case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},getPlayUrl:function(e){var t=this,n=e.assetId,r=e.token;return new Promise((function(e,i){var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer ".concat(r));var o=JSON.stringify({device:{label:"SANDPIT",udid:t.$parent.authData.uuid}}),s={method:"POST",headers:a,body:o,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playerInit,"/api/v2/asset/").concat(n,"/play?extraFields=alternativeStreams&contentType=").concat(t.contentType),s).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return i(e)}))}))},getJWT:function(e){var t=this;return new Promise((function(n,r){var i=new Headers;i.append("Content-Type","application/json");var a=JSON.stringify(e),o={method:"POST",headers:i,body:a,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playService,"/users/").concat(t.authData.uuid,"/playbackInit"),o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},compareProfileRank:function(e,t){return this.profileRank[e.urlProfile]-this.profileRank[t.urlProfile]},getOoyalaToken:function(e){var t=this,n=e.embedCode;return new Promise((function(e,r){var i=new Headers;i.append("ovs-token","".concat(t.$parent.authData.access_token)),i.append("Content-Type","application/json"),i.append("ovs-uuid","".concat(t.authData.uuid)),i.append("bpm-environment","bpm");var a={method:"GET",headers:i,redirect:"follow"};fetch("https://hfozhlnmfh.execute-api.ap-southeast-2.amazonaws.com/v2/bpm/ovs/users/".concat(t.authData.uuid,"/ooyalaToken?deviceType=ios&embedCode=").concat(n),a).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return r(e)}))}))}}},y=b,w=(n("1b05"),n("2877")),S=Object(w["a"])(y,r,i,!1,null,null,null);t["default"]=S.exports},"4ec9":function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},5377:function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("ad6d"),o=n("9f7f").UNSUPPORTED_Y;r&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5719:function(e,t,n){var r,i;n("99af"),n("a623"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("b0c0"),n("4ec9"),n("a9e3"),n("aff5"),n("b680"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("2ca0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t,n,r,i,o,c,l,f,d,h,p,g,m,v,b,y,w,S,T,E,x,k,A,I,M,C,P,R,N,D,L,O,_,U,j,K,B,F,V,z,q,H,W,G,J,X,Y,Q,$,Z,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ge,me,ve,be,ye,we,Se,Te,Ee,xe,ke,Ae,Ie,Me,Ce,Pe,Re,Ne,De,Le,Oe,_e,Ue,je,Ke,Be,Fe,Ve,ze,qe,He,We,Ge,Je,Xe,Ye,Qe,$e,Ze,et,tt,nt,rt,it,at,ot,st,ut,ct,lt,ft,dt,ht,pt,gt,mt,vt,bt,yt,wt,St,Tt,Et,xt,kt,At,It,Mt,Ct,Pt,Rt,Nt,Dt,Lt,Ot,_t,Ut,jt,Kt,Bt,Ft,Vt,zt,qt,Ht,Wt,Gt,Jt,Xt,Yt,Qt,$t,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,fn,dn,hn,pn,gn,mn,vn,bn,yn,wn,Sn,Tn,En,xn,kn,An,In,Mn,Cn,Pn,Rn,Nn,Dn,Ln,On,_n,Un,jn,Kn,Bn,Fn,Vn,zn,qn,Hn,Wn,Gn,Jn,Xn,Yn,Qn,$n,Zn,er,tr,nr,rr,ir,ar,or,sr,ur,cr,lr,fr,dr,hr,pr,gr,mr,vr,br,yr,wr,Sr,Tr,Er,xr,kr,Ar,Ir,Mr,Cr,Pr,Rr,Nr,Dr,Lr,Or,_r,Ur,jr;t=" buffer",n=" is being or has been set up",r="Cannot find matching variant",i="Jumping forward",o="MediaSource threw QuotaExceededError:",s.Yq="No stream with id",c="Not a persistent session.",l="PatchedMediaKeysWebkit.MediaKeys.findSession_",s.ar="Player is in ERROR state and can not switch to ",f="Shaka Player TextTrack",d="bufferBehind=",h="bufferedBehind=",p="calling onCanSwitch()...",g="clpp.mse.Player",m="currentPeriod.startTime=",s.hr="onChooseStreams_",v="output-restricted",b="presentationTime=",y="reference.endTime=",w="reference.startTime=",S="switch: Stream ",T="webkit-org.w3.clearkey",E=function(e){for(var t=e.a;s.Uh(e)&&0!==e.b.getUint8(e.a);)e.a+=1;return t=e.b.buffer.slice(t,e.a),e.a+=1,s.mf(t)},x=function(e,t){return!(!s.mg("Edge/")&&!s.mg("Edg/"))||e.w.has(t)},k=function(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!x(e,s.pi(n.mimeType,n.codecs))||r&&r.encrypted&&!x(e,s.pi(r.mimeType,r.codecs)))return!1;var i=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))},A=function(e,t,n,r){return Promise.resolve().then((function(){if(e.i&&e.c)if(null==n||null==r)e.i.parseInit(s.N(t));else{var i={periodStart:e.l,segmentStart:n,segmentEnd:r};i=e.i.parseMedia(s.N(t),i).filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(i),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(r,e.g)}}))},I=function(e,t,n,r,i){var a=n+" "+r,o=new Map;t=s.v(t);for(var u=t.next();!u.done;u=t.next()){var c=u.value;u=c.stream,o.has(u)||o.set(u,new Map),o.get(u).has(a)||o.get(u).set(a,[]),c.startTime+=i,c.endTime+=i,c.startTime>=e.f&&c.startTime<e.g&&(c=new s.Hl(c.startTime,c.endTime,c.text),o.get(u).get(a).push(c),u==e.j&&e.c.append([c]))}for(i=s.v(o.keys()),a=i.next();!a.done;a=i.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),t=s.v(o.get(a).keys()),u=t.next();!u.done;u=t.next())u=u.value,c=o.get(a).get(u),e.h.get(a).set(u,c);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.g))},M=function(e){var t=e.isLive()||1/0!=e.c&&!e.b?e.Xd:0;return Math.max(0,s.rn(e)-t)},C=function(e,t){var n=Math.max(e.g,0);if(1/0==e.Fb)return n;var r=s.rn(e)-e.Fb;return r=Math.min(r+t,M(e)),Math.max(n,r)},P=function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return n;return""},R=function(e,t){var n=new s.Le(void 0,void 0===t?"total":t);return e.forEach((function(e){n.a.push(e)})),n.length=e.length,n},N=function(e){var t=[e.mimeType];return s.Jn.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")},D=function(e,t){return e.start-t.start},s.zr=function(e){this.h=e,this.log=new s.E("clpp.renditions"),this.b=[],this.g=this.a=null,this.f=!1},L=function(e){var t=[];return e.b.forEach((function(e){t.push({start:e.start,end:e.end,width:e.width,height:e.height,bandwidth:e.bandwidth,rendition:e.rendition})})),t},O=function(e){e.a&&e.a.trigger(new s.I(s.Kb))},_=function(e,t,n,r){var i=e.h?e.h(r):null;i||e.log.debug("Unable to resolve rendition for id",r),r={start:t,end:n,rendition:i,width:i?i.width:0,height:i?i.height:0,bandwidth:i?i.bandwidth:0};var a=e.b.find((function(e){return e.start===t&&e.end===n}));a?a.rendition=i:(e.b.forEach((function(e){t>=e.start&&t<e.end?e.end=t:n>=e.start&&n<e.end&&(e.start=n)})),e.b.push(r),e.b.sort(D)),U(e),e.c(),e.a&&e.a.trigger(new s.I(s.$d))},U=function(e){if(e.a){for(var t=!1,n={},r=0;r<e.b.length;r++){var i=e.b[r],a=i.width+"x"+i.height,o=n[a];if(o&&o!==i.bandwidth){t=!0;break}n[a]=i.bandwidth}t&&!e.f?(e.log.debug("Tracking timeupdates"),e.a.on(s.Md,e.c,e),e.f=!0):!t&&e.f&&(e.log.debug("Stop tracking timeupdates"),e.a.off(s.Md,e.c),e.f=!1)}},j=function(e,t,n){e.b=e.b.filter((function(e){return!(e.end<=t||e.start>=n)&&(e.start=Math.max(e.start,t),e.end=Math.min(e.end,n),!0)})),e.a&&e.a.trigger(new s.I(s.$d))},K=function(e,t){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},B=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n},F=function(e,t){e=s.vl(e),t=s.vl(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length},V=function(e,t){return e=s.vl(e),t=s.vl(t),e.split("-")[0]==t.split("-")[0]},z=function(e){return e.language?s.vl(e.language):e.audio&&e.audio.language?s.vl(e.audio.language):e.video&&e.video.language?s.vl(e.video.language):s.Od},q=function(e,t){for(var n=s.vl(e),r=new Set,i=s.v(t),a=i.next();!a.done;a=i.next())r.add(s.vl(a.value));for(i=s.v(r),a=i.next();!a.done;a=i.next())if(a=a.value,a==n)return a;for(i=s.v(r),a=i.next();!a.done;a=i.next())if(a=a.value,F(a,n))return a;for(i=s.v(r),a=i.next();!a.done;a=i.next()){var o=a=a.value,u=n;if(o=s.vl(o),u=s.vl(u),o=o.split("-"),u=u.split("-"),2==o.length&&2==u.length&&o[0]==u[0])return a}for(r=s.v(r),a=r.next();!a.done;a=r.next())if(i=a.value,F(n,i))return i;return null},H=function(){this.b=function(){},this.a=new Set},W=function(e,t){e.b=t},G=function(e){var t=this;this.b=e,this.a=new Set,this.c=new s.sg((function(){J(t,!1)})).za(.25)},J=function(e,t){for(var n=s.v(e.a),r=n.next();!r.done;r=n.next())r.value.h(e.b.currentTime,t)},X=function(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{Lb:null,Kb:2,vb:function(e,n){return t.a(e,n)}},{Lb:1,Kb:2,vb:function(e,n){return t.a(e,n)}},{Lb:3,Kb:2,vb:function(e,n){return t.a(e,n)}},{Lb:2,Kb:1,vb:function(e,n){return t.b(e,n)}},{Lb:2,Kb:3,vb:function(e,n){return t.b(e,n)}},{Lb:1,Kb:3,vb:function(e,n){return t.c(e,n)}},{Lb:3,Kb:1,vb:function(e,n){return t.c(e,n)}}]},Y=function(e,t,n,r){e.a=t,e.b=n,e.c=r},Q=function(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}},s.Sr=function(){},$=function(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0,remux:!1}),this.b=null,this.h=[],this.g=[],this.c=[],this.f=!1,this.a.on("data",this.j.bind(this)),this.a.on("done",this.i.bind(this))},Z=function(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1]&&"aac"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(te(n,t))||MediaSource.isTypeSupported(t.replace("aac",s.Vc)):MediaSource.isTypeSupported(te(s.Ib,t))||MediaSource.isTypeSupported(t.replace("aac",s.Vc))||MediaSource.isTypeSupported(te(s.Xd,t)))},ee=function(e){try{var t=e.match(/"(.*?)"/)[0].replace(/"/g,"").split(","),n=[];return 1<t.length&&t.forEach((function(e){e.startsWith("avc")?n.push('video/mp4;codecs="'+e+'"'):e.startsWith("mp4a")&&n.push('audio/mp4;codecs="'+e+'"')})),0<n.length?n:[e]}catch(r){return[e]}},te=function(e,t){var n=t.replace("mp2t",s.Vc);e==s.Ib&&(n=n.replace(s.Xd,s.Ib));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n},ne=function(e,t){e.f=!0,e.b=new s.Of,e.h=[],e.g=[],e.c=[];var n=s.N(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new s.K(s.M,3,3018)),e.b},s.Zr=function(e,t,n,r,i){this.g=e,this.h=n,this.c={},this.A=!1,this.b=null,this.f={},this.j=new s.Xe,this.w=!1,this.l={},this.u=t,this.m=r,this.C=void 0===i?1:i,this.v=new s.Of,this.o={},e=this.v,t=new MediaSource,this.j.one(t,"sourceopen",e.resolve),this.g.src=Kr(t),this.i=t,this.a=new s.E("clpp.mse.MediaSourceEngine")},re=function(e){var t=s.pi(e.mimeType,e.codecs),n=N(e);return s.Ml(t)||MediaSource.isTypeSupported(n)||Z(t,e.type)},ie=function(e,t){var n=!1,r=!1;t.forEach((function(t){var i=t.split(";")[0].split("/")[0];i=i===s.Ib?s.Ib:i===s.k?s.k:s.Xd,i===s.Ib?n=!0:i===s.Xd&&(r=!0),t=e.i.addSourceBuffer(t),e.j.on(t,s.zc,e.Lg.bind(e,i)),e.j.on(t,"updateend",e.$b.bind(e,i)),e.c[i]=t,e.f[i]=[],e.o[i]=!1})),e.A=n&&r},ae=function(e,t){e.b||(e.b=new s.Kl(e.h)),t!=s.Ab&&(e.b.i=new s.Ll[t])},oe=function(e){var t={};t.total=new s.Le(e.g.buffered,"total"),t.audio=se(e,s.Ib),t.video=se(e,s.Xd);var n=[];return e.b&&(n=[{start:e.b.Ja(),end:e.b.aa()}]),t.text=R(n,s.k),t},se=function(e,t){try{return new s.Le(e.c[t].buffered,t)}catch(n){return t in e.c&&e.a.error("failed to get buffered range for "+t,n),null}},ue=function(t,n,r,i,a,o,u,c){c=void 0!==c&&c;var l=t.c[n],f=-1,d=0;return l&&l.buffered&&(d=l.buffered.length),n===s.Xd&&null!==i&&null!==a&&c&&(f=0<d?l.buffered.end(d-1):-1),n==s.k?r=A(t.b,r,i,a):t.l[n]?r=ne(t.l[n],r).then((function(e){t.b||ae(t,s.Fd),e.captions&&I(t.b,e.captions,i,a,t.c.video.timestampOffset);var n=[];return 0<e.audio.byteLength&&t.c.audio&&n.push(fe(t,s.Ib,t.ud.bind(t,s.Ib,e.audio.buffer))),0<e.video.byteLength&&t.c.video&&n.push(fe(t,s.Xd,t.ud.bind(t,s.Xd,e.video.buffer))),Promise.all(n)})):(o&&e.muxjs&&(t.b||ae(t,s.Fd),null==i&&null==a?t.u.init(r):t.u.c(r,(function(e){e.length&&I(t.b,e,i,a,t.c.video.timestampOffset)}))),r=fe(t,n,t.ud.bind(t,n,r))),r.then((function(){if(n!==s.Xd||null===i||null===a||c){if(n===s.Ib&&null!==i&&null!==a)O(t.m);else if(n===s.Xd&&null!==i&&null!==a&&c){var e=l.buffered.length,r=0<e?l.buffered.end(e-1):-1;0>f&&0<e&&(f=l.buffered.start(0)),0<=f&&0<r&&_(t.m,f,r,u)}}else _(t.m,i,a,u);if(!t.o[n]&&l&&1===l.buffered.length){e=l.buffered.start(0);var o=i-e;if(Math.abs(o)>t.C&&0===l.timestampOffset)return t.a.warn("Detected a delta of "+o+" between media times and segment times for "+n+". The segment start time is "+i+" and the media start time is "+e+". Adjusting timestampOffset."),e=fe(t,n,(function(){t.yf(n,o)})),r=fe(t,n,t.Te.bind(t,n,!1)),Promise.all([e,r])}null!==i&&null!==a&&(t.o[n]=!0)}))["catch"]((function(e){throw e}))},ce=function(e,t,n,r,i){return t==s.k?(e.b.l=n,e=e.b,e.f=r,e.g=i,Promise.resolve()):(t=le(e,t,n,r,i),e.A&&(t=t.concat(le(e,s.Ib,n,r,i))),Promise.all(t))},le=function(e,t,n,r,i){return[fe(e,t,e.Ef.bind(e,t)),fe(e,t,e.yf.bind(e,t,n)),fe(e,t,e.Pi.bind(e,t,r,i))]},fe=function(e,t,n){return e.w?Promise.reject():(n={start:n,p:new s.Of},e.f[t].push(n),1===e.f[t].length&&de(e,t),n.p)},de=function(e,t){var n=e.f[t][0];if(n)try{e.a.debug("Starting next operation for "+t),n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new s.K(s.M,3,3017,{type:t})):n.p.reject(new s.K(s.M,3,3015,{mediaError:r})),pe(e,t)}else e.a.debug("No more scheduled operations for "+t)},he=function(e,t){if(e.w)return Promise.reject();var n,r=[];for(n in e.c){var i=new s.Of,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.f[n].push(a),r.push(i),1==e.f[n].length&&a.start()}return Promise.all(r).then((function(){try{t()}catch(i){var n=Promise.reject(new s.K(s.M,3,3015,{mediaError:i}))}for(var r in e.c)pe(e,r);return n}),(function(){return Promise.reject()}))},pe=function(e,t){e.f[t].shift(),de(e,t)},ge=function(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))},me=function(e,t,n){var r=!1;return e.forEach((function(e){var i=e.allowedByApplication;e.allowedByApplication=ge(e,t,n),i!=e.allowedByApplication&&(r=!0)})),r},ve=function(e,t,n,r){r.variants=r.variants.filter((function(r){if(e&&e.M&&!k(e,r))return s.F("Dropping variant - not compatible with key system",r),!1;var i=r.audio;return r=r.video,i&&!re(i)?(s.F("Dropping variant - audio not compatible with platform",Ae(i)),!1):r&&!re(r)?(s.F("Dropping variant - video not compatible with platform",Ae(r)),!1):i&&t&&!be(i,t)?(s.F("Droping variant - not compatible with active audio","active audio",Ae(t),"variant.audio",Ae(i)),!1):!(r&&n&&!be(r,n))||(s.F("Droping variant - not compatible with active video","active video",Ae(n),"variant.video",Ae(r)),!1)})),r.textStreams=r.textStreams.filter((function(e){var t=s.Ml(s.pi(e.mimeType,e.codecs));return t||s.F("Dropping text stream. Is not supported by the platform.",e),t}))},be=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},ye=function(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=n&&n.mimeType||null,s=t&&t.mimeType||null,u=[];t&&u.push(t.kind),n&&u.push(n.kind),u=u[0]||null;var c=new Set;return t&&t.roles.forEach((function(e){return c.add(e)})),n&&n.roles.forEach((function(e){return c.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:u,width:null,height:null,frameRate:null,mimeType:o,audioMimeType:s,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(c),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e},we=function(e){return{id:e.id,active:!1,type:s.k,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,audioMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}},Se=function(e){return e.allowedByApplication&&e.allowedByKeySystem},Te=function(e,t){var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map;n=s.v(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var a=i.audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return n=Array.from(r.keys()),0==n.length?e:(i=n.filter((function(e){return e<=t})),i.length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n)))},s.vs=function(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==a})),t){var o=q(s.vl(t),e.map((function(e){return e.language})));o&&(r=e.filter((function(e){return s.vl(e.language)==o})))}if(n){if(e=Ee(r,n),e.length)return e;s.C("No exact match for the text role could be found.")}else if(e=r.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=r.map((function(e){return e.roles})).reduce(s.mi.wd,[]),e.length?Ee(r,e[0]):r},Ee=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},xe=function(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null},ke=function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t},Ae=function(e){return e.type==s.Ib?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount:e.type==s.Xd?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},Ie=function(e,t){var n=String(s.tj++);return n=new s.nj(n,e),n.mimeType=s.pj(t.mimeType),e!==s.R&&e!==s.S||(n.label=s.pj(t.label),n.language=s.pj(t.language)),e===s.qj?(n.frameRate=t.frameRate,n.roles=t.roles):e===s.S?(n.channelsCount=t.channelsCount,n.roles=t.audioRoles||[],n.mimeType=s.pj(t.audioMimeType)):(n.kind=s.pj(t.kind),n.roles=t.roles),n},Me=function(e,t,n){var r=new s.oj(e===s.qj?""+t.videoId:e===s.S?""+t.audioId:""+t.id,n);switch(e){case s.qj:r.codec=s.pj(t.videoCodec),r.bandwidth=t.videoBandwidth||t.bandwidth,r.width=t.width,r.height=t.height,r.originalId=t.originalVideoId;break;case s.S:r.codec=s.pj(t.audioCodec),r.bandwidth=t.audioBandwidth||t.bandwidth,r.originalId=t.originalAudioId;break;default:r.codec=s.pj(t.codecs),r.originalId=t.originalTextId}return(e=n.renditions.find((function(e){return s.J.ua(e,r,null,["id","track"])})))||n.renditions.push(r),e||r},Ce=function(e,t){var n=e.reduce((function(e,n){return t===s.qj?null===n.videoId||e[n.videoId]&&!n.active||(e[n.videoId]=n):t===s.S&&(null===n.audioId||e[n.audioId]&&!n.active||(e[n.audioId]=n)),e}),{});return Object.values(n).sort((function(e,t){return e.id-t.id}))},Pe=function(e,t){if(void 0!==t&&null!==t){var n=e.filter((function(e){return e.audio&&e.audio.id===t}));if(0<n.length)return n}return e},Re=function(t,n){for(var r in n=void 0===n?{}:n,n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1},Ne=function(){this.h=new s.Ue,this.j=this},De=function(e){var t=[];e=s.v(e);for(var n=e.next();!n.done;n=e.next()){n=s.v(n.value.variants);for(var r=n.next();!r.done;r=n.next())t.push(r.value)}return t},Le=function(e,t){for(var n=null,r=s.v(e),i=r.next();!i.done;i=r.next())i=i.value,t>=i.startTime&&(n=i);return n},Oe=function(){this.b=new s.rl(2),this.c=new s.rl(5),this.a=0},_e=function(e,t){return 128e3>e.a?t:Math.min(s.tl(e.b),s.tl(e.c))},s.Is=function(){this.b=new s.E("clpp.abr"),this.i=null,this.f=!1,this.c=new Oe,this.g=[],this.j=!1,this.a=this.h=null},Ue=function(e,t){return e&&(t=t.filter((function(t){return ge(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},je=function(){this.f=new s.E("clpp.mse.TrackManager"),this.a=null,this.g=[],this.b=new Map,this.c=new Map},Ke=function(e,t){return e.g.filter((function(e){return e.type===t}))},Be=function(e,t){var n=e.b.get(t)||null;return n&&n.track},Fe=function(e,t,n){n&&Be(e,n.type)===n||ze(e,t,n&&n.renditions[0])},Ve=function(e,t){e.b.set(t.track.type,t),t===(e.c.get(t.track.type)||null)&&e.c.set(t.track.type,null)},ze=function(e,t,n,i){if(i=void 0!==i&&i,e.a&&(e.b.get(t)||null)!==n){var a=e.a;if(n){if(0>e.g.indexOf(n.track))throw Error("Unknown rendition with ID "+n.id);if(t!==n.track.type)throw Error("Types mismatch");if(e.f.debug("Activate rendition type\n          "+t+" with ID: "+n.id),t===s.R){var o=a.U().find((function(e){return e.id==n.id}));o&&(e.c.set(t,n),Ve(e,n),a.trigger(new s.I(s.Id)),Fn(a,!0).then((function(){Un(a,o)}))["catch"]((function(t){e.f.warn("Error while activating track",t)})))}else if(t===s.S)e.c.set(t,n),Kn(a,parseInt(n.id,10));else if(t===s.qj){var u=e.b.get(s.S)||null;if(u){var c=_n(a).filter((function(e){return e.videoId==n.id})),l=c.find((function(e){return e.audioId==u.id}));if(!l){e.f.debug("Unable to find exact variant. Searching for equivalent");var f=u.track.renditions.map((function(e){return e.id})).filter((function(e){return e!==u.id}));l=c.find((function(e){return f.find((function(t){return t==e.audioId}))}))}}else l=_n(a).find((function(e){return e.videoId==n.id}));if(!l)return void e.f.warn(r);e.c.set(t,n),jn(a,l,i)}}else e.f.debug(s.qa+t),Be(e,t)&&(t===s.R?Fn(a,!1).then((function(){e.b.set(t,null),a.trigger(new s.I(s.Id))}))["catch"]((function(t){e.f.warn("Error while de-activating text tracks",t)})):t===s.S?e.f.info("Enabling ABR for audio is not supported"):jn(a,null,i));t===s.S?a.trigger(new s.I(s.Ob)):t===s.qj&&n&&a.trigger(new s.I(s.ae,{details:{width:n.width||0,height:n.height||0,bandwidth:n.bandwidth,track:n.track,abrSelection:!1}}))}},qe=function(e){if(e.a){e.f.debug("Track list change detected, updating track list");var t=[];e.a.U().forEach((function(n){var r=Ie(s.R,n),i=t.find((function(e){return We(e,r)}));r=i||r;var a=Me(s.R,n,r);n.active&&e.b.set(s.R,a),i||t.push(r)})),Bn(e.a)||e.b.set(s.R,null);var n=_n(e.a);He(e,t,n,s.qj),He(e,t,n,s.S),e.g=t}},He=function(e,t,n,r){Ce(n,r).forEach((function(n){var i=Ie(r,n),a=t.find((function(e){return We(e,i)}));i=a||i;var o=Me(r,n,i);n.active&&e.b.set(r,o),a||t.push(i)}))},We=function(e,t){return e.type===t.type&&e.channelsCount===t.channelsCount&&e.frameRate===t.frameRate&&e.kind===t.kind&&e.label===t.label&&e.language===t.language&&e.mimeType===t.mimeType&&K(e.roles,t.roles)},Ge=function(e,t){if(t){e.g.length||qe(e);var n,r=t.type,i=e.b.get(r)||null;r=s.v(Ke(e,r));for(var a=r.next();!a.done&&!(n=a.value.renditions.find((function(e){return e.id==t.id})));a=r.next());n&&i!==n&&Ve(e,n)}},Je=function(){this.a=new Map},Xe=function(e,t){return e.a.has(t)||e.a.set(t,new Ye),e.a.get(t)},Ye=function(){this.text=this.variant=null},Qe=function(e,t){this.b=e,this.a=new Set([e]),t=t||[];for(var n=s.v(t),r=n.next();!r.done;r=n.next())this.add(r.value)},$e=function(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Ze(n,r)&&et(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=e.video,r=t.video,n=!(Ze(n,r)&&et(n.roles,r.roles))),!n},Ze=function(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return s.qi(e)[0]})),r=t.codecs.split(",").map((function(e){return s.qi(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0},et=function(e,t){var n=new Set(e),r=new Set(t);if(n["delete"]("main"),r["delete"]("main"),n.size!=r.size)return!1;n=s.v(n);for(var i=n.next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0},tt=function(e){this.a=e,this.b=new nt(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)},nt=function(e,t,n){this.c=e,this.b=t,this.a=n},rt=function(e,t){var n=s.vl(t),r=q(n,e.map((function(e){return z(e)})));return r?e.filter((function(e){return r==z(e)})):[]},it=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))},at=function(e,t){this.a=Fr,this.b=(new Map).set(Fr,t).set(Br,e)},ot=function(e){this.c=e,this.a=null,this.b=function(){}},st=function(e,t){e.b=t},ut=function(e){var t=this;this.a=e,this.f=!1,this.c=this.a.Cd(),this.b=new s.sg((function(){t.a.Sh(.25*t.c)}))},ct=function(e){e.b.stop();var t=e.f?0:e.c;0<=t?e.a.Cd()!=t&&e.a.xf(t):(e.b.za(.25),0!=e.a.Cd()&&e.a.xf(0))},lt=function(e,t){this.c=e,this.g=ht(e),this.b=e.a.currentTime,this.f=Date.now()/1e3,this.h=t,this.a=function(){}},ft=function(e,t){e.a=t},dt=function(e){this.a=e},ht=function(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r||e>i-.5)){t=!0;break e}}t=!1}return t},pt=function(e,t,n,r,i){var a=this;this.a=e,this.m=t,this.j=n,this.l=i,this.c=new s.Xe,this.i=!1,this.o=e.readyState,this.f=!1,this.b=r,this.h=!1,this.c.on(e,s.be,(function(){return gt(a)})),this.g=new s.sg((function(){gt(a)})).za(.25)},gt=function(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.i)return}else e.i=!1;if(!e.a.paused){e.a.readyState!=e.o&&(e.f=!1,e.o=e.a.readyState);var t=e.j.smallGapLimit,n=e.a.currentTime,r=e.a.buffered;e:{var a=new s.Le(r);if(a.length&&!(1===a.length&&1e-6>a.end(0)-a.start(0)))for(var o=s.mg("Edge/")||s.mg("Edg/")||s.mg("Trident/")||s.ng()||s.mg("CrKey")?.5:.1,u=0;u<a.length;u++)if(a.start(u)>n&&(0===u||a.end(u-1)-n<=o)){a=u;break e}a=null}if(null==a)e.b&&(e=e.b,r=e.c,n=ht(r),r=r.a.currentTime,t=Date.now()/1e3,e.b==r&&e.g==n||(e.f=t,e.b=r,e.g=n),r=t-e.f,r>=e.h&&n&&e.a(e.b,r));else if((0!=a||e.h)&&(o=r.start(a),u=M(e.m),!(o>=u))){u=o-n,t=u<=t;var c=!1;if(!(.001>u)){if(!t&&!e.f){e.f=!0;var l=new s.I("largegap",{detail:{currentTime:n,gapSize:u}});l.cancelable=!0,e.l(l),e.j.jumpLargeGaps&&!l.defaultPrevented?c=!0:s.Se("Ignoring large gap at",n,"size",u)}(t||c)&&(0==a?s.Se(i,u,"seconds because of gap before start time of",o):s.Se(i,u,"seconds because of gap starting at",r.end(a-1),"and ending at",o),e.a.currentTime=o)}}}}},mt=function(e,t,n){this.a=e,this.f=t,this.g=n,this.b=new s.Xe,this.c=new Tt(e),0<e.readyState?wt(this,n):yt(this,n)},vt=function(e){return 0<e.a.readyState?e.a.currentTime:e.g},bt=function(e,t){0<e.a.readyState?Et(e.c,t):yt(e,t)},yt=function(e,t){e.g=t,e.b.off(e.a,s.Pc),e.b.one(e.a,s.Pc,(function(){wt(e,t)}))},wt=function(e,t){.001>Math.abs(e.a.currentTime-t)?St(e):(e.b.one(e.a,s.vd,(function(){St(e)})),Et(e.c,0==e.a.currentTime?t:e.a.currentTime))},St=function(e){e.b.on(e.a,s.vd,(function(){return e.f()}))},Tt=function(e){var t=this;this.b=e,this.h=10,this.g=this.c=this.f=0,this.a=new s.sg((function(){0>=t.f?(s.C(["Failed to move playhead from",t.c,"to",t.g].join(" ")),t.a.stop()):t.b.currentTime!=t.c?t.a.stop():(t.b.currentTime=t.g,t.f--)}))},Et=function(e,t){e.c=e.b.currentTime,e.g=t,e.f=e.h,e.b.currentTime=t,e.a.za(.1)},xt=function(e,t,n,r,i,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.m=t.minBufferTime||0,this.h=n,this.l=i,this.j=null,this.g=new pt(e,t.presentationTimeline,n,Pt(this,e,n),a),this.f=new mt(e,(function(){e:{var e=o.g;e.i=!0,e.h=!1,e.f=!1,e=vt(o.f);var t=Mt(o,e);if(.001<Math.abs(t-e)){var n=(new Date).getTime()/1e3;if(!o.j||o.j<n-1){o.j=n,bt(o.f,t),e=void 0;break e}}o.b.debug("Seek to "+e),o.l(),e=void 0}return e}),At(this,r)),this.i=new s.sg((function(){if(0!=o.c.readyState&&!o.c.paused){var e=o.c.currentTime,t=C(o.a,0),n=M(o.a);3>n-t&&(t=n-3),e<t&&(t=Mt(o,e),o.b.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),o.c.currentTime=t)}})).za(.25),this.b=new s.E("clpp.mse.Playhead")},kt=function(e){var t=vt(e.f);return 0<e.c.readyState&&!e.c.paused?Ct(e,t):t},At=function(e,t){return null==t?t=1/0>e.a.getDuration()?C(e.a,0):M(e.a):0>t&&(t=M(e.a)+t),It(e,Ct(e,t))},It=function(e,t){var n=e.a.getDuration();return t>=n?n-e.h.durationBackoff:t},Mt=function(e,t){var n=new s.Le(e.c.buffered);n=n.xb.bind(n);var r=Math.max(e.m,e.h.rebufferingGoal),i=e.h.safeSeekOffset,a=C(e.a,0),o=M(e.a),u=e.a.getDuration();3>o-a&&(a=o-3);var c=C(e.a,r),l=C(e.a,i);return r=C(e.a,r+i),t>=u?(e.b.debug("Playhead past duration."),It(e,t)):t>o?(e.b.debug("Playhead past end."),o):t<a?n(l)?(e.b.debug("Playhead before start & start is buffered"),l):(e.b.debug("Playhead before start & start is unbuffered"),r):t>=c||n(t)?(e.b.debug("Playhead in safe region or in buffered region."),t):(e.b.debug("Playhead outside safe region & in unbuffered region."),r)},Ct=function(e,t){var n=C(e.a,0);return t<n?n:(n=M(e.a),t>n?n:t)},Pt=function(e,t,n){if(!n.stallEnabled)return null;var r=n.stallSkip;return n=new lt(new dt(t),n.stallThreshold),ft(n,(function(n,i){e.b.debug(["Stall detected at",n,"for",i,"seconds. Seeking forward",r,"seconds."].join(" ")),t.currentTime+=r})),n},s.Mt=function(e,t){this.b=t,this.c=e,this.h=null,this.l=1,this.v=Promise.resolve(),this.i=[],this.j=new Map,this.f=new Map,this.A=this.g=this.m=this.o=!1,this.w=0,this.a=new s.E("clpp.mse.Streaming"),this.u=!1},Rt=function(e){var t=e.f.get(s.Xd);return t||(t=e.f.get(s.Ib))?e.c.periods[t.Na]:null},Nt=function(e){return s.Ot(e,s.Ib)},Dt=function(e){return s.Ot(e,s.Xd)},s.Ot=function(e,t){var n=e.f.get(t);return n?n.gd||n.stream:null},Lt=function(e,t){var n,r,i,a,o,u,c,l,f;return s.z((function(d){switch(d.a){case 1:return n=s.ok,s.x(d,e.b.K.clear(n.TEXT),2);case 2:return e.w++,e.A=!1,r=e.w,i=e.b.K,a=new Map,o=new Set,a.set(n.TEXT,t),o.add(t),s.x(d,i.init(a,!1),3);case 3:return e.g?d["return"]():s.x(d,Vt(e,o),4);case 4:if(e.g)return d["return"]();u=i.h.isTextVisible()||e.h.alwaysStreamText,e.w!=r||e.f.has(n.TEXT)||e.A||!u||(c=e.b.Ka(),l=an(e,c),f=Bt(t,l,0),e.f.set(n.TEXT,f),cn(e,f,0)),s.y(d)}}))},Ot=function(e,t,n,r){t.video&&s.Wt(e,t.video,n,r),t.audio&&s.Wt(e,t.audio,n,r)},s.Wt=function(e,t,n,r){var i=e.f.get(t.type);if(!i&&t.type==s.k&&e.h.ignoreTextStreamFailures)Lt(e,t);else if(i){var a=on(e,t);if(n&&a!=i.Na)e.a.debug("switch: switching to stream in another Period; clearing buffer and changing Periods"),e.f.forEach((function(t){jt(e,t)}));else{i.gd&&(e.a.debug("switch during trick play mode",t),t.trickModeVideo?(i.gd=t,t=t.trickModeVideo,e.a.debug("switch found trick play stream",t)):(i.gd=null,e.a.debug("switch found no special trick play stream")));var o=e.i[a];if(o&&o.cc&&(o=e.j.get(t.id))&&o.cc)if(i.stream!=t){o=e.c.presentationTimeline.getDuration();var u=e.b.Ka();u=Gt(e,i,u),!n&&(i.endOfStream||u>=o)?e.a.debug(S+dn(i)+" already buffered to the end. Not switching."):(t.type==s.k&&ae(e.b.K,s.pi(t.mimeType,t.codecs)),i.stream=t,i.Xc=!0,e.a.debug("switch: switching to Stream "+dn(i)),_t(e,i,a)&&(e.a.info("Aborting current segment request to switch."),i.yc.abort()),n&&(i.gb?i.kd=!0:i.Xa?(i.eb=!0,i.Oc=r,i.kd=!0):(ln(i),un(e,i,!0,r))))}else e.a.debug(S+dn(i)+" already active")}}},_t=function(e,t,n){if(!t.yc)return!1;var r=e.b.Ka(),i=e.b.K.aa(t.type);if(n=(n=Jt(e,t,r,i,n))&&n.a?n.a-n.b:null,null==n)return!1;var a=t.stream.initSegmentReference;return a&&(n+=(a.a?a.a-a.b:null)||0),a=e.b.zd().getBandwidthEstimate(),8*n/a<(null===i?0:i-r)-Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal)||(e=t.yc,e=e.f?e.f.bytesRemaining:-1,0>e||e>n)},Ut=function(e){function t(t){return e.b.K.xb(t,n,r)}var n=e.b.Ka(),r=e.h.smallGapLimit,i=!1,a=an(e,n);if(s.li(e.f.values(),(function(e){return e.Na==a})))for(var o=s.v(e.f.keys()),u=o.next();!u.done;u=o.next())u=u.value,t(u)||(jt(e,e.f.get(u)),i=!0);else s.li(e.f.keys(),t)||(e.a.debug("(all): seeked: unbuffered seek: clearing all buffers"),e.f.forEach((function(t){jt(e,t)})),i=!0);i||e.a.debug("(all): seeked: buffered seek: presentationTime="+n)},jt=function(e,t){var n=dn(t);t.gb?e.a.debug(n,"clear: already clearing the buffer"):t.eb?e.a.debug(n,"clear: already waiting"):t.Xa?(e.a.debug(n,"clear: currently updating"),t.eb=!0,t.Oc=0):null==e.b.K.Ja(t.type)?(e.a.debug(n,"clear: nothing buffered"),null==t.Qa&&cn(e,t,0)):(e.a.debug(n,"clear: handling right now"),ln(t),un(e,t,!1,0))},Kt=function(e,t,n,r,i){var a,o,u,c,l,f,d;return s.z((function(h){return 1==h.a?(a=e.b.Ka(),o=an(e,a),u=s.ok,c=new Map,l=new Set,t&&(c.set(u.AUDIO,t),l.add(t)),n&&(c.set(u.VIDEO,n),l.add(n)),r&&(c.set(u.TEXT,r),l.add(r)),f=e.b.K,d=e.h.forceTransmuxTS,s.x(h,f.init(c,d),2)):3!=h.a?e.g?h["return"]():(zt(e),s.x(h,Vt(e,l),3)):e.g?h["return"]():(c.forEach((function(t,n){if(!e.f.has(n)){var r=Bt(t,o,i);e.f.set(n,r),cn(e,r,0)}})),void s.y(h))}))},Bt=function(e,t,n){return{stream:e,type:e.type,Zb:null,Ma:null,gd:null,Xc:!0,Na:t,endOfStream:!1,Xa:!1,Qa:null,eb:!1,Oc:0,kd:!1,gb:!1,Yd:!1,rc:!1,wf:n||0,yc:null,nc:!1}},Ft=function(e,t){var r=e.i[t];if(r)return e.a.debug("(all) Period "+t+n),r.promise;e.a.debug("(all) setting up Period "+t),r={promise:new s.Of,cc:!1},e.i[t]=r;for(var i=new Set,a=s.v(e.c.periods[t].variants),o=a.next();!o.done;o=a.next())o=o.value,o.video&&i.add(o.video),o.video&&o.video.trickModeVideo&&i.add(o.video.trickModeVideo),o.audio&&i.add(o.audio);for(a=s.v(e.c.periods[t].textStreams),o=a.next();!o.done;o=a.next())i.add(o.value);return e.v=e.v.then((function(){return e.g?null:Vt(e,i)})).then((function(){e.g||(e.i[t].promise.resolve(),e.i[t].cc=!0,e.a.debug("(all) setup Period "+t))}))["catch"]((function(n){e.g||(e.i[t].promise["catch"]((function(){})),e.i[t].promise.reject(),delete e.i[t],e.a.warn("(all) failed to setup Period "+t),e.b.onError(n))})),r.promise},Vt=function(e,t){var r,i,a,o,u,c,l,f,d,h,p;return s.z((function(g){switch(g.a){case 1:for(r=[],i=s.v(t),a=i.next();!a.done;a=i.next())o=a.value,(u=e.j.get(o.id))?(e.a.debug("(all) Stream "+o.id+n),r.push(u.promise)):(e.a.debug("(all) setting up Stream "+o.id),e.j.set(o.id,{promise:new s.Of,cc:!1}),r.push(o.createSegmentIndex()));return g.c=2,s.x(g,Promise.all(r),4);case 4:if(e.g)return g["return"]();s.Be(g,3);break;case 2:if(c=s.Ce(g),e.g)return g["return"]();for(l=s.v(t),a=l.next();!a.done;a=l.next())f=a.value,e.j.get(f.id).promise["catch"]((function(){})),e.j.get(f.id).promise.reject(),e.j["delete"](f.id);throw c;case 3:for(d=s.v(t),a=d.next();!a.done;a=d.next())h=a.value,p=e.j.get(h.id),p.cc||(p.promise.resolve(),p.cc=!0,e.a.debug("(all) setup Stream "+h.id));s.y(g)}}))},zt=function(e){var t=e.c.presentationTimeline.getDuration();1/0>t?e.b.K.bb(t):e.b.K.bb(Math.pow(2,32))},qt=function(e,t){if(!e.g){var n=dn(t);if(!t.Xa&&null!=t.Qa&&!t.gb)if(t.Qa=null,t.eb)e.a.debug(n,"skipping update and clearing the buffer"),un(e,t,t.kd,t.Oc);else{try{var r=Ht(e,t);null!=r&&(cn(e,t,r),t.rc=!1)}catch(i){return void fn(e,i)}r=Array.from(e.f.values()),rn(e,t),e.o&&r.every((function(e){return e.endOfStream}))&&(e.a.debug(n,"calling endOfStream()..."),e.b.K.endOfStream().then((function(){if(!e.g){var t=e.b.K.getDuration();t<e.c.presentationTimeline.getDuration()&&e.c.presentationTimeline.bb(t)}})))}}},Ht=function(e,t){function n(e){return e.type==s.k&&e.stream.mimeType==s.Ab}if(n(t))return e.b.K.hd(t.stream.originalId||""),null;var r=dn(t),i=e.b.Ka(),a=Gt(e,t,i);e.a.debug(r,"timeNeeded="+a);var o=on(e,t.stream),u=an(e,a),c=e.b.K.sa(t.type,i);e.a.debug(r,"update_:",b+i,"bufferedAhead="+c);var l=Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.l,f=e.c.presentationTimeline.getDuration();if(a>=f&&!t.nc)return Wt(e,t),null;if(t.endOfStream=!1,t.Na=u,u!=o)return e.a.debug(r,"need Period "+u,b+i,"timeNeeded="+a,"currentPeriodIndex="+o),null;if(c>=l)return e.a.debug(r,"buffering goal met"),e.h.bufferLimitUpdateInterval||.5;if(u=e.b.K.aa(t.type),u=Jt(e,t,i,u,o),!u)return!e.c.presentationTimeline.isLive()&&t.nc?(e.a.debug("Media state "+r+" marked for duration drift and no next segment found. Assuming EOS."),Wt(e,t),null):e.h.bufferLimitUpdateInterval||1;var d=1/0;return Array.from(e.f.values()).forEach((function(t){n(t)||(t=Gt(e,t,i),d=Math.min(d,t))})),a>=d+e.c.presentationTimeline.a?e.h.bufferLimitUpdateInterval||1:(t.wf=0,Qt(e,t,i,o,u),null)},Wt=function(e,t){if(e.a.debug(dn(t),"buffered to end of presentation"),t.endOfStream=!0,t.type==s.Xd){var n=e.f.get(s.k);n&&n.stream.mimeType==s.Ab&&(n.endOfStream=!0)}},Gt=function(e,t,n){return t.Zb&&t.Ma?(n=on(e,t.Zb),e.c.periods[n].startTime+t.Ma.endTime):Math.max(n,t.wf)},Jt=function(e,t,n,r,i){var a=dn(t);return t.Ma&&t.stream==t.Zb?(r=t.Ma.position+1,e.a.debug(a,"next position known:","position="+r),Yt(e,t,i,r)):(t.Ma?(e.a.debug(a,"next position unknown: another Stream buffered"),a=on(e,t.Zb),a=Xt(e,t,e.c.periods[a].startTime+t.Ma.endTime,i)):(e.a.debug(a,"next position unknown: nothing buffered"),a=Xt(e,t,r||n,i)),null==a?null:(n=null,null==r&&(n=Yt(e,t,i,Math.max(0,a-1))),n||Yt(e,t,i,a)))},Xt=function(e,t,n,r){var i=dn(t);return r=e.c.periods[r],e.a.debug(i,"looking up segment:",b+n,m+r.startTime),n=Math.max(0,n-r.startTime),t=t.stream.findSegmentPosition(n),null==t&&e.a.warn(i,"cannot find segment:",m+r.startTime,"lookupTime="+n),t},Yt=function(e,t,n,r){var i=dn(t);n=e.c.periods[n];var a=t.stream.getSegmentReference(r);if(!a)return e.a.debug(i,"segment does not exist:",m+n.startTime,"position="+r),null;var o=e.c.presentationTimeline;return r=s.sn(o),o=s.rn(o),!t.nc&&(n.startTime+a.endTime<r||n.startTime+a.startTime>o)?(e.a.debug(i,"segment is not available:",m+n.startTime,w+a.startTime,y+a.endTime,"availabilityStart="+r,"availabilityEnd="+o),null):a},Qt=function(e,t,n,r,i){function a(r,a){return e.g||e.m?null:(d=!0,en(e,t,n,u,c,i,r,a))}var o=dn(t),u=e.c.periods[r];e.a.debug(o,"fetchAndAppend_:",b+n,m+u.startTime,"reference.position="+i.position,w+i.startTime,y+i.endTime);var c=t.stream,l=e.c.presentationTimeline.getDuration(),f=e.c.periods[r+1];r=Zt(e,t,r,Math.max(0,u.startTime-.1),f?f.startTime+.01:l),t.Xa=!0,t.Xc=!1,e.a.debug(o,"fetching segment");var d=!1;r.then((function(){return e.g||e.m?null:sn(e,t,i,!1,(function(e){return a(e.data,!0)}))})).then((function(t){return d||e.g||e.m||null===t?null:a(t,!1)})).then((function(){e.g||e.m||(t.Xa=!1,t.Yd=!1,t.eb||e.b.Zc(),cn(e,t,0),nn(e,t,c),e.a.debug(o,"finished fetch and append"))}))["catch"]((function(n){e.g||e.m||(t.Xa=!1,t.type==s.k&&e.h.ignoreTextStreamFailures?(1001==n.code?e.a.warn(o,"Text stream failed to download. Proceeding without it."):e.a.warn(o,"Text stream failed to parse. Proceeding without it."),e.f["delete"](s.k)):7001==n.code?(t.Xa=!1,t.Qa=null,cn(e,t,0)):3017==n.code?$t(e,t,n):t.type===s.k?(n instanceof s.K&&s.jf(n,1),ln(t),e.b.onError(new s.K(1,2,2010,n))):(e.a.error(o,"failed fetch and append: code="+n.code),t.rc=!0,n instanceof s.K&&s.jf(n,s.M),fn(e,n)))}))},$t=function(e,t,n){var r=dn(t);if(Array.from(e.f.values()).some((function(e){return e!=t&&e.Yd})))e.a.debug(r,o,"waiting for another stream to recover...");else{var i=Math.round(100*e.l);if(20<i)e.l-=.2;else{if(!(4<i))return e.a.error(r,"MediaSource threw QuotaExceededError too many times"),t.rc=!0,e.m=!0,void e.b.onError(n);e.l-=.04}e.a.warn(r,o,"reducing buffering goals by "+(100-Math.round(100*e.l))+"%"),t.Yd=!0}cn(e,t,4)},Zt=function(e,t,n,r,i){if(!t.Xc)return Promise.resolve();var a=dn(t);return n=e.c.periods[n].startTime-(t.stream.presentationTimeOffset||0),e.a.debug(a,"setting timestamp offset to "+n),e.a.debug(a,"setting append window start to "+r),e.a.debug(a,"setting append window end to "+i),r=ce(e.b.K,t.type,n,r,i),t.stream.initSegmentReference?(e.a.debug(a,"fetching init segment"),i=sn(e,t,t.stream.initSegmentReference,!0).then((function(n){return e.g?null:(e.a.debug(a,"appending init segment"),ue(e.b.K,t.type,n,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size))}))["catch"]((function(e){return t.Xc=!0,Promise.reject(e)})),Promise.all([r,i])):r},en=function(e,t,n,r,i,a,o,u){u=void 0!==u&&u;var c=dn(t),l=i.closedCaptions&&0<i.closedCaptions.size;null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new s.ri).T("emsg",e.C.bind(e,r,a,i.emsgSchemeIdUris)).parse(o);var f=0;return tn(e,t,n).then((function(){if(e.g)return null;e.a.debug(c,"appending media segment");var n=a.startTime+r.startTime,s=a.endTime+r.startTime;return f=e.b.K.aa(t.type)||0,ue(e.b.K,t.type,o,n,s,l,i.id,u)})).then((function(){if(!e.g){if(e.a.debug(c,"appended media segment"),!e.c.presentationTimeline.isLive()&&t.type!==s.k){var n=(e.b.K.aa(t.type)||0)-f;e.a.debug(c,"real segment duration",n);var r=a.endTime-a.startTime;n-=r,Math.abs(n)>=Math.min(.01,r)&&Math.abs(n)<=Math.min(1,r)&&(t.nc=!0,i.adjustSegmentDurations(a.position,n))}t.Zb=i,t.Ma=a}}))},tn=function(e,t,n){if(e.g)return Promise.resolve();var r=dn(t);e.a.debug(r,"checking buffer length");var i=Math.max(e.h.bufferBehind,e.c.presentationTimeline.a),a=e.b.K.Ja(t.type);if(null==a)return e.a.debug(r,"buffer behind okay because nothing buffered:",b+n,d+i),Promise.resolve();var o=n-a,s=o-i;return 0>=s?(e.a.debug(r,"buffer behind okay:",b+n,h+o,d+i,"underflow="+-s),Promise.resolve()):(e.a.debug(r,"buffer behind too large:",b+n,h+o,d+i,"overflow="+s),e.b.K.remove(t.type,a,a+s).then((function(){e.g||e.a.debug(r,"evicted "+s+" seconds")})))},nn=function(e,t,n){if(!e.o){var r=dn(t);if(t=Array.from(e.f.values()),1!=t.length||t[0].type!=s.k?e.o=t.every((function(t){return!(t.type!=s.k&&!e.u)||!t.eb&&!t.gb&&t.Ma})):e.u&&(e.o=!0),e.o){for(e.a.debug(r,"startup complete"),n=on(e,n),e.i[n]||Ft(e,n).then((function(){e.g||(e.a.debug(r,p),e.b.Qd())}))["catch"](s.mi.xc),n=0;n<e.c.periods.length;++n)Ft(e,n)["catch"](s.mi.xc);e.b.Ai&&(e.a.debug(r,"calling onStartupComplete()..."),e.b.Ai())}}},rn=function(e,t){var n=dn(t),r=on(e,t.stream);if(t.Na!=r){var i=t.Na,a=Array.from(e.f.values());a.every((function(e){return e.Na==i}))?a.every(hn)?(e.a.debug(n,"all need Period "+i),Ft(e,i).then((function(){if(!e.g)if(a.every((function(t){var n=hn(t),r=on(e,t.stream);return n&&t.Na==i&&r!=i}))){var t=e.c.periods[i];e.a.debug(n,"calling onChooseStreams()...");var r=e.b.Rd(t);e.u=!r.variant&&!!r.text;var o=new Map;r.variant&&r.variant.video&&o.set(s.Xd,r.variant.video),r.variant&&r.variant.audio&&o.set(s.Ib,r.variant.audio),r.text&&o.set(s.k,r.text);var u=s.v(e.f.keys());for(r=u.next();!r.done;r=u.next())if(r=r.value,!o.has(r)&&r!=s.k)return e.a.error(n,"invalid Streams chosen: missing "+r+" Stream"),void e.b.onError(new s.K(s.M,5,5005));for(u=s.v(Array.from(o.keys())),r=u.next();!r.done;r=u.next())if(r=r.value,!e.f.has(r)){if(r!=s.k)return e.a.error(n,"invalid Streams chosen: unusable "+r+" Stream"),void e.b.onError(new s.K(s.M,5,5005));Kt(e,null,null,o.get(s.k),t.startTime),o["delete"](r)}for(t=s.v(Array.from(e.f.keys())),r=t.next();!r.done;r=t.next())r=r.value,(u=o.get(r))?(s.Wt(e,u,!1,0),cn(e,e.f.get(r),0)):e.f["delete"](r);e.a.debug(n,p),e.b.Qd()}else e.a.debug(n,"ignoring transition to Period",i,"since another is happening")}))["catch"](s.mi.xc)):e.a.debug(n,"all MediaStates need Period "+i+", but not all MediaStates are idle"):e.a.debug(n,"not all MediaStates need Period "+i)}},an=function(e,t){var n=Le(e.c.periods,t+s.In);return n?e.c.periods.indexOf(n):0},on=function(e,t){for(var n=e.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=s.v(i.variants),u=o.next();!u.done;u=o.next())u=u.value,u.audio&&a.add(u.audio),u.video&&a.add(u.video),u.video&&u.video.trickModeVideo&&a.add(u.video.trickModeVideo);for(i=s.v(i.textStreams),o=i.next();!o.done;o=i.next())a.add(o.value);if(a.has(t))return r}return-1},sn=function(e,t,n,r,i){r=void 0!==r&&r,i=void 0===i?null:i;var a=s.pl(n.c(),n.b,n.a,e.h.attemptParameters,n.startTime,n.endTime,t.type);return a.type=s.Bn,a.onFragment=n.g?null:i,(i=n.f())&&(a.keyInfo=i,a.onFragment=null),r&&t.type===s.Xd&&e.h.overridePasp&&a.responseModifiers.push(e.F.bind(e)),e.a.debug("fetching: reference=",n),n=e.b.Ab.fetch(a),t.yc=n,n.promise.then((function(n){var i=e.b.zd(),a=n.timeMs,o=n.data.byteLength;return a&&o&&!r&&i.segmentDownloaded(a,o),t.yc=null,n.data}))},un=function(e,t,n,r){var i,a,o,u;s.z((function(c){return 1==c.a?(i=dn(t),t.eb=!1,t.kd=!1,t.Oc=0,t.gb=!0,e.a.debug(i,"clearing buffer"),r?(o=e.b.Ka(),u=e.b.K.getDuration(),a=e.b.K.remove(t.type,o+r,u)):a=e.b.K.clear(t.type).then((function(){return!e.g&&n?e.b.K.flush(t.type):null})),s.x(c,a,2)):e.g?c["return"]():(e.a.debug(i,"cleared buffer"),t.Zb=null,t.Ma=null,t.gb=!1,t.endOfStream=!1,t.nc=!1,cn(e,t,0),void s.y(c))}))},cn=function(e,t,n){e.a.debug(dn(t),"updating in "+n+" seconds"),t.Qa=new s.yi((function(){qt(e,t)})).P(n)},ln=function(e){null!=e.Qa&&(e.Qa.stop(),e.Qa=null)},fn=function(e,t){e.g||(e.b.onError(t),a(e.h.failureCallback)!==s.Cc||e.h.failureCallback(t))},dn=function(e){return"("+e.type+":"+e.stream.id+")"},hn=function(e){return!e.Xa&&null==e.Qa&&!e.eb&&!e.gb},pn=function(e){this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode=s.qc,n.label==f&&(this.a=n)}this.a||(this.a=e.addTextTrack(s.Dd,f)),this.a.mode=s.Ec},gn=function(e){if(e.startTime>=e.endTime)return s.C("Invalid cue times: "+e.startTime+" - "+e.endTime),null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(n){}return e.textAlign==s.$b&&t.align!=s.$b&&(t.align="middle"),e.writingMode==s.Vd?t.vertical="lr":e.writingMode==s.Wd&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t},mn=function(e,t){var n=e.mode;e.mode=n==s.wd?s.wd:s.Ec;for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n},vn=function(t){s.Pg.call(this,g);var n=this;this.o=zr,this.f=null,this.od=0,this.Je=2,this.Pe=this.Kg.bind(this),this.Ne=this.Jg.bind(this),this.jc=null,this.gc=!1,this.i=new s.Xe,this.g=this.c=this.u=this.b=this.qa=this.A=this.Gc=this.hc=this.Ob=this.m=this.v=this.h=null,this.af=1e9,this.Kc=new Set,this.C=!0,this.M=null,this.Xe=!1,this.Ve=0,this.I=null,this.F=new Je,this.Ye={width:1/0,height:1/0},this.w=null,this.R=s.ym,this.Ia=new nt(this.a.preferredAudioLanguage,this.a.preferredAudioRole,this.a.preferredAudioChannelCount),this.la=this.a.preferredTextLanguage,this.S=this.Jc=null,this.ic=[],this.N=null,this.fc=this.a.preferredTextRole,t&&t(this),this.ld=null,this.i.on(e,"online",(function(){if(n.o==qr){var e=n.b;if(e.g)e.a.error("Unable to retry after StreamingEngine is destroyed!");else if(e.m)e.a.error("Unable to retry after StreamingEngine encountered a fatal error!");else for(var t=s.v(e.f.values()),r=t.next();!r.done;r=t.next()){r=r.value;var i=dn(r);r.rc&&(e.a.info(i,"Retrying after failure..."),r.rc=!1,cn(e,r,.1))}}}))},bn=function(e){return new s.zr((function(t){if(void 0===t||null===t)return null;var n=e.getTrackManager(),r=[];return n&&n.getVideoTracks().forEach((function(e){return r.push.apply(r,s.ne(e.renditions))})),r.find((function(e){return e.id==t}))||null}))},yn=function(e,t){if(e.R!==t)if(e.R===s.qk&&t!==s.ym){var n=P(t,s.Gm);e.log.info(s.ar+n)}else{n=e.od,n=0===n?0:Date.now()-n;var r=e.R;e.R=t,e.od=Date.now(),e.w&&s.ck(e.w.a,e.R),t===s.Cm&&(e.Je=e.ec?1:2);var i=e.Je,a={currentState:e.R,previousState:r,timeSinceLastStateChangeMS:n,reason:t===s.Cm||r===s.Cm?i:void 0},o=P(r,s.Gm),u=P(t,s.Gm),c=t!==s.Cm?"":"["+P(i,s.Fm)+"]";e.log.info(s.Ha+o+" -> "+(u+c)),e.trigger(new s.I(s.zd,{detail:a})),t===s.Cm?e.trigger(new s.I(s.Ub,{detail:{bufferedTimeMS:-1,reason:i}})):r===s.Cm&&e.trigger(new s.I(s.Tb,{detail:{bufferedTimeMS:n,reason:i}}))}},wn=function(e){var t,n=!1;return n=void 0===n||n,s.z((function(r){switch(r.a){case 1:return e.o==Vr?r["return"](Promise.reject(new s.K(s.M,7,7e3))):s.x(r,Tn(e),2);case 2:return s.x(r,En(e),3);case 3:if(!n){r.a=0;break}return t=e.getSurface().D(),s.x(r,Sn(e,t),5);case 5:return s.x(r,xn(e,t),0)}}))},Sn=function(e,t){return e.f||(e.i.on(t,s.zc,(function(){if(e.f.error){var t=e.f.error.code;if(1==t)t=null;else{var n=e.f.error.msExtendedCode;n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),t=new s.K(s.M,3,3016,{code:t,extendedError:n,message:e.f.error.message})}}else t=null;t&&e.onError(t)})),e.f=t),Promise.resolve()},Tn=function(e){return e.f&&(e.i.off(e.f,s.zc),e.f=null),Promise.resolve()},En=function(e){var t;return s.z((function(n){switch(n.a){case 1:if(e.o!=Vr&&(e.o=zr),(t=e.f)&&(e.i.off(t,s.Oc),e.i.off(t,s.ld),e.i.off(t,s.hd),e.i.off(t,s.yc),e.i.off(t,s.nd)),e.Ob&&(e.Ob.release(),e.Ob=null),e.Gc&&(e.Gc.stop(),e.Gc=null),!e.u){n.a=2;break}return s.x(n,e.u.stop(),3);case 3:e.u=null;case 2:if(!e.g){n.a=4;break}return s.x(n,e.g.stop(),4);case 4:if(!e.b){n.a=6;break}return s.x(n,e.b.destroy(),7);case 7:e.b=null;case 6:if(e.m&&(e.m.release(),e.m=null),!e.v){n.a=8;break}return s.x(n,e.v.destroy(),9);case 9:e.v=null;case 8:if(t&&t.src&&(t.removeAttribute("src"),t.load()),!e.h){n.a=10;break}return s.x(n,e.h.destroy(),11);case 11:e.h=null;case 10:e.F.clear(),e.A=null,e.Kc.clear(),e.c=null,e.w=null,e.C=!0,e.ic=[],Xn(e),s.y(n)}}))},xn=function(t,n){var r,i,a;return s.z((function(o){if(1==o.a)return r=e.muxjs?new Q:new s.Sr,i=new pn(t.f),t.jc=bn(t),t.jc.track(t),a=new s.Zr(n,r,i,t.jc,t.a.streaming.maxSegmentToMediaOffset),s.x(o,a.v,2);t.v=a,s.y(o)}))},kn=function(e,t){var n,r;return s.z((function(i){if(1==i.a)return n=e.getNetworkEngine(),r=e,s.x(i,s.Sn.create(t.url,n,e.a.manifest.attemptParameters,t.type),2);r.u=i.b,e.u.configure(e.a.manifest),s.y(i)}))},An=function(e,t){var n,r,i;return s.z((function(a){return n=e.getNetworkEngine(),e.qa=new H,W(e.qa,(function(t){ar(e,s.Jd,t)})),r={networkingEngine:n,filterNewPeriod:function(t){return e.xd(t)},filterAllPeriods:function(t){return Hn(e,t)},onTimelineCueAdded:function(t){var n=e.qa;e:{for(var r=s.v(n.a),i=r.next();!i.done;i=r.next())if(i=i.value,i.schemeIdUri===t.schemeIdUri&&i.startTime===t.startTime&&i.endTime===t.endTime){r=i;break e}r=null}null==r&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.td(t)},onError:function(t){return e.onError(t)}},i=new s.vj(Promise.resolve().then((function(){var n;return s.z((function(i){if(1==i.a)return n=e,s.x(i,e.u.start(t.url,r),2);if(n.c=i.b,!e.c.presentationTimeline||s.J.H(e.a.suggestedPresentationDelay)||isNaN(e.a.suggestedPresentationDelay)||(e.log.info("Apply suggested presentation delay of: "+e.a.suggestedPresentationDelay),e.c.presentationTimeline.Xd=e.a.suggestedPresentationDelay),e.c.presentationTimeline&&(e.c.presentationTimeline.m=!!e.a.lowLatencyMode),0==e.c.periods.length)throw new s.K(s.M,4,4014);Cn(e.c.periods),s.y(i)}))})),(function(){return e.log.info("Aborting parser step..."),e.u.stop()})),s.x(a,i.promise,0)}))},In=function(e){var t,n,r,i;return s.z((function(a){switch(a.a){case 1:if(e.h=new s.Ci({Ab:e.getNetworkEngine(),onError:function(t){return e.onError(t)},Sd:function(t){return or(e,t)},onExpirationUpdated:function(t,n){e.u&&e.u.onExpirationUpdated&&e.u.onExpirationUpdated(t,n),e.trigger(new s.I(s.rc,{expirationTime:n}))},onEvent:function(t){return e.td(t)},getConfiguration:function(){return e.getConfiguration()}}),e.h.c=s.rh(e.a.drm),n=(t=e.a.drm)&&t.offlineId||"",r=[],!n){a.a=2;break}if(i=s.wk.get(s.cc)||null,!i){a.a=2;break}return s.x(a,i.Fh(n),4);case 4:r=a.b;case 2:return s.x(a,s.Hi(e.h,De(e.c.periods),r),5);case 5:Hn(e,e.c.periods),s.y(a)}}))},Mn=function(e){var t,n,r,i,a,o,u,c;return s.z((function(l){return 1==l.a?(t=e.f,n=function(){e.f&&e.A&&Ln(e),Yn(e)},r=function(){if(e.f){var t=e.f.playbackRate;0!=t&&e.hc.set(t)}},e.i.on(t,s.ld,n),e.i.on(t,s.hd,n),e.i.on(t,s.yc,n),e.i.on(t,s.nd,n),e.i.on(t,s.vd,n),e.i.on(t,s.ud,n),e.i.on(t,s.nd,r),e.g||(e.g=new s.Is,e.g.configure(e.a.abr)),qn(e,e.c.periods),e.Ia=new nt(e.a.preferredAudioLanguage,e.a.preferredAudioRole,e.a.preferredAudioChannelCount),e.la=e.a.preferredTextLanguage,e.fc=e.a.preferredTextRole,s.x(l,s.Ri(e.h,t),2)):3!=l.a?(e.g.init((function(t,n,r){!e.C&&tr(e,t,n,r)})),e.m=Rn(e,e.a.startTime),e.Ob=Nn(e),e.hc=new ut({Cd:function(){return t.playbackRate},xf:function(e){t.playbackRate=e},Sh:function(e){t.currentTime+=e}}),i=Math.max(1e-4,e.a.streaming.rebufferingGoal),Dn(e,i),e.b=On(e),e.b.h=e.a.streaming,Pn(e),e.o=qr,s.x(l,e.b.start(),3)):(e.a.streaming.startAtSegmentBoundary&&(a=kt(e.m),o=Jn(e,a),bt(e.m.f,o)),e.c.periods.forEach(e.xd.bind(e)),rr(e),nr(e),u=lr(e),c=u.variants.some((function(e){return e.primary})),e.a.preferredAudioLanguage||c||e.log.warn("No preferred audio language set.  We will choose an arbitrary language initially"),Qn(e,u.variants),e.i.one(t,s.Oc,(function(){e.w.i=Date.now()/1e3-(null===e.ld?0:e.ld)})),void s.y(l))}))},Cn=function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&(s.F("Found variant with audio and video content, so filtering out audio-only content in all periods."),e.forEach((function(e){e.variants=e.variants.filter(t)})))},Pn=function(e){function t(e){var t="";e.video&&(t=s.qi(e.video.codecs)[0]);var n="";return e.audio&&(n=s.qi(e.audio.codecs)[0]),t+"-"+n}var n=e.c.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);n=Te(n,e.a.preferredAudioChannelCount);var r=new s.Ue;n.forEach((function(e){var n=t(e);r.push(n,e)}));var i=null,a=1/0;r.forEach((function(t,n){var r=0,o=0;n.forEach((function(e){r+=e.bandwidth||0,++o}));var u=r/o;e.log.debug(s.hc,t,"avg bandwidth",u),u<a&&(i=t,a=u)})),e.c.periods.forEach((function(n){n.variants=n.variants.filter((function(n){return t(n)==i||(e.log.debug("Dropping Variant (better codec available)",n),!1)}))}))},Rn=function(e,t){return new xt(e.f,e.c,e.a.streaming,t,(function(){e.Ob&&J(e.Ob,!0),e.b&&Ut(e.b)}),(function(t){return e.dispatchEvent(t)}))},Nn=function(e){var t=new ot(e.c);st(t,(function(){rr(e)}));var n=new X(e.qa);Y(n,(function(t){ar(e,s.Kd,t)}),(function(t){ar(e,s.Ld,t)}),(function(t,n){n||(ar(e,s.Kd,t),ar(e,s.Ld,t))}));var r=new G(e.f);return r.a.add(t),r.a.add(n),r},Dn=function(e,t){e.A=new at(t,Math.min(.5,t/2)),e.A.a=Br,Xn(e),e.Gc=new s.sg((function(){Ln(e)})).za(.25)},Ln=function(e){var t;switch(e.o){case qr:e:if((t=e.f.ended)||(t=e.v,t=!t.i||t.i.readyState==s.yc),t)t=!0;else{if(e.c.presentationTimeline.isLive()){t=s.rn(e.c.presentationTimeline);var n=e.getBufferInfo();if(null!==n&&(n=n.aa(),null!==n&&n>=t)){t=!0;break e}}t=!1}break;default:t=!1}var r=0;if(e.v){var i=oe(e.v);n=i.video,i=i.audio;var a=e.f.currentTime;(n||i)&&(r=n&&i?Math.min(n.sa(a),i.sa(a)):n?n.sa(a):i.sa(a))}n=e.A,i=t,a=n.b.get(n.a),t=n.a,r=i||r>=a?Fr:Br,n.a=r,t!=r&&Xn(e)},On=function(e){var t={Ka:function(){return kt(e.m)},K:e.v,Ab:e.getNetworkEngine(),Rd:e.Hg.bind(e),Qd:e.Gg.bind(e),onError:e.onError.bind(e),onEvent:e.td.bind(e),jf:e.Ig.bind(e),Zc:e.wi.bind(e),zd:function(){return e.g}};return new s.Mt(e.c,t)},_n=function(e){if(e.c&&e.m){var t=fr(e),n=[];e=s.v(ur(e));for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=ye(r);i.active=r==t,n.push(i)}return n}return[]},Un=function(e,t){if(e.c&&e.b){var n=lr(e),r=n.textStreams.find((function(e){return e.id==t.id}));r?(zn(e,n,r,!1),Gn(e,r),e.la=r.language):e.log.error(s.Yq,t.id)}},jn=function(e,t,n){var r=void 0===r?0:r;if(e.c&&e.b){var i=lr(e);if(e.a.abr.enabled&&t)e.log.info("Disable ABR and enable manual track selection to select "+t.width+"x"+t.height+"@"+t.bandwidth),e.a.abr.enabled=!1,e.g.disable();else if(!e.a.abr.enabled&&!t)return e.log.info("Enable ABR Selection"),e.a.abr.enabled=!0,e.g.enable(),e.S=null,n=Qn(e,i.variants),null!=e.N&&(e.Ia=e.N,e.N=null),void(null==n||e.C||tr(e,n));if(t){e.S=t.id;var a=i.variants.find((function(e){return e.id==t.id}));a?(e.S=a.video.id,Se(a)?(Vn(e,i,a,!1),Wn(e,a,n,r),null==e.N&&(e.N=e.Ia),e.Ia=new tt(a),Qn(e,i.variants)):e.log.error("Unable to switch to restricted track",t.id)):e.log.error("No variant with id",t.id)}else e.S=null,null!=e.N&&(e.Ia=e.N,e.N=null),n=Qn(e,i.variants),null==n||e.C||tr(e,n)}},Kn=function(e,t){if(e.b){var n=Dt(e.b),i=Nt(e.b),a=Le(e.c.periods,kt(e.m));a=e.c.periods[a?e.c.periods.indexOf(a):0].variants.filter((function(e){return e.audio.id==t}));var o=a.find((function(e){return e.video.id==n.id}));if(!o){e.log.debug("Cannot find exact variant, looking for anything else that matches with given audioId");var s=e.getTrackManager().ga();if(s){var u=s.renditions.map((function(e){return e.id}));o=a.find((function(e){return u.find((function(t){return t==e.video.id}))}))}}if(o){if(i.codecs.split(".")[0]===o.audio.codecs.split(".")[0])return e.Jc=t,$n(e,lr(e)),void Promise.resolve();e.log.warn(r)}}Promise.reject()},Bn=function(e){var t=e.gc;return e.c?e.v.h.isTextVisible():t},Fn=function(e,t){var n,r,i,a;return s.z((function(o){if(n=e.gc,r=t,n==r)return o["return"]();if(e.gc=r,e.o==qr&&(e.v.h.setTextVisibility(t),!e.a.streaming.alwaysStreamText)){if(t)return i=lr(e),a=s.vs(i.textStreams,e.la,e.fc),0<a.length?o=s.x(o,Lt(e.b,a[0]),0):(o.a=0,o=void 0),o;var u=e.b;u.A=!0;var c=u.f.get(s.k);c&&(ln(c),u.f["delete"](s.k))}o.a=0}))},Vn=function(e,t,n,r){var i=e.getTrackManager();if(i){var a=e.w.j;if(n.video){Ge(i,n.video);var o=i.V();a.f!==o&&(a.f=o,a.a.push({timestamp:Date.now()/1e3,id:o.id,trackId:o.track.id,type:o.track.type,fromAdaptation:r,width:o.width,height:o.height,bandwidth:o.bandwidth}))}n.audio&&(Ge(i,n.audio),i=i.ma(),a.b!==i&&(a.b=i,a.a.push({timestamp:Date.now()/1e3,id:i.id,trackId:i.track.id,type:i.track.type,fromAdaptation:r,width:null,height:null,bandwidth:i.bandwidth})))}Xe(e.F,t).variant=n},zn=function(e,t,n,r){Xe(e.F,t).text=n,(t=e.getTrackManager())&&(Ge(t,n),n=t.fa(),e=e.w.j,e.c!==n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,trackId:n.track.id,type:n.track.type,fromAdaptation:r,width:null,height:null,bandwidth:null})))},qn=function(e,t){for(var n=0;n<t.length;n++){for(var r=t[n],i=new Map,a=s.v(r.variants),o=a.next();!o.done;o=a.next())if(o=o.value,o.video&&o.video.closedCaptions){o=o.video;for(var u=s.v(o.closedCaptions.keys()),c=u.next();!c.done;c=u.next())if(c=c.value,!i.has(c)){var l={id:e.af++,originalId:c,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Ab,codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(c),label:null,type:s.k,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};i.set(c,l)}}for(i=s.v(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}},Hn=function(e,t){var n=e.b?Nt(e.b):null,r=e.b?Dt(e.b):null;if(t.forEach(ve.bind(null,e.h,n,r)),n=B(t,(function(e){return e.variants.some(Se)})),0==n)throw new s.K(s.M,4,4032);if(n<t.length)throw new s.K(s.M,4,4011);t.forEach((function(t){me(t.variants,e.a.restrictions,e.Ye)&&e.b&&lr(e)==t&&rr(e),sr(e,t.variants)}))},Wn=function(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.C?(e.M=t,e.Xe=n,e.Ve=r):Ot(e.b,t,n,r)},Gn=function(e,t){e.C?e.I=t:s.Wt(e.b,t,!0,0)},Jn=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var r=Nt(e.b),i=Dt(e.b),a=lr(e);return r=n(r,t),i=n(i,t),null!=i&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t},Xn=function(e){var t=!!e.A&&e.A.getState()===Br;if(e.w&&e.A&&e.m){var n=e.hc;n.f=t,ct(n),Yn(e)}},Yn=function(e){e.f&&e.f.ended?yn(e,s.Em):e.A&&e.A.getState()===Br?yn(e,s.Cm):e.f&&e.f.paused?yn(e,s.Jm):yn(e,s.el)},Qn=function(e,t){try{sr(e,t)}catch(i){return e.onError(i),null}var n=t.filter((function(e){return Se(e)}));n=Pe(n,e.Jc);var r=e.Ia.create(n);return e.g.setVariants(Array.from(r.values())),e.a.abr.enabled||null===e.S?e.g.chooseVariant():(n=n.find((function(t){return null!==t.video&&t.video.id===e.S})),n||(e.log.warn("Selected video track not found. Falling back to ABR selection"),e.g.chooseVariant()))},$n=function(e,t){var n=Qn(e,t.variants);e.Jc=n&&n.audio&&n.audio.id,n&&(Vn(e,t,n,!0),Wn(e,n,!0)),(n=s.vs(t.textStreams,e.la,e.fc)[0]||null)&&(e.a.streaming.alwaysStreamText||Bn(e))&&(zn(e,t,n,!0),Gn(e,n)),nr(e)},Zn=function(e,t){e.C=!0,e.g.disable(),e.log.debug("Choosing new streams after period changed");var n=Qn(e,t.variants),r=s.vs(t.textStreams,e.la,e.fc)[0]||null;e.M&&(t.variants.includes(e.M)&&(n=e.M),e.M=null),e.I&&(t.textStreams.includes(e.I)&&(r=e.I),e.I=null),n&&e.ic.push((function(){return Vn(e,t,n,!0)})),r&&e.ic.push((function(){return zn(e,t,r,!0)})),t===lr(e)&&ir(e);var i=!Rt(e.b),a=n?n.audio:null;return i&&r&&(a&&er(e,a,r)&&(e.gc=!0),e.gc&&e.v.h.setTextVisibility(!0)),e.a.streaming.alwaysStreamText||Bn(e)?{variant:n,text:r}:{variant:n,text:null}},er=function(e,t,n){return e=s.vl(e.a.preferredTextLanguage),t=s.vl(t.language),n=s.vl(n.language),V(n,e)&&!V(t,n)},tr=function(e,t,n,r){if(n=void 0!==n&&n,r=void 0===r?0:r,e.a.abr.enabled){e.log.debug("switch_");e:{for(var i=s.v(e.c.periods),a=i.next();!a.done;a=i.next())if(a=a.value,a.variants.includes(t)){i=a;break e}i=null}Vn(e,i,t,!0),e.b&&(Ot(e.b,t,n,r),nr(e))}},nr=function(e){var t=e.getTrackManager();t=t&&t.V(),e.trigger(new s.I(s.ae,{details:{width:t&&t.width||0,height:t&&t.height||0,bandwidth:t&&t.bandwidth,track:t&&t.track,abrSelection:!0}}))},rr=function(e){var t=e.getTrackManager();t&&e.o!=Vr&&(t.a&&(qe(t),t.a.trigger(new s.I(s.Nd))),ir(e))},ir=function(e){for(;e.ic.length;)e.ic.shift()()},ar=function(e,t,n){e.trigger(new s.I(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))},or=function(e,t){if(e.b){var n=lr(e),r=!1,i=Object.keys(t);0==i.length&&e.log.warn("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var a=1==i.length&&"00"==i[0];a&&e.log.warn("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks."),i.length&&n.variants.forEach((function(e){ke(e).forEach((function(n){var i=e.allowedByKeySystem;n.keyId&&(n=t[a?"00":n.keyId],e.allowedByKeySystem=!!n&&!Hr.includes(n)),i!=e.allowedByKeySystem&&(r=!0)}))})),i=Nt(e.b);var o=Dt(e.b);(i=xe(i,o,n.variants))&&!i.allowedByKeySystem&&(e.log.debug("Choosing new streams after key status changed"),$n(e,n)),r&&(rr(e),Qn(e,n.variants))}},sr=function(e,t){var n=e.h?s.J.he(e.h.S):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],u=[],c=s.v(t),l=c.next();!l.done;l=c.next()){l=l.value;var f=[];l.audio&&f.push(l.audio),l.video&&f.push(l.video),f=s.v(f);for(var d=f.next();!d.done;d=f.next())if(d=d.value,d.keyId){var h=n[r?"00":d.keyId];h?Hr.includes(h)&&(u.includes(h)||u.push(h)):o.includes(d.keyId)||o.push(d.keyId)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new s.K(s.M,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:u})},ur=function(e){return e=lr(e),null==e?[]:e.variants.filter((function(e){return Se(e)}))},cr=function(e){var t=lr(e);return null==t?[]:t.textStreams.filter((function(t){return!e.Kc.has(t)}))},lr=function(e){var t=kt(e.m),n=null;e=s.v(e.c.periods);for(var r=e.next();!r.done;r=e.next())r=r.value,r.startTime<=t&&(n=r);return n},fr=function(e){var t=lr(e);return Xe(e.F,t).variant},dr=function(){this.name=g},hr=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return n=e.apply(this,n),n.abort=function(){},n}},pr=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}},gr=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},mr=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=s.qi(t)[0]&&e(t)}},vr=function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){var r=n.split(/ *; */),i=r.shift(),a={};r=s.v(r);for(var o=r.next();!o.done;o=r.next())o=o.value.split("="),a[o[0]]=o[1].replace(/"(.*)"/,"$1");if(r=a.codecs,!r)return e(n);var u=!1,c=!1;for(var l in n=r.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(u=!0),!0})),c&&(u=!1),a.codecs=n.join(","),u&&(a.eotf="smpte2084"),a)i+="; "+l+'="'+a[l]+'"';return cast.__platform__.canDisplayType(i)}},br=function(e){var t=Jr;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e},yr=function(e,t){s.F("PatchedMediaKeysWebkit.requestMediaKeySystemAccess");try{var n=new Sr(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},wr=function(e){s.F("PatchedMediaKeysWebkit.setMediaKeys");var t=this.mediaKeys;return t&&t!==e&&Er(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Er(e,this),Promise.resolve()},Sr=function(e,t){s.F("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.a=this.keySystem=e;var n=!1;e===s.dd&&(this.a=T,n=!1);var r=!1,i=document.getElementsByTagName(s.Xd);i=i.length?i[0]:document.createElement(s.Xd);for(var a=0;a<t.length;++a){var o=t[a],u={audioCapabilities:[],videoCapabilities:[],persistentState:s.cd,distinctiveIdentifier:s.cd,initDataTypes:o.initDataTypes,sessionTypes:[s.Ed],label:o.label},c=!1;if(o.audioCapabilities)for(var l=0;l<o.audioCapabilities.length;++l){var f=o.audioCapabilities[l];f.contentType&&(c=!0,i.canPlayType(f.contentType.split(";")[0],this.a)&&(u.audioCapabilities.push(f),r=!0))}if(o.videoCapabilities)for(l=0;l<o.videoCapabilities.length;++l)f=o.videoCapabilities[l],f.contentType&&(c=!0,i.canPlayType(f.contentType,this.a)&&(u.videoCapabilities.push(f),r=!0));if(c||(r=i.canPlayType(s.Zd,this.a)||i.canPlayType("video/webm",this.a)),o.persistentState===s.rd&&(n?(u.persistentState=s.rd,u.sessionTypes=[s.id]):r=!1),r)return void(this.b=u)}throw n=s.Xa,e!==s.dd&&e!==s.lc||(n="None of the requested configurations were supported."),n=Error(n),n.name=s.Fa,n.code=DOMException.NOT_SUPPORTED_ERR,n},Tr=function(e){s.F("PatchedMediaKeysWebkit.MediaKeys"),this.g=e,this.b=null,this.a=new s.Xe,this.c=[],this.f={}},Er=function(e,t){e.b=t,s.$e(e.a);var n=Jr;t&&(e.a.on(t,n+"needkey",e.Ci.bind(e)),e.a.on(t,n+"keymessage",e.Og.bind(e)),e.a.on(t,n+"keyadded",e.Mg.bind(e)),e.a.on(t,n+"keyerror",e.Ng.bind(e)))},xr=function(e,t){var n=e.f[t];return n?(s.F(l,n),n):(n=e.c.shift())?(n.sessionId=t,e.f[t]=n,s.F(l,n),n):null},kr=function(e,t,n){s.F("PatchedMediaKeysWebkit.MediaKeySession"),Ne.call(this),this.f=e,this.i=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new s.Of,this.keyStatuses=new Mr},Ar=function(e,t,n){if(e.i)return Promise.reject(Error("The session is already initialized."));e.i=!0;try{if(e.g===s.id)if(n)var r=s.uf("LOAD_SESSION|"+n);else{var i=s.uf("PERSISTENT|"),a=new Uint8Array(i.byteLength+t.byteLength);a.set(i,0),a.set(s.N(t),i.byteLength),r=a}else r=s.N(t)}catch(u){return Promise.reject(u)}e.b=new s.Of;var o=br("generateKeyRequest");try{e.f[o](e.c,r)}catch(u){if("InvalidStateError"!==u.name)return e.b=null,Promise.reject(u);new s.sg((function(){try{e.f[o](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).P(.01)}return e.b},Ir=function(e,t){var n=e.keyStatuses;n.size=void 0===t?0:1,n.a=t,e.dispatchEvent(new Re(s.Ic))},Mr=function(){this.size=0,this.a=void 0},Cr=function(e,t){s.F("PatchedMediaKeysMs.requestMediaKeySystemAccess");try{var n=new Pr(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},Pr=function(e,t){s.F("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:s.cd,distinctiveIdentifier:s.cd,initDataTypes:i.initDataTypes,sessionTypes:[s.Ed],label:i.label},o=!1;if(i.audioCapabilities)for(var u=0;u<i.audioCapabilities.length;++u){var c=i.audioCapabilities[u];c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.audioCapabilities.push(c),n=!0))}if(i.videoCapabilities)for(u=0;u<i.videoCapabilities.length;++u)c=i.videoCapabilities[u],c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.videoCapabilities.push(c),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,s.Zd)),i.persistentState==s.rd&&(n=!1),n)return void(this.a=a)}throw n=Error(s.Xa),n.name=s.Fa,n.code=DOMException.NOT_SUPPORTED_ERR,n},Rr=function(e){s.F("PatchedMediaKeysMs.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&Dr(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Dr(e,this):Promise.resolve()},Nr=function(e){s.F("PatchedMediaKeysMs.MediaKeys"),this.a=new MSMediaKeys(e),this.b=new s.Xe},Dr=function(e,t){function n(){t.msSetMediaKeys(r.a),t.removeEventListener(s.Pc,n)}if(s.$e(e.b),!t)return Promise.resolve();e.b.on(t,"msneedkey",Or);var r=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener(s.Pc,n),Promise.resolve()}catch(i){return Promise.reject(i)}},Lr=function(e){s.F("PatchedMediaKeysMs.MediaKeySession"),Ne.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.Xe,this.sessionId="",this.expiration=NaN,this.closed=new s.Of,this.keyStatuses=new jr},Or=function(e){if(s.F("PatchedMediaKeysMs.onMsNeedKey_",e),e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent(s.wc,!1,!1,null),t.initDataType=s.Zb,t.initData=_r(e.initData),this.dispatchEvent(t)}},_r=function(e){if(!e)return e;var t=new s.xi(e);if(1>=t.a.length)return e;for(var n=[],r=0;r<t.a.length;r++)n.push(e.subarray(t.a[r].start,t.a[r].end+1));for(e=[],t={},r=s.v(n),n=r.next();!n.done;t={Fc:t.Fc},n=r.next())t.Fc=n.value,e.some(function(e){return function(t){return s.gi(t,e.Fc)}}(t))||e.push(t.Fc);for(t=0,r=s.v(e),n=r.next();!n.done;n=r.next())t+=n.value.length;for(t=new Uint8Array(+t),r=0,e=s.v(e),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,r),r+=n.length;return t},Ur=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new Re(s.Ic))},jr=function(){this.size=0,this.a=void 0},s.zr.prototype.track=function(e){null!=this.a&&(this.a&&(this.a.off(s.sd,this.c),this.f&&this.a.off(s.Md,this.c)),this.a=null),e&&(this.a=e,this.a.on(s.sd,this.c,this))},s.zr.prototype.clear=function(){this.b=[],U(this),this.a&&(this.a.trigger(new s.I(s.$d)),this.a.trigger(new s.I(s.Kb)))},s.zr.prototype.c=function(){if(this.a){var e=this.a.getPosition();if(0<=e){e:{for(var t=this.b.length,n=Number.MAX_SAFE_INTEGER,r=0;r<t;r++){var i=this.b[r];if(n=Math.min(i.start,n),i.start<=e&&i.end>e){e=.1>i.end-e&&r<t-1?this.b[r+1].rendition:i.rendition;break e}if(i.start>e)break}e=0<t&&n>e&&.25>n-e?this.b[0].rendition:null}e&&this.g!==e&&(this.g=e,this.a)&&(n=t=-1,e?(t=e.width||-1,n=e.height||-1):(r=this.a.getSurface().D())&&(t=r.videoWidth,n=r.videoHeight),this.a.trigger(new s.I(s.Rb,{detail:{width:t,height:n,bandwidth:e?e.bandwidth:null,rendition:e}})))}}},H.prototype.release=function(){this.b=function(){},this.a.clear()},G.prototype.release=function(){this.c.stop();for(var e=s.v(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},X.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},X.prototype.h=function(e,t){for(var n={},r=s.v(this.g.a),i=r.next();!i.done;n={nd:n.nd,Ec:n.Ec},i=r.next()){i=i.value,n.nd=this.f.get(i)||null,n.Ec=e<i.startTime?1:e>i.endTime?3:2,this.f.set(i,n.Ec);var a=this.i.find(function(e){return function(t){return t.Lb===e.nd&&t.Kb===e.Ec}}(n));a&&a.vb(i,t)}},Q.prototype.init=function(e){var t=muxjs.mp4.probe;e=s.N(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Q.prototype.c=function(e,t){var n=s.N(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},Q.prototype.b=function(){this.a.resetCaptionStream()},s.Sr.prototype.init=function(){},s.Sr.prototype.c=function(){},s.Sr.prototype.b=function(){},$.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},$.prototype.j=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),e.type===s.Xd?this.h.push(t):e.type===s.Ib&&this.g.push(t)},$.prototype.i=function(){var e={video:s.hi.apply(null,this.h),captions:this.c,audio:s.hi.apply(null,this.g)};this.b.resolve(e),this.f=!1},s.r=s.Zr.prototype,s.r.destroy=function(){var e=this;this.w=!0;var t,n=[];for(t in this.f){var r=this.f[t],i=r[0];for(this.f[t]=r.slice(0,1),i&&n.push(i.p["catch"](s.mi.xc)),i=1;i<r.length;++i)r[i].p["catch"](s.mi.xc),r[i].p.reject()}for(var a in this.b&&n.push(this.b.destroy()),this.h&&n.push(this.h.destroy()),this.l)n.push(this.l[a].destroy());return Promise.all(n).then((function(){e.j&&(e.j.release(),e.j=null),e.g&&(e.g.removeAttribute("src"),e.g.load(),e.g=null),e.i=null,e.b=null,e.h=null,e.c={},e.l={},e.o={},e.u=null,e.A=!1,e.f={}}))},s.r.init=function(e,t){var n,r=this;return s.z((function(i){if(1==i.a)return n=s.ok,s.x(i,r.v,2);e.forEach((function(e,i){var a=s.pi(e.mimeType,e.codecs);if(i==n.TEXT)ae(r,a);else{var o=[a];!t&&MediaSource.isTypeSupported(a)||!Z(a,i)||(r.l[i]=new $,a="aac"==a.split(";")[0].split("/")[1]?a.replace("aac",s.Vc):te(i,a),o=ee(a)),ie(r,o)}})),s.y(i)}))},s.r.Ja=function(e){return e===s.k?this.b.Ja():(e=se(this,e))?e.Ja():null},s.r.aa=function(e){return e===s.k?this.b.aa():(e=se(this,e))?e.aa():null},s.r.xb=function(e,t,n){return e===s.k?this.b.xb(t):!!(e=se(this,e))&&e.xb(t,!0,n)},s.r.sa=function(e,t){if(e===s.k)return this.b.sa(t);var n=se(this,e);return n?n.sa(t):0},s.r.hd=function(e){var t=this.aa(s.Xd)||0;this.b.hd(e,t)},s.r.remove=function(e,t,n){var r=this;return e===s.k?this.b.remove(t,n):fe(this,e,this.vf.bind(this,e,t,n)).then((function(){if(e===s.Xd){var t=r.Ja(e),n=r.aa(e);null!==t&&null!==n&&j(r.m,t,n)}else e===s.Ib&&(t=r.m,t.a&&t.a.trigger(new s.I(s.Kb)))}))},s.r.clear=function(e){return e==s.k?this.b?(this.u.b(),this.b.remove(0,1/0)):Promise.resolve():fe(this,e,this.vf.bind(this,e,0,this.i.duration))},s.r.flush=function(e){return e==s.k?Promise.resolve():fe(this,e,this.Te.bind(this,e))},s.r.endOfStream=function(e){var t=this;return he(this,(function(){e?t.i.endOfStream(e):t.i.endOfStream()}))},s.r.bb=function(e){var t=this;he(this,(function(){t.i.duration=e}))},s.r.getDuration=function(){return this.i.duration},s.r.ud=function(e,n){this.a.debug("Appending data to "+e+t);try{this.c[e].appendBuffer(n)}catch(r){throw this.a.warn("Failed to append data for "+e,r),r}this.a.debug("Done Appending data to "+e+t)},s.r.vf=function(e,t,n){if(n<=t)this.$b(e);else{this.a.debug("Removing data from "+e+" range:",t,n);try{this.c[e].remove(t,n)}catch(r){throw this.a.warn("Failed to remove data from "+e+" buffer. Range:",t,n,r),r}this.a.debug("Done Removing data from "+e+" range:",t,n)}},s.r.Ef=function(e){try{this.a.debug("Aborting operations for "+e+t);var n=this.c[e].appendWindowStart,r=this.c[e].appendWindowEnd;this.c[e].abort(),this.c[e].appendWindowStart=n,this.c[e].appendWindowEnd=r}catch(i){throw this.a.warn("Failed to abort operations for "+e+t,i),i}this.a.debug("Done Aborting operations for "+e+t),this.$b(e)},s.r.Te=function(e){try{this.g.readyState>HTMLMediaElement.HAVE_NOTHING?(this.a.debug("Flushing buffer for "+e),this.g.currentTime-=.001):this.a.warn("Skip buffer flush for "+e+" with element state: "+this.g.readyState)}catch(t){throw this.a.warn("Failed to flush buffer for "+e,t),t}this.a.debug("Done Flushing buffer for "+e),this.$b(e)},s.r.yf=function(e,t){0>t&&(t+=.001);try{this.a.debug("Setting timestamp offset for "+e,t),this.c[e].timestampOffset=t}catch(n){throw this.a.warn("Failed to set timestamp offset for "+e,t,n),n}this.a.debug("Done Setting timestamp offset for "+e,t),this.$b(e)},s.r.Pi=function(e,t,n){try{this.a.debug("Setting append window for "+e,t,n),this.c[e].appendWindowStart=0,this.c[e].appendWindowEnd=n,this.c[e].appendWindowStart=t}catch(r){throw this.a.warn("Failed to set append window for "+e,t,n,r),r}this.a.debug("Done Setting append window for "+e,t,n),this.$b(e)},s.r.Lg=function(e){this.f[e][0].p.reject(new s.K(s.M,3,3014,{mediaError:this.g.error?this.g.error.code:0}))},s.r.$b=function(e){var t=this.f[e][0];t&&(t.p.resolve(),this.a.debug("Update-End received for "+e),pe(this,e))};var Kr=e.URL.createObjectURL;Re.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Re.prototype.stopImmediatePropagation=function(){this.a=!0},Re.prototype.stopPropagation=function(){},Ne.prototype.addEventListener=function(e,t){this.h.push(e,t)},Ne.prototype.removeEventListener=function(e,t){this.h.remove(e,t)},Ne.prototype.dispatchEvent=function(e){for(var t=this.h.get(e.type)||[],n=0;n<t.length;++n){e.target=this.j,e.currentTarget=this.j;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(i){s.Te("Uncaught exception in event handler",i,i?i.message:null,i?i.stack:null)}if(e.a)break}return e.defaultPrevented},s.r=s.Is.prototype,s.r.stop=function(){this.i=null,this.f=!1,this.g=[],this.h=null},s.r.init=function(e){this.i=e},s.r.chooseVariant=function(){var e=Ue(this.a.restrictions,this.g),t=_e(this.c,this.a.defaultBandwidthEstimate);this.g.length&&!e.length&&(this.b.warn("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),e=Ue(null,this.g),e=[e[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],a=i.bandwidth/this.a.bandwidthDowngradeTarget,o=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;this.b.debug("Bandwidth ranges:",(i.bandwidth/1e6).toFixed(3),(a/1e6).toFixed(3),(o/1e6).toFixed(3)),t>=a&&t<=o&&(n=i)}return this.h=Date.now(),n},s.r.enable=function(){this.f=!0},s.r.disable=function(){this.f=!1},s.r.segmentDownloaded=function(e,t){this.b.debug("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.h,"enabled="+this.f);var n=this.c;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,s.sl(n.b,i,r),s.sl(n.c,i,r)}if(null!=this.h&&this.f)e:{if(this.b.debug("Suggesting Streams..."),this.j){if(Date.now()-this.h<1e3*this.a.switchInterval){this.b.debug("Still within switch interval...");break e}}else{if(!(128e3<=this.c.a)){this.b.debug("Still waiting for a good estimate...");break e}this.j=!0}n=this.chooseVariant(),this.b.debug("Calling switch_(), bandwidth="+Math.round(_e(this.c,this.a.defaultBandwidthEstimate)/1e3)+" kbps"),this.i(n)}},s.r.getBandwidthEstimate=function(){return _e(this.c,this.a.defaultBandwidthEstimate)},s.r.setVariants=function(e){this.g=e},s.r.configure=function(e){this.a=e},s.w(je,s.U),s.r=je.prototype,s.r.Sa=function(e){this.a=e},s.r.release=function(){this.g=[],this.b.clear(),this.c.clear()},s.r.load=function(){},s.r.destroy=function(){this.release(),this.a=null},s.r.getVideoTracks=function(){return Ke(this,s.qj)},s.r.getAudioTracks=function(){return Ke(this,s.S)},s.r.U=function(){return Ke(this,s.R)},s.r.V=function(){return this.b.get(s.qj)||null},s.r.ma=function(){return this.b.get(s.S)||null},s.r.fa=function(){return this.b.get(s.R)||null},s.r.Ca=function(){return this.c.get(s.qj)||null},s.r.Aa=function(){return this.c.get(s.S)||null},s.r.Ba=function(){return this.c.get(s.R)||null},s.r.ga=function(){return Be(this,s.qj)},s.r.ba=function(){return Be(this,s.S)},s.r.ca=function(){return Be(this,s.R)},s.r.ya=function(e){Fe(this,s.qj,e)},s.r.ia=function(e){Fe(this,s.S,e)},s.r.ja=function(e){Fe(this,s.R,e)},s.r.xa=function(e,t){ze(this,s.qj,e,void 0!==t&&t)},s.r.Ea=function(e,t){ze(this,s.S,e,void 0!==t&&t)},s.r.Fa=function(e,t){ze(this,s.R,e,void 0!==t&&t)},s.r.addTextTrack=function(e){var t=this;return s.z((function(n){return t.a?n=s.x(n,t.a.addTextTrack(e.url,e.language,e.kind,e.mimeType,e.codec,e.label),0):(n.a=0,n=void 0),n}))},s.r.na=function(){return!!this.a&&this.a.na()},je.prototype.isAbrEnabled=je.prototype.na,je.prototype.addTextTrack=je.prototype.addTextTrack,je.prototype.setTextRendition=je.prototype.Fa,je.prototype.setAudioRendition=je.prototype.Ea,je.prototype.setVideoRendition=je.prototype.xa,je.prototype.setTextTrack=je.prototype.ja,je.prototype.setAudioTrack=je.prototype.ia,je.prototype.setVideoTrack=je.prototype.ya,je.prototype.getTextTrack=je.prototype.ca,je.prototype.getAudioTrack=je.prototype.ba,je.prototype.getVideoTrack=je.prototype.ga,je.prototype.getLoadingTextRendition=je.prototype.Ba,je.prototype.getLoadingAudioRendition=je.prototype.Aa,je.prototype.getLoadingVideoRendition=je.prototype.Ca,je.prototype.getTextRendition=je.prototype.fa,je.prototype.getAudioRendition=je.prototype.ma,je.prototype.getVideoRendition=je.prototype.V,je.prototype.getTextTracks=je.prototype.U,je.prototype.getAudioTracks=je.prototype.getAudioTracks,je.prototype.getVideoTracks=je.prototype.getVideoTracks,Je.prototype.clear=function(){this.a.clear()},Qe.prototype.add=function(e){return $e(this.b,e)?(this.a.add(e),!0):(s.C("Rejecting variant - not compatible with root."),!1)},Qe.prototype.values=function(){return this.a.values()},tt.prototype.create=function(e){var t=this,n=e.filter((function(e){return $e(t.a,e)}));return n.length?new Qe(n[0],n):this.b.create(e)},nt.prototype.create=function(e){var t=[];t=rt(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&(e=it(t,this.b),e.length?t=e:s.C("No exact match for variant role could be found.")),this.a&&(e=Te(t,this.a),e.length?t=e:s.C("No exact match for the channel count could be found.")),e=new Qe(t[0]),t=s.v(t),n=t.next();!n.done;n=t.next())n=n.value,$e(e.b,n)&&e.add(n);return e},at.prototype.getState=function(){return this.a};var Br=0,Fr=1;ot.prototype.release=function(){this.a=this.c=null,this.b=function(){}},ot.prototype.h=function(e){var t=this.a,n=this.c.periods;e=Le(n,e)||n[0],t!=e&&this.b(e),this.a=e},ut.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},ut.prototype.set=function(e){this.c=e,ct(this)},lt.prototype.release=function(){this.c=null,this.a=function(){}},pt.prototype.release=function(){this.c&&(this.c.release(),this.c=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.m=this.l=null},pt.prototype.Zc=function(){this.h=!0,gt(this)},mt.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.f=function(){},this.a=null},Tt.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},xt.prototype.release=function(){this.f&&(this.f.release(),this.f=null),this.g&&(this.g.release(),this.g=null),this.i&&(this.i.stop(),this.i=null),this.c=this.f=this.a=this.h=null,this.l=function(){}},s.Mt.prototype.destroy=function(){for(var e=s.v(this.f.values()),t=e.next();!t.done;t=e.next())ln(t.value);return this.f.clear(),this.j.clear(),this.h=this.i=this.v=this.c=this.b=null,this.g=!0,Promise.resolve()},s.Mt.prototype.start=function(){var e,t,n,r=this;return s.z((function(i){if(1==i.a){if(e=r.b.Ka(),t=an(r,e),n=r.b.Rd(r.c.periods[t]),!n.variant&&!n.text)throw r.a.error("init: no Streams chosen"),new s.K(s.M,5,5005);return r.u=!n.variant&&!!n.text,s.x(i,Kt(r,n.variant?n.variant.audio:null,n.variant?n.variant.video:null,n.text,e),2)}if(r.g)return i["return"]();r.a.debug("init: completed initial Stream setup"),r.b&&r.b.ni&&(r.a.debug("init: calling onInitialStreamsSetup()..."),r.b.ni()),s.y(i)}))},s.Mt.prototype.C=function(e,t,n,r){var i=E(r.s),a=E(r.s),o=s.Yh(r.s),u=s.Yh(r.s),c=s.Yh(r.s),l=s.Yh(r.s);r=s.ai(r.s,r.s.ea()-r.s.getPosition()),e=e.startTime+t.startTime+u/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.b.jf():this.b.onEvent(new Re("emsg",{detail:{startTime:e,endTime:e+c/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:u,eventDuration:c,id:l,messageData:r}})))},s.Mt.prototype.F=function(e){var t=this,n=!1,r=0;(new s.ri).G("moov",s.si).G("trak",s.si).G("mdia",s.si).G("minf",s.si).G("stbl",s.si).T("stsd",s.ti).G("encv",(function(e){e.s.skip(78),s.si(e)})).G("pasp",(function(e){r=e.start+e.Ed;var i=s.Yh(e.s),a=s.Yh(e.s);n=i!==a,t.a.debug("hSpacing="+i+", vSpacing="+a+", updatePASP="+n),e.Pa.stop()})).parse(e.data),n&&(e=new s.Qh(new DataView(e.data)),e.seek(r),s.P(e,1),s.P(e,1))},s.r=pn.prototype,s.r.remove=function(e,t){return!!this.a&&(mn(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},s.r.append=function(e){for(var t=this,n=[],r=0;r<e.length;r++){var i=gn(e[r]);i&&n.push(i)}n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach((function(e){t.a.addCue(e)}))},s.r.destroy=function(){return this.a&&mn(this.a,(function(){return!0})),this.a=null,Promise.resolve()},s.r.isTextVisible=function(){return this.a.mode==s.wd},s.r.setTextVisibility=function(e){this.a.mode=e?s.wd:s.Ec},s.w(vn,s.Pg),s.r=vn.prototype,s.r.init=function(e,t){var n=e.D();s.Pg.prototype.init.call(this,e,t),Sn(this,n)},s.r.namespace=function(){return g},s.r.Ie=function(){return new je},s.r.getState=function(){return this.R},s.r.getDrmInfo=function(){return this.h?this.h.getDrmInfo():null},s.r.unload=function(){var e=this;if(this.j){var t=this.getTrackManager();return t&&t.release(),this.o==Vr?Promise.resolve():(t=this.getSurface().D(),t.removeEventListener(s.vd,this.Pe),t.removeEventListener(s.ud,this.Ne),wn(this).then((function(){e.log.debug(s.Na,e.j),e.j=null,e.od=0,e.Jc=null,e.S=null})))}return Promise.resolve()},s.r.release=function(){var e=this;return this.unload().then((function(){return yn(e,s.ym)}))},s.r.getBufferInfo=function(e){if(this.v){var t=oe(this.v),n=new s.Le(void 0,e);switch(e){case s.qj:return t.video?t.video:n;case s.S:return t.audio?t.audio:n;case s.R:return t.text?t.text:n}return t.total?t.total:n}return this.jc?(t=L(this.jc),R(t,e)):s.Pg.prototype.getBufferInfo.call(this,e)},s.r.getPosition=function(){return this.m?kt(this.m):s.Pg.prototype.getPosition.call(this)},s.r.getPresentationStartTime=function(){return this.c&&this.c.presentationTimeline.getPresentationStartTime()||0},s.r.getDuration=function(){return this.c?this.c.presentationTimeline.getDuration():1/0},s.r.destroy=function(){var e=this;return s.z((function(t){return 1==t.a?s.x(t,s.Pg.prototype.destroy.call(e),2):3!=t.a?e.o==Vr?t["return"]():(e.log.debug("Destroying player..."),e.o=Vr,s.x(t,Tn(e),3)):(e.i&&(e.i.release(),e.i=null),e.g=null,void s.y(t))}))},s.r.load=function(e){var t,n,r,i,a=this;return s.z((function(o){switch(o.a){case 1:if(a.o==Vr)return o["return"](Promise.reject(new s.K(s.M,7,7e3)));if(a.w=new s.hk,a.ld=Date.now()/1e3,yn(a,s.Mn),a.j=s.Gk(e),s.Og(e)&&(a.a=s.Ng(a.Hc,e)),a.log.info(s.va,a.a),a.log.info(s.Ga,a.j),(t=a.getTrackManager())&&t.load(),n=a.getSurface().D(),n.loop=!!a.a.loop,n.addEventListener(s.vd,a.Pe),n.addEventListener(s.ud,a.Ne),s.J.H(a.a.volume)||a.setVolume(a.a.volume),s.J.H(a.a.muted)||a.setMuted(a.a.muted),a.u&&a.u.configure(a.a.manifest),a.h&&(a.h.c=s.rh(a.a.drm)),a.b){a.b.h=a.a.streaming;try{a.c.periods.forEach(a.xd.bind(a))}catch(f){a.onError(f)}var u=Nt(a.b),c=Dt(a.b),l=lr(a);u=xe(u,c,l.variants),a.g&&u&&u.allowedByApplication&&u.allowedByKeySystem?Qn(a,l.variants):(a.log.debug("Choosing new streams after changing configuration"),$n(a,l))}return a.g&&(a.g.configure(a.a.abr),a.a.abr.enabled&&!a.C?a.g.enable():a.g.disable()),r=a.j[a.getSourceIndex()],o.c=2,s.x(o,Sn(a,n),4);case 4:return s.x(o,xn(a,n),5);case 5:return s.x(o,kn(a,r),6);case 6:return s.x(o,An(a,r),7);case 7:return s.x(o,In(a),8);case 8:return s.x(o,Mn(a),9);case 9:s.Be(o,0);break;case 2:i=s.Ce(o),a.onError(i),s.y(o)}}))},s.r.isLive=function(){return!!this.c&&this.c.presentationTimeline.isLive()},s.r.getSeekRange=function(){if(this.c){var e=this.c.presentationTimeline;return{start:C(e,0),end:M(e)}}return{start:0,end:0}},s.r.getPlaybackRate=function(){if(this.hc){var e=this.hc;e=e.f?0:e.c}else e=0;return e},s.r.U=function(){if(this.c&&this.m){var e=lr(this);if(null==e)e=null;else{if(!Xe(this.F,e).text){var t=s.vs(e.textStreams,this.la,this.fc);t.length&&(t=t[0],Xe(this.F,e).text=t)}e=Xe(this.F,e).text}t=[];for(var n=s.v(cr(this)),r=n.next();!r.done;r=n.next()){r=r.value;var i=we(r);i.active=r==e,t.push(i)}return t}return[]},s.r.getThumbnailStreams=function(){if(this.c&&this.m){var e=lr(this);return e?e.thumbStreams:[]}return[]},s.r.getStats=function(){if(this.o!=qr)return s.ik();Yn(this);var e=this.f;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.w,n=Number(e.totalVideoFrames);t.g=Number(e.droppedVideoFrames),t.f=n}return this.o==qr&&((e=fr(this))&&(this.w.l=e.bandwidth),e&&e.video&&(t=this.w,n=e.video.height||NaN,t.c=e.video.width||NaN,t.b=n),e=this.g.getBandwidthEstimate(),this.w.h=e),this.w.getStats()},s.r.getTimelineCues=function(){return this.qa?Array.from(this.qa.a):[]},s.r.addTextTrack=function(e,t,n,r,i,a){var o,u,c,l,f,d,h,p,g,m=this;return s.z((function(v){if(1==v.a){if(m.o!=qr)throw m.log.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");if(o=lr(m),u=s.ok,c=m.c.periods.indexOf(o),l=c+1,f=l>=m.c.periods.length?m.c.presentationTimeline.getDuration():m.c.periods[l].startTime,d=f-o.startTime,1/0==d)throw new s.K(1,4,4040);return h=new s.kn(1,0,d,(function(){return[e]}),0,null),p={id:m.af++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?h:null},adjustSegmentDurations:function(){},getDuration:function(){return d},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:u.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},m.Kc.add(p),o.textStreams.push(p),s.x(v,Lt(m.b,p),2)}return(g=s.Ot(m.b,s.k))&&(Xe(m.F,o).text=g),m.Kc["delete"](p),m.log.debug("Choosing new streams after adding a text stream"),$n(m,o),rr(m),v["return"](we(p))}))},s.r.xd=function(e){var t=this.b?Nt(this.b):null,n=this.b?Dt(this.b):null;if(ve(this.h,t,n,e),t=e.variants,!t.some(Se))throw new s.K(s.M,4,4011);if(sr(this,e.variants),me(t,this.a.restrictions,this.Ye)&&this.b&&lr(this)==e&&rr(this),e=this.h?this.h.getDrmInfo():null)for(t=s.v(t),n=t.next();!n.done;n=t.next()){n=s.v(n.value.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==e.keySystem){r=s.v(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,s.Qi(this.h,i.initDataType,i.initData)}}},s.r.Kg=function(){this.ec=!0},s.r.Jg=function(){this.ec=!1},s.r.Hg=function(e){this.log.debug(s.hr,e);try{this.log.debug("onChooseStreams_, choosing variant from ",e.variants),this.log.debug("onChooseStreams_, choosing text from ",e.textStreams);var t=Zn(this,e);return this.log.debug("onChooseStreams_, chose variant ",t.variant),this.log.debug("onChooseStreams_, chose text ",t.text),t}catch(n){return this.onError(n),{variant:null,text:null}}},s.r.Gg=function(){this.log.debug("canSwitch_"),this.C=!1,this.a.abr.enabled&&this.g.enable(),this.M&&(Ot(this.b,this.M,this.Xe,this.Ve),this.M=null),this.I&&(s.Wt(this.b,this.I,!0,0),this.I=null)},s.r.Ig=function(){this.u&&this.u.update&&this.u.update()},s.r.wi=function(){this.m&&this.m.g.Zc()},s.r.onError=function(e){if(this.o!==Vr){var t=new s.I(s.zc,{detail:e});e.a===s.M&&yn(this,s.qk),this.trigger(t),t.defaultPrevented&&(t.b=!0)}},s.r.td=function(e){e.type===s.uc?this.dispatchEvent(new s.I(s.uc,{keySystem:this.h.keySystem(),qh:s.Ui(this.h)})):"largegap"!==e.type&&"emsg"!==e.type&&this.log.debug("Unhandled/ignored event",e.type)},s.r.na=function(){return this.a.abr.enabled};var Vr=0,zr=1,qr=2,Hr=[v,s.Hc];dr.prototype.canPlay=function(e){if(s.mg("CrKey"))return!1;var t=e.type||"",n=a(e.Tb)!==s.Sb||e.Tb;return(t!==s.Ck||!n||!s.og())&&(n=s.jg(),e=s.Sn.da(e.url,t),!(!n||!e))},dr.prototype.create=function(){return new vn},dr.prototype.create=dr.prototype.create,dr.prototype.canPlay=dr.prototype.canPlay,s.gf(new dr),s.Ak((function(){if(s.F("MediaSource.install"),e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)s.Se("Patching Chromecast MSE bugs."),vr();else if(s.og()){var t=navigator.appVersion;t=0<=t.indexOf("Version")?parseInt(t.match(/Version\/(\d+)/)[1],10):13,gr(),10>=t?(s.Se("Blacklisting MSE on Safari <= 10."),e.MediaSource=null):12>=t?(s.Se("Patching Safari 11 & 12 MSE bugs."),hr(),pr()):(s.Se("Patching Safari 13 MSE bugs."),hr())}else s.ng(2)||s.ng(3)||s.ng(4)?mr():s.Se("Using native MSE as-is.");else s.Se("No MSE implementation available.")}));var Wr,Gr,Jr="";Sr.prototype.createMediaKeys=function(){s.F("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var e=new Tr(this.a);return Promise.resolve(e)},Sr.prototype.getConfiguration=function(){return s.F("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.b},s.r=Tr.prototype,s.r.createSession=function(e){if(s.F("PatchedMediaKeysWebkit.MediaKeys.createSession"),e=e||s.Ed,e!==s.Ed&&e!==s.id)throw new TypeError(s.Sa+e+s.ba);var t=this.b||document.createElement(s.Xd);return t.src||(t.src="about:blank"),e=new kr(t,this.g,e),this.c.push(e),e},s.r.setServerCertificate=function(){return s.F("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.r.Ci=function(e){s.F("PatchedMediaKeysWebkit.onWebkitNeedKey_",e);var t=document.createEvent("CustomEvent");t.initCustomEvent(s.wc,!1,!1,null),t.initDataType=s.ge,t.initData=e.initData,this.b.dispatchEvent(t)},s.r.Og=function(e){s.F("PatchedMediaKeysWebkit.onWebkitKeyMessage_",e);var t=xr(this,e.sessionId);t?(e=new Re(s.Sc,{messageType:void 0===t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),s.F("PatchedMediaKeysWebkit.MediaKeySession.generated"),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e)):s.Te("Session not found",e.sessionId)},s.r.Mg=function(e){s.F("PatchedMediaKeysWebkit.onWebkitKeyAdded_",e),(e=xr(this,e.sessionId))&&(s.F("PatchedMediaKeysWebkit.MediaKeySession.ready"),Ir(e,s.Rd),e.a&&e.a.resolve(),e.a=null)},s.r.Ng=function(e){s.F("PatchedMediaKeysWebkit.onWebkitKeyError_",e);var t=xr(this,e.sessionId);if(t){s.F("PatchedMediaKeysWebkit.MediaKeySession.handleError",e);var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45===e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?Ir(t,v):Ir(t,1===n?"expired":s.Hc))}},s.Ke(kr,Ne),s.r=kr.prototype,s.r.vd=function(e,t){if(this.a)this.a.then(this.vd.bind(this,e,t))["catch"](this.vd.bind(this,e,t));else{if(this.a=e,this.c===T){var n=s.mf(t),r=JSON.parse(n);"oct"!==r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=s.di(r.keys[0].k),r=s.di(r.keys[0].kid)}else n=s.N(t),r=null;var i=br("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(u){this.a.reject(u),this.a=null}}},s.r.generateRequest=function(e,t){return s.F("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),Ar(this,t,null)},s.r.load=function(e){return s.F("PatchedMediaKeysWebkit.MediaKeySession.load"),this.g===s.id?Ar(this,null,e):Promise.reject(Error(c))},s.r.update=function(e){s.F("PatchedMediaKeysWebkit.MediaKeySession.update",e);var t=new s.Of;return this.vd(t,e),t},s.r.close=function(){if(s.F("PatchedMediaKeysWebkit.MediaKeySession.close"),this.g!==s.id){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=br("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},s.r.remove=function(){return s.F("PatchedMediaKeysWebkit.MediaKeySession.remove"),this.g!==s.id?Promise.reject(Error(c)):this.close()},s.r=Mr.prototype,s.r.forEach=function(e){this.a&&e(this.a,Wr)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Wr;return!(!this.a||!s.gi(s.N(e),s.N(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.Ak((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)s.Se("Using webkit-prefixed EME v0.1b"),Jr="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;s.Se("Using nonprefixed EME v0.1b")}Wr=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=yr,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=wr,e.MediaKeys=Tr,e.MediaKeySystemAccess=Sr}})),Pr.prototype.createMediaKeys=function(){s.F("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var e=new Nr(this.keySystem);return Promise.resolve(e)},Pr.prototype.getConfiguration=function(){return s.F("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.a},Nr.prototype.createSession=function(e){if(s.F("PatchedMediaKeysMs.MediaKeys.createSession"),e=e||s.Ed,e!=s.Ed)throw new TypeError(s.Sa+e+s.ba);return new Lr(this.a,e)},Nr.prototype.setServerCertificate=function(){return s.F("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.Ke(Lr,Ne),s.r=Lr.prototype,s.r.generateRequest=function(e,t){s.F("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.a=new s.Of;try{this.c=this.g.createSession(s.Zd,s.N(t),null),this.f.on(this.c,"mskeymessage",this.ui.bind(this)),this.f.on(this.c,"mskeyadded",this.si.bind(this)),this.f.on(this.c,"mskeyerror",this.ti.bind(this)),Ur(this,s.Ad)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.F("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error(s.za))},s.r.update=function(e){s.F("PatchedMediaKeysMs.MediaKeySession.update"),this.b=new s.Of;try{this.c.update(s.N(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.F("PatchedMediaKeysMs.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.$e(this.f)}catch(e){this.closed.reject(e)}return this.closed},s.r.remove=function(){return s.F("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error(s.Aa))},s.r.ui=function(e){s.F("PatchedMediaKeysMs.onMsKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Re(s.Sc,{messageType:void 0==this.keyStatuses.a?s.Kc:s.Jc,message:e.message.buffer}))},s.r.si=function(e){s.F("PatchedMediaKeysMs.onMsKeyAdded_",e),this.a?(s.F("Simulating completion for a PR persistent license."),Ur(this,s.Rd),this.a.resolve(),this.a=null):this.b&&(Ur(this,s.Rd),this.b.resolve(),this.b=null)},s.r.ti=function(e){if(s.F("PatchedMediaKeysMs.onMsKeyError_",e),e=Error("EME PatchedMediaKeysMs key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ur(this,s.ed);break;default:Ur(this,s.Hc)}},s.r=jr.prototype,s.r.forEach=function(e){this.a&&e(this.a,Gr)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Gr;return!(!this.a||!s.gi(s.N(e),s.N(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.Ak((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.Se("Using ms-prefixed EME v20140218"),Gr=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Rr,e.MediaKeys=Nr,e.MediaKeySystemAccess=Pr,navigator.requestMediaKeySystemAccess=Cr)}))};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else r=[n("3f2b")],i=function(e){return c=e._,u.call(o,this),o}.apply(t,r),void 0===i||(e.exports=i)})()},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5cc6":function(e,t,n){var r=n("74e8");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5db7":function(e,t,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("1c0b"),u=n("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=o(n.length);return s(e),t=u(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"5f96":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(i(this),arguments)}))},"5fb2":function(e,t,n){"use strict";var r=2147483647,i=36,a=1,o=26,s=38,u=700,c=72,l=128,f="-",d=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=i-a,m=Math.floor,v=String.fromCharCode,b=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},y=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?m(e/u):e>>1,e+=m(e/t);e>g*o>>1;r+=i)e=m(e/g);return m(r+(g+1)*e/(e+s))},S=function(e){var t=[];e=b(e);var n,s,u=e.length,d=l,h=0,g=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(v(s));var S=t.length,T=S;S&&t.push(f);while(T<u){var E=r;for(n=0;n<e.length;n++)s=e[n],s>=d&&s<E&&(E=s);var x=T+1;if(E-d>m((r-h)/x))throw RangeError(p);for(h+=(E-d)*x,d=E,n=0;n<e.length;n++){if(s=e[n],s<d&&++h>r)throw RangeError(p);if(s==d){for(var k=h,A=i;;A+=i){var I=A<=g?a:A>=g+o?o:A-g;if(k<I)break;var M=k-I,C=i-I;t.push(v(y(I+M%C))),k=m(M/C)}t.push(v(y(k))),g=w(h,x,T==S),h=0,++T}}++h,++d}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(h,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(d.test(n)?"xn--"+S(n):n);return r.join(".")}},6062:function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"60bd":function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("e260"),o=n("b622"),s=o("iterator"),u=r.Uint8Array,c=a.values,l=a.keys,f=a.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,p=u&&u.prototype[s],g=!!p&&("values"==p.name||void 0==p.name),m=function(){return c.call(d(this))};h("entries",(function(){return f.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",m,!g),h(s,m,!g)},"621a":function(e,t,n){"use strict";var r=n("da84"),i=n("83ab"),a=n("a981"),o=n("9112"),s=n("e2cc"),u=n("d039"),c=n("19aa"),l=n("a691"),f=n("50c4"),d=n("0b25"),h=n("77a7"),p=n("e163"),g=n("d2bb"),m=n("241c").f,v=n("9bf2").f,b=n("81d5"),y=n("d44e"),w=n("69f3"),S=w.get,T=w.set,E="ArrayBuffer",x="DataView",k="prototype",A="Wrong length",I="Wrong index",M=r[E],C=M,P=r[x],R=P&&P[k],N=Object.prototype,D=r.RangeError,L=h.pack,O=h.unpack,_=function(e){return[255&e]},U=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},K=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return L(e,23,4)},F=function(e){return L(e,52,8)},V=function(e,t){v(e[k],t,{get:function(){return S(this)[t]}})},z=function(e,t,n,r){var i=d(n),a=S(e);if(i+t>a.byteLength)throw D(I);var o=S(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+t);return r?u:u.reverse()},q=function(e,t,n,r,i,a){var o=d(n),s=S(e);if(o+t>s.byteLength)throw D(I);for(var u=S(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(a){if(!u((function(){M(1)}))||!u((function(){new M(-1)}))||u((function(){return new M,new M(1.5),new M(NaN),M.name!=E}))){C=function(e){return c(this,C),new M(d(e))};for(var H,W=C[k]=M[k],G=m(M),J=0;G.length>J;)(H=G[J++])in C||o(C,H,M[H]);W.constructor=C}g&&p(R)!==N&&g(R,N);var X=new P(new C(2)),Y=R.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(R,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){c(this,C,E);var t=d(e);T(this,{bytes:b.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},P=function(e,t,n){c(this,P,x),c(e,C,x);var r=S(e).byteLength,a=l(t);if(a<0||a>r)throw D("Wrong offset");if(n=void 0===n?r-a:f(n),a+n>r)throw D(A);T(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(V(C,"byteLength"),V(P,"buffer"),V(P,"byteLength"),V(P,"byteOffset")),s(P[k],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return K(z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return K(z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,_,t)},setUint8:function(e,t){q(this,1,e,_,t)},setInt16:function(e,t){q(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});y(C,E),y(P,x),e.exports={ArrayBuffer:C,DataView:P}},"649e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6566:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),u=n("2266"),c=n("7dd0"),l=n("2626"),f=n("83ab"),d=n("f183").fastKey,h=n("69f3"),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[c],e,n)})),h=g(t),m=function(e,t,n){var r,i,a=h(e),o=v(e,t);return o?o.value=n:(a.last=o={index:i=d(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=v(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),a(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},6993:function(e,t,n){"use strict";var r=n("3314"),i=n.n(r);i.a},"6d61":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),u=n("2266"),c=n("19aa"),l=n("861d"),f=n("d039"),d=n("1c7e"),h=n("d44e"),p=n("7156");e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",b=i[e],y=b&&b.prototype,w=b,S={},T=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(m||y.forEach&&!f((function(){(new b).entries().next()})))))w=n.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var E=new w,x=E[v](m?{}:-0,1)!=E,k=f((function(){E.has(1)})),A=d((function(e){new b(e)})),I=!m&&f((function(){var e=new b,t=5;while(t--)e[v](t,t);return!e.has(-0)}));A||(w=t((function(t,n){c(t,w,e);var r=p(new b,t,w);return void 0!=n&&u(n,r[v],r,g),r})),w.prototype=y,y.constructor=w),(k||I)&&(T("delete"),T("has"),g&&T("get")),(I||x)&&T(v),m&&y.clear&&delete y.clear}return S[e]=w,r({global:!0,forced:w!=b},S),h(w,e),m||n.setStrong(w,e,g),w}},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=a(t),u=i(s),c=u.length,l=0,f=[];while(c>l)n=u[l++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=r},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},"72f7":function(e,t,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,i=n("d039"),a=n("da84"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,c=[].join;i((function(){u.call({})}))&&(u=function(){return c.call(this)});var l=s.toString!=u;r("toString",u,l)},"735e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("81d5"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("fill",(function(e){return i.apply(a(this),arguments)}))},"73d9":function(e,t,n){var r=n("44d2");r("flatMap")},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},"74e8":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("83ab"),o=n("8aa7"),s=n("ebb5"),u=n("621a"),c=n("19aa"),l=n("5c6c"),f=n("9112"),d=n("50c4"),h=n("0b25"),p=n("182d"),g=n("c04e"),m=n("5135"),v=n("f5df"),b=n("861d"),y=n("7c73"),w=n("d2bb"),S=n("241c").f,T=n("a078"),E=n("b727").forEach,x=n("2626"),k=n("9bf2"),A=n("06cf"),I=n("69f3"),M=n("7156"),C=I.get,P=I.set,R=k.f,N=A.f,D=Math.round,L=i.RangeError,O=u.ArrayBuffer,_=u.DataView,U=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,K=s.TypedArray,B=s.TypedArrayPrototype,F=s.aTypedArrayConstructor,V=s.isTypedArray,z="BYTES_PER_ELEMENT",q="Wrong length",H=function(e,t){var n=0,r=t.length,i=new(F(e))(r);while(r>n)i[n]=t[n++];return i},W=function(e,t){R(e,t,{get:function(){return C(this)[t]}})},G=function(e){var t;return e instanceof O||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},J=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return J(e,t=g(t,!0))?l(2,e[t]):N(e,t)},Y=function(e,t,n){return!(J(e,t=g(t,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};a?(U||(A.f=X,k.f=Y,W(B,"buffer"),W(B,"byteOffset"),W(B,"byteLength"),W(B,"length")),r({target:"Object",stat:!0,forced:!U},{getOwnPropertyDescriptor:X,defineProperty:Y}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,l="set"+e,g=i[s],m=g,v=m&&m.prototype,k={},A=function(e,t){var n=C(e);return n.view[u](t*a+n.byteOffset,!0)},I=function(e,t,r){var i=C(e);n&&(r=(r=D(r))<0?0:r>255?255:255&r),i.view[l](t*a+i.byteOffset,r,!0)},N=function(e,t){R(e,t,{get:function(){return A(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};U?o&&(m=t((function(e,t,n,r){return c(e,m,s),M(function(){return b(t)?G(t)?void 0!==r?new g(t,p(n,a),r):void 0!==n?new g(t,p(n,a)):new g(t):V(t)?H(m,t):T.call(m,t):new g(h(t))}(),e,m)})),w&&w(m,K),E(S(g),(function(e){e in m||f(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,r){c(e,m,s);var i,o,u,l=0,f=0;if(b(t)){if(!G(t))return V(t)?H(m,t):T.call(m,t);i=t,f=p(n,a);var g=t.byteLength;if(void 0===r){if(g%a)throw L(q);if(o=g-f,o<0)throw L(q)}else if(o=d(r)*a,o+f>g)throw L(q);u=o/a}else u=h(t),o=u*a,i=new O(o);P(e,{buffer:i,byteOffset:f,byteLength:o,length:u,view:new _(i)});while(l<u)N(e,l++)})),w&&w(m,K),v=m.prototype=y(B)),v.constructor!==m&&f(v,"constructor",m),j&&f(v,j,s),k[s]=m,r({global:!0,forced:m!=g,sham:!U},k),z in m||f(m,z,a),z in v||f(v,z,a),x(s)}):e.exports=function(){}},"77a7":function(e,t){var n=1/0,r=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,u=function(e,t,u){var c,l,f,d=new Array(u),h=8*u-t-1,p=(1<<h)-1,g=p>>1,m=23===t?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,b=0;for(e=r(e),e!=e||e===n?(l=e!=e?1:0,c=p):(c=a(o(e)/s),e*(f=i(2,-c))<1&&(c--,f*=2),e+=c+g>=1?m/f:m*i(2,1-g),e*f>=2&&(c++,f/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*f-1)*i(2,t),c+=g):(l=e*i(2,g-1)*i(2,t),c=0));t>=8;d[b++]=255&l,l/=256,t-=8);for(c=c<<t|l,h+=t;h>0;d[b++]=255&c,c/=256,h-=8);return d[--b]|=128*v,d},c=function(e,t){var r,a=e.length,o=8*a-t-1,s=(1<<o)-1,u=s>>1,c=o-7,l=a-1,f=e[l--],d=127&f;for(f>>=7;c>0;d=256*d+e[l],l--,c-=8);for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;r=256*r+e[l],l--,c-=8);if(0===d)d=1-u;else{if(d===s)return r?NaN:f?-n:n;r+=i(2,t),d-=u}return(f?-1:1)*r*i(2,d-t)};e.exports={pack:u,unpack:c}},"78fe":function(e,t,n){var r,i;n("99af"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("a434"),n("b0c0"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="BANDWIDTH",n="CLOSED-CAPTIONS",r="EXT-X-BYTERANGE",i="EXT-X-ENDLIST",a="EXT-X-MEDIA-SEQUENCE",s="EXT-X-PLAYLIST-TYPE",u="EXT-X-STREAM-INF",c="EXT-X-TARGETDURATION",l="GROUP-ID",f="Guessing audio-only",d="SUBTITLES",h="URI",p="application/mp4",g=function(e,t){return t=void 0===t?0:t,t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]},m=function(e,t,n,r){this.c=e,this.type=t,this.a=n,this.b=r||null},v=function(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r},b=function(e,t){this.name=e,this.value=t},y=function(e,t,n){return(e=e.getAttribute(t))?e.value:n||null},w=function(e,t){var n=e.getAttribute(t);if(!n)throw new o.K(o.M,4,4023,t);return n.value},S=function(e,t){this.b=t,this.a=e},T=function(){this.a=0},E=function(e,t,n){t=o.mf(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var r=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new o.K(o.M,4,4015);t=0;for(var i=1;i<r.length;i++)if(!ue.Hd(r[i])){var a=k(e,r[i]);if(--e.a,ce.includes(a.name)){t=1;break}a.name==u&&(i+=1)}for(i=[],a=1;a<r.length;)if(ue.Hd(r[a]))a+=1;else{var s=k(e,r[a]);if(le.includes(s.name)){if(1!=t)throw new o.K(o.M,4,4017);return r=r.splice(a,r.length-a),e=x(e,n,r,i),new m(n,t,i,e)}i.push(s),a+=1,s.name==u&&(s.a.push(new b(h,r[a])),a+=1)}return new m(n,t,i)},x=function(e,t,n,r){var i=[],a=[];return n.forEach((function(n){/^(#EXT)/.test(n)?(n=k(e,n),ce.includes(n.name)?r.push(n):a.push(n)):ue.Hd(n)||(n=ue.Sc(t,n.trim()),i.push(new S(n,a)),a=[])})),i},k=function(e,t){var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new o.K(o.M,4,4016,{invalidTag:t});var i,a=r[1],s=r[2];if(r=[],s){var u;s=new o.il(s),(u=o.jl(s,/^([^,=]+)(?:,|$)/g))&&(i=u[1]);for(var c=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;u=o.jl(s,c);)r.push(new b(u[1],u[2]||u[3]))}return new v(n,a,r,i)},A=function(){var e=this;this.f=this.h=null,this.W=1,this.j=new Map,this.S=new Set,this.b=new Map,this.c=null,this.m="",this.C=new T,this.R=0,this.l=new o.sg((function(){ie(e)})),this.g=pe,this.w=null,this.I=0,this.M=1/0,this.o=new o.eg,this.N=[],this.A=new Map,this.v=!1,this.i=new Map,this.F=null,this.a=new o.E("clpp.hls.HlsParser"),this.u=new Map},I=function(e,t){var n,r,s,u,c,l,f,d,h,p;return o.z((function(g){if(1==g.a)return n=ue,r=ve,s=t.Ff,o.x(g,ne(e,s),2);if(3!=g.a){if(u=g.b,c=E(e.C,u.data,u.uri),1!=c.type)throw new o.K(o.M,4,4017);return f=(l=n.mb(c.a,a))?Number(l.value):0,d=t.stream,o.x(g,H(e,t.jd,c,f,d.type,d.mimeType,d.codecs,d.keyInfo),3)}h=g.b,t.$a.replace(h),p=h[h.length-1],n.mb(c.a,i)&&(ae(e,r.VOD),e.c.bb(p.endTime)),o.y(g)}))},M=function(e,n){var r,i,a,s,c,l,f,d,p,g,y,w,S,T,x;return o.z((function(k){if(1==k.a){if(r=E(e.C,n,e.m),1===r.type){e.u.set(e.m,r);var A=e.C,I=e.m,M=[],P=[];P.push(new b(t,"0")),P.push(new b(h,I)),M.push(new v(A.a++,u,P)),r=new m(I,0,M)}return o.x(k,C(e,r.a),2)}if(i=k.b,!e.h)throw new o.K(o.M,7,7001);for(e.h.filterAllPeriods([i]),a=1/0,s=0,c=1/0,l=o.v(e.b.values()),f=l.next();!f.done;f=l.next())d=f.value,a=Math.min(a,d.Nd),s=Math.max(s,d.Nd),d.stream.type!=o.k&&(c=Math.min(c,d.duration));if(e.g!=pe?(e.c=new o.nn(0,3*e.I,!0),e.c.b=!1):(e.c=new o.nn(null,0,!0),e.c.b=!0),q(e),e.g!=pe){for(e.R=e.M,p=ve,e.g==p.LIVE&&(g=e.c.Xd,isNaN(e.f.availabilityWindowOverride)||(g=e.f.availabilityWindowOverride),e.c.Fb=g),y=0;95443.7176888889<=s;)y+=95443.7176888889,s-=95443.7176888889;if(y)for(e.a.debug("Offsetting live streams by",y,"to compensate for rollover"),w=o.v(e.b.values()),f=w.next();!f.done;f=w.next())S=f.value,95443.7176888889>S.Nd?(e.a.debug("Offset applied to",S.stream.type),S.stream.presentationTimeOffset=-y,S.$a.offset(y)):e.a.debug("Offset NOT applied to",S.stream.type)}else for(e.c.bb(c),e.c.offset(-a),T=o.v(e.b.values()),f=T.next();!f.done;f=T.next())x=f.value,x.stream.presentationTimeOffset=a,x.$a.offset(-a),o.mn(x.$a,c);e.w={presentationTimeline:e.c,periods:[i],offlineSessionIds:[],minBufferTime:0},o.y(k)}))},C=function(e,t){var r,i,a,s,c;return o.z((function(f){switch(f.a){case 1:r=ue,i=r.pc(t,"EXT-X-MEDIA"),a=r.pc(t,u);for(var h=o.v(a),p=h.next();!p.done;p=h.next()){var g=p.value,m=y(g,"AUDIO");p=y(g,"VIDEO");var v=y(g,d);if(g=j(e,g),v){var b=$(o.k,g);e.i.set(v,b),o.ol(g,b)}m&&(v=Z(o.Ib,g),e.i.set(m,v)),p&&(m=Z(o.Xd,g),e.i.set(p,m))}return o.x(f,R(e,i),2);case 2:for(h=ue.Qe(i,n),h=o.v(h),p=h.next();!p.done;p=h.next())p=p.value,m=y(p,"LANGUAGE")||o.Od,m=o.vl(m),v=w(p,l),p=w(p,"INSTREAM-ID"),e.A.get(v)||e.A.set(v,new Map),e.A.get(v).set(p,m);return o.x(f,N(e,a),3);case 3:return s=f.b,o.x(f,P(e,i),4);case 4:return c=f.b,f["return"]({startTime:0,variants:s,textStreams:c,thumbStreams:[]})}}))},P=function(e,t){var n,r,i,a,s,u,c,f,h,p,g,m;return o.z((function(v){if(1==v.a)return n=ue.Qe(t,d),r=n.map((function(t){var n,r;return o.z((function(i){if(1==i.a)return i.c=2,o.x(i,U(e,t),4);if(2!=i.a)return n=i.b,i["return"](n.stream);throw r=o.Ce(i),r}))})),o.x(v,Promise.all(r),2);for(i=v.b,a=o.v(n),s=a.next();!s.done;s=a.next())if(u=s.value,c=w(u,l),(f=e.i.get(c))&&(h=e.j.get(c)))for(p=o.v(h),g=p.next();!g.done;g=p.next())m=g.value,m.stream.codecs=f;return v["return"](i.filter((function(e){return e})))}))},R=function(e,t){var n;return o.z((function(r){return 1==r.a?(t=t.filter((function(e){var t=y(e,h)||"";return y(e,"TYPE")!==d&&""!==t})),t.length?r=o.x(r,U(e,t[0]),2):(r.a=2,r=void 0),r):(n=t.slice(1).map((function(t){return U(e,t)})),o.x(r,Promise.all(n),0))}))},N=function(e,n){var r,i,a,s,u,c,l;return o.z((function(f){if(1==f.a)return r=o.mi,n.sort((function(e,n){var r=Number(w(e,t)),i=Number(w(n,t));return r-i})),i=function(n){var r,i,a,s,u,c,l;return o.z((function(f){return 1==f.a?(r=y(n,"FRAME-RATE"),i=Number(w(n,t)),a=y(n,"RESOLUTION"),s=o.v(a?a.split("x"):[null,null]),u=s.next().value,c=s.next().value,o.x(f,D(e,n,a,r),2)):(l=f.b)?f["return"](O(e,l.audio,l.video,i,u,c,r)):f["return"]([])}))},o.x(f,i(n[0]),2);if(3!=f.a){for(a=f.b,s=[],u=1;u<n.length;u++)s.push(i(n[u]));return o.x(f,Promise.all(s),3)}return c=f.b,l=c.reduce(r.wd,a),l=l.filter((function(e){return null!=e})),f["return"](l)}))},D=function(e,t,n,r){var i,a,s,u,c,l,d,p,g,m,v,b,S;return o.z((function(T){if(1==T.a)return i=o.ok,a=j(e,t),s=y(t,"AUDIO"),u=y(t,"VIDEO"),l=(c=s||u)&&e.j.has(c)?e.j.get(c):[],d={audio:s?l:[],video:u?l:[]},e.a.debug("Guessing stream type for",t.toString()),g=w(t,h),m=d.audio.find((function(e){return e.jd===g})),v=$(i.VIDEO,a),b=n||r||v,l.length||1!==a.length||b?!l.length&&1<a.length?(e.a.debug("Guessing multiplexed audio+video"),p=i.VIDEO,a=[a.join(",")]):d.audio.length&&m||d.video.length?(e.a.debug(f),p=i.AUDIO):(e.a.debug("Guessing video-only"),p=i.VIDEO):p=i.AUDIO,o.x(T,K(e,t,a,p),3);if(2!=T.a&&(S=T.b),S)d[S.stream.type]=[S];else if(null===S)return e.a.debug("streamInfo is null"),T["return"](null);return L(d),T["return"](d)}))},L=function(e){e=o.v(e.audio.concat(e.video));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}},O=function(e,t,n,r,i,a,s){n.forEach((function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(s)||void 0)})),t.length||(t=[null]),n.length||(n=[null]);var u=[];t=o.v(t);for(var c=t.next();!c.done;c=t.next()){c=c.value;for(var l=o.v(n),f=l.next();!f.done;f=l.next()){var d=f.value;f=c?c.stream:null;var h=d?d.stream:null,p=c?c.drmInfos:null,g=d?d.drmInfos:null;d=(d?d.jd:"")+" - "+(c?c.jd:"");var m=void 0;if(f&&h){if(p.length&&g.length&&!(0<o.Zi(p,g).length)){e.a.warn("Incompatible DRM info in HLS variant.  Skipping.");continue}m=o.Zi(p,g)}else f?m=p:h&&(m=g);e.S.has(d)?e.a.debug("Skipping variant which only differs in text streams."):(f=_(e,f,h,r,m),u.push(f),e.S.add(d))}}return u},_=function(e,t,n,r,i){return{id:e.W++,language:t?t.language:o.Od,primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}},U=function(e,t){var n,r,i,a,s,u,c,f,d,p,g,m,v;return o.z((function(b){return 1==b.a?(n=w(t,l),r="",i=w(t,"TYPE").toLowerCase(),a=o.ok,i==o.Dd&&(i=a.TEXT),i!==a.TEXT&&n&&e.i.has(n)&&(r=e.i.get(n)),s=w(t,h),e.b.has(s)?b["return"](e.b.get(s)):(u=o.vl(y(t,"LANGUAGE",o.Od)),c=y(t,"NAME"),f=t.getAttribute("DEFAULT"),d=t.getAttribute("AUTOSELECT"),p=y(t,"CHANNELS"),g=i==o.Ib&&p?parseInt(p.split("/")[0],10):null,m=!!f&&!!d,o.x(b,B(e,s,r,i,u,m,c,g,null),2))):(v=b.b,null==v?b["return"](null):(e.j.has(n)?e.j.get(n).push(v):e.j.set(n,[v]),e.b.has(s)?b["return"](e.b.get(s)):(e.b.set(s,v),b["return"](v))))}))},j=function(e,t){var n=y(t,"CODECS","avc1.42E01E,mp4a.40.2").split(/\s*,\s*/),r=new Set,i=[];n=o.v(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var s=o.qi(a)[0];r.has(s)?e.a.debug("Ignoring duplicate codec"):(i.push(a),r.add(s))}return i},K=function(e,t,r,i){var a,s,u,c,l,f;return o.z((function(d){return 1==d.a?(a=o.ok,s=w(t,h),e.b.has(s)?d["return"](e.b.get(s)):(u=y(t,n),c=null,i==a.VIDEO&&u&&"NONE"!=u&&(c=e.A.get(u)),l=Z(i,r),o.x(d,B(e,s,l,i,o.Od,!1,null,null,c),2))):(f=d.b,null==f?d["return"](null):e.b.has(s)?d["return"](e.b.get(s)):(e.b.set(s,f),d["return"](f)))}))},B=function(e,t,n,r,i,s,u,c,l){var f,d,p,g,m,v,b,S,T,x,k,A,I,M,C,P,R,N,D,L,O,_,U,j,K,B,z,q,W;return o.z((function(G){switch(G.a){case 1:if(f=ue,d=f.Sc(e.m,t),e.g==pe&&e.u.has(d)){p=e.u.get(d),e.u["delete"](d),G.a=2;break}return o.x(G,ne(e,d),3);case 3:m=G.b,d=m.uri,p=E(e.C,m.data,d);case 2:if(1!=p.type)throw new o.K(o.M,4,4017);for(v=[],p.b.forEach((function(e){e=f.pc(e.b,"EXT-X-KEY"),v.push.apply(v,e)})),b=!1,S=[],T=null,x=o.v(v),k=x.next();!k.done;k=x.next())A=k.value,I=w(A,"METHOD"),M=y(A,"KEYFORMAT","identity"),"NONE"!=I&&("AES-128"==I?(C=y(A,"IV",""),P=f.Sc(e.m,w(A,h)),g={method:"AES-128",url:P,iv:C?o.ei((C||"0x").slice(2)):null},e.v=!0):(b=!0,(N=(R=he[M])?R(A):null)?(N.keyIds.length&&(T=N.keyIds[0]),S.push(N)):e.a.warn("Unsupported HLS KEYFORMAT",M)));if(b&&!S.length&&!e.v)throw new o.K(o.M,4,4026);return F(e,p),o.x(G,ee(e,r,n,p),4);case 4:return D=G.b,O=(L=f.mb(p.a,a))?Number(L.value):0,o.x(G,H(e,t,p,O,r,D,n,g),5);case 5:return _=G.b,U=_[0].startTime,j=_[_.length-1].endTime,K=j-U,B=new o.ln(_),z=V(p,g),q=void 0,r==o.k&&(q=o.Cd),W={id:e.W++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:B.find.bind(B),getSegmentReference:B.get.bind(B),adjustSegmentDurations:B.Pb.bind(B),getDuration:B.getDuration.bind(B),initSegmentReference:z,presentationTimeOffset:0,mimeType:D,codecs:n,kind:q,encrypted:b,keyId:T,language:i,label:u,type:r,primary:s,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:c,closedCaptions:l,keyInfo:g},G["return"]({stream:W,$a:B,drmInfos:S,jd:t,Ff:d,Nd:U,oj:j,duration:K})}}))},F=function(e,t){var n=ue.mb(t.a,s),r=ue.mb(t.a,i);r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r?ae(e,pe):(ae(e,n?me:ge),r=te(t.a,c),r=Number(r.value),e.I=Math.max(r,e.I),e.M=Math.min(r,e.M))},V=function(e,t){var n=ue.pc(e.a,"EXT-X-MAP");if(!n.length)return null;if(1<n.length)throw new o.K(o.M,4,4020);var r=n[0];n=w(r,h);var i=ue.Sc(e.c,n);n=0;var a=null;return(r=y(r,"BYTERANGE"))&&(n=r.split("@"),r=Number(n[0]),n=Number(n[1]),a=n+r-1),new o.jn((function(){return[i]}),n,a,t)},z=function(e,t,n,i,a){var s=t.b,u=t.a;t=te(s,"EXTINF").value.split(","),t=i+Number(t[0]);var c=0,l=null;return(s=ue.mb(s,r))&&(c=s.value.split("@"),s=Number(c[0]),c=c[1]?Number(c[1]):e.a+1,l=c+s-1),a&&!a.iv&&(a.iv=o.hi(new Uint8Array(12),new Uint8Array([n>>24&255,n>>16&255,n>>8&255,255&n]))),new o.kn(n,i,t,(function(){return[u]}),c,l,a)},q=function(e){e.c&&(e.N.forEach((function(t){o.pn(e.c,t,0)})),e.N=[])},H=function(e,t,n,r,i,a,s,u){var c,l,f,d,h,p,g,m,v,b,y,w;return o.z((function(S){if(1==S.a)return c=n.b,l=[],f=c[0].a,d=z(null,c[0],r,0,u||null),h=V(n,u||null),o.x(S,W(e,t,h,d,i,a,s),2);for(p=S.b,e.a.debug("First segment",f.split("/").pop(),"starts at",p),g=0;g<c.length;++g)m=c[g],v=l[l.length-1],b=0==g?p:v.endTime,y=r+g,w=z(v,m,y,b,u||null),l.push(w);return e.N.push(l),q(e),S["return"](l)}))},W=function(e,t,n,r,i,a,s){var u;return o.z((function(c){return 1==c.a?null!==e.F?(e.a.debug("Reusing cached start time for",i),void(c.a=2)):(u=e,o.x(c,J(e,t,n,r,a,s),3)):(2!=c.a&&(u.F=c.b,e.a.debug("Fetched start time for",i)),c["return"](e.F))}))},G=function(e,t){var n,r,i,a,s,u,c;return o.z((function(l){switch(l.a){case 1:return n=t.f(),r=o.pl(t.c(),t.b,t.b+2048-1,e.f.attemptParameters),r.type=o.Bn,i=o.pl(t.c(),t.b,t.a,e.f.attemptParameters),i.type=o.Bn,n&&(i.keyInfo=n),l.c=2,a=e.v?i:r,o.x(l,oe(e,a),4);case 4:return s=l.b,l["return"](s);case 2:if(u=o.Ce(l),7001==u.code||e.v)throw u;return e.a.warn("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),o.x(l,oe(e,i),5);case 5:return c=l.b,l["return"](c)}}))},J=function(e,t,n,r,i,a){var s,u,c,l,f,d,h,p,m,v,b;return o.z((function(y){switch(y.a){case 1:if(e.w){if(s=e.b.get(t),u=s.$a,c=u.get(r.position))return e.a.debug("Found segment start time in previous manifest"),y["return"](c.startTime);e.a.debug("Unable to find segment start time in previous manifest!")}if(e.a.debug("Fetching segment to find start time"),"audio/mpeg"==i)return y["return"](0);if("audio/aac"!=i){y.a=2;break}return o.x(y,G(e,r),3);case 3:return l=y.b,f=o.N(l.data),g(f)?y["return"](Q(f)):y["return"](Y(l.data));case 2:if(i!=o.Zd&&i!=o.Jb){y.a=4;break}return d=[G(e,r)],n&&d.push(G(e,n)),o.x(y,Promise.all(d),5);case 5:return h=y.b,p=h[0],m=h[1]||h[0],y["return"](X(e,p.data,m.data));case 4:if(i!=o.Yd){y.a=6;break}return o.x(y,G(e,r),7);case 7:return v=y.b,y["return"](Y(v.data));case 6:if(b=re,!b(i,a))return y["return"](0);throw new o.K(o.M,4,4030)}}))},X=function(e,t,n){var r=0;if((new o.ri).G("moov",o.si).G("trak",o.si).G("mdia",o.si).T("mdhd",(function(e){e.s.skip(0==e.version?8:16),r=o.Yh(e.s),e.Pa.stop()})).parse(n,!0),!r)throw e.a.error("Unable to find timescale in init segment!"),new o.K(o.M,4,4030);var i=0,a=!1;if((new o.ri).G("moof",o.si).G("traf",o.si).T("tfdt",(function(e){i=(0==e.version?o.Yh(e.s):o.$h(e.s))/r,a=!0,e.Pa.stop()})).parse(t,!0),!a)throw new o.K(o.M,4,4030);return i},Y=function(e){function t(){r.seek(i+188),a=o.Wh(r),71!=a&&(r.seek(i+192),a=o.Wh(r)),71!=a&&(r.seek(i+204),a=o.Wh(r)),71!=a&&n(),o.bi(r)}function n(){throw new o.K(o.M,4,4030)}for(var r=new o.Th(new DataView(e),!1),i=0,a=0;;)if(i=r.getPosition(),a=o.Wh(r),71!=a&&n(),e=o.Xh(r),8191===(8191&e))t();else if(16384&e){if(e=(48&o.Wh(r))>>4,0!=e&&2!=e||n(),3==e&&(e=o.Wh(r),r.skip(e)),1==o.Yh(r)>>8){r.skip(3),e=o.Wh(r)>>6,0!=e&&1!=e||n(),0==o.Wh(r)&&n(),e=o.Wh(r);var s=o.Xh(r),u=o.Xh(r);return(1073741824*((14&e)>>1)+((65534&s)<<14|(65534&u)>>1))/9e4}t()}else t()},Q=function(e){function t(e,t,n){for(var r="";t<n;t++)r+="%"+("00"+e[t].toString(16)).slice(-2);return r}function n(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}function r(){throw new o.K(o.M,4,4030)}g(e)||r();var i=10;64&e[5]&&(i=i+4+n(e.subarray(10,14)));do{var a=n(e.subarray(i+4,i+8));1>a&&r();var s=String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]);if("PRIV"===s){s=e.subarray(i+10,i+a+10);for(var u=0;u<s.byteLength;u++)if(0===s[u]){if("com.apple.streaming.transportStreamTimestamp"===unescape(t(s,0,u)))return e=s.subarray(u+1),a=(1&e[3])<<30|e[4]<<22|e[5]<<14|e[6]<<6|e[7]>>>2,a*=4,a+=3&e[7],Math.round(a/9e4);break}}g(e,i)||r(),i+=10,i+=a}while(i<e.byteLength);return r()},$=function(e,t){for(var n=fe[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return e==o.k?"":null},Z=function(e,t){if(1==t.length)return t[0];var n=$(e,t);if(null!=n)return n;throw new o.K(o.M,4,4025,{codecList:t})},ee=function(e,t,n,r){var i,a,s,u,c,l,f,d,h;return o.z((function(g){if(1==g.a)return i=o.ok,a=r.b[0].a,s=new o.Sf(a),u=s.ha.split(".").pop(),c=de[t],(l=c[u])?g["return"](l):t==i.TEXT?n&&"vtt"!=n?g["return"](p):g["return"](o.Fd):(f=o.hg([a],e.f.attemptParameters),f.method="HEAD",f.type=o.Bn,o.x(g,oe(e,f),2));if(d=g.b,h=d.headers["content-type"],!h)throw new o.K(o.M,4,4021,u);return g["return"](h.split(";")[0])}))},te=function(e,t){var n=ue.mb(e,t);if(!n)throw new o.K(o.M,4,4024,{missingTag:t});return n},ne=function(e,t){var n=o.hg([t],e.f.attemptParameters);return n.type=1,oe(e,n)},re=function(e,t){return MediaSource.isTypeSupported((e.split("/")[0]||"")+'/mp4;codecs="'+t+'"')},ie=function(e){var t,n;o.z((function(r){return 1==r.a?(e.a.info(o.Ya),e.h?(r.c=2,o.x(r,e.update(),4)):r["return"]()):2!=r.a?(t=e.R,e.l.P(t),o.Be(r,0)):(n=o.Ce(r),o.jf(n,1),e.h.onError(n),e.l.P(.1),void o.y(r))}))},ae=function(e,t){e.g=t,e.c&&(e.c.b=e.g==pe),e.g!=pe||e.l.stop()},oe=function(e,t){if(!e.o)throw new o.K(o.M,7,7001);var n=e.h.networkingEngine.fetch(t);return o.ql(e.o,n),n.promise},se=function(){},ue={pc:function(e,t){return e.filter((function(e){return e.name==t}))},Qe:function(e,t){return e.filter((function(e){return w(e,"TYPE")===t}))},mb:function(e,t){var n=ue.pc(e,t);return n.length?n[0]:null},lj:function(e,t,n){return e.filter((function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute(l),r.value==t&&e.value==n}))},Sc:function(e,t){return o.ni([e],[t])[0]},Hd:function(e){return/^#(?!EXT)/m.test(e)}};v.prototype.toString=function(){function e(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}var t="#"+this.name,n=this.a?this.a.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},v.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var ce=[c,a,"EXT-X-DISCONTINUITY-SEQUENCE",s,"EXT-X-MAP","EXT-X-I-FRAMES-ONLY",i],le=["EXTINF",r,"EXT-X-DISCONTINUITY","EXT-X-PROGRAM-DATE-TIME","EXT-X-KEY","EXT-X-DATERANGE"];o.r=A.prototype,o.r.configure=function(e){this.f=e},o.r.start=function(e,t){var n,r,i=this;return o.z((function(a){return 1==a.a?(i.h=t,o.x(a,ne(i,e),2)):3!=a.a?(n=a.b,i.m=n.uri,o.x(a,M(i,n.data),3)):(r=i.R,0<r&&i.l.P(r),a["return"](i.w))}))},o.r.stop=function(){this.l&&(this.l.stop(),this.l=null);var e=[];return this.o&&(e.push(this.o.destroy()),this.o=null),this.f=this.h=null,this.S.clear(),this.b.clear(),this.u.clear(),this.w=null,this.j.clear(),this.i.clear(),Promise.all(e)},o.r.update=function(){var e,t,n,r=this;return o.z((function(i){if(1==i.a)return r.g==pe?i["return"]():(e=[],r.F=null,t=Array.from(r.b.values()),t.length?i=o.x(i,I(r,t[0]),2):(i.a=2,i=void 0),i);for(n=1;n<t.length;++n)e.push(I(r,t[n]));return o.x(i,Promise.all(e),0)}))},o.r.onExpirationUpdated=function(){};var fe={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},de={audio:{mp4:o.Jb,m4s:o.Jb,m4i:o.Jb,m4a:o.Jb,cmfa:o.Jb,ts:o.Yd,aac:"audio/aac"},video:{mp4:o.Zd,m4s:o.Zd,m4i:o.Zd,m4v:o.Zd,cmfv:o.Zd,ts:o.Yd},text:{mp4:p,m4s:p,m4i:p,cmft:p,vtt:o.Fd,ttml:o.Cb}},he={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=w(e,"METHOD"),n=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return n.includes(t)?(t=w(e,h),t=o.Af.parse(t),t=o.N(t.data),t=o.oi(o.lc,[{initDataType:o.Zb,initData:t}]),(e=y(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):(o.Te("Widevine in HLS is only supported with [",n.join(", "),"], not",t),null)}},pe="VOD",ge="EVENT",me="LIVE",ve={VOD:pe,$i:ge,LIVE:me};o.w(se,o.wl),se.prototype.ub=function(){o.Sn.ed("m3u8",A),o.Sn.Ac(o.Ck,A),o.Sn.Ac(o.Db,A)},se.prototype.cb=function(){o.Sn.Zd("m3u8"),o.Sn.fd(o.Ck),o.Sn.fd(o.Db)},se.prototype.id=function(){return"clpp.component.hls"},o.B("clpp.hls.HlsComponent",se)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else r=[n("3f2b")],i=function(e){return u=e._,s.call(a,this),a}.apply(t,r),void 0===i||(e.exports=i)}()},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,a=n("44d2"),o=n("ae40"),s="find",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4");e.exports=function(e){var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)t[s++]=e;return t}},"82f8":function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},"84c3":function(e,t,n){var r=n("74e8");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"8a79":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".endsWith,f=Math.min,d=u("endsWith"),h=!c&&!d&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!d},{endsWith:function(e){var t=String(s(this));o(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:f(a(n),r),u=String(e);return l?l.call(t,u,i):t.slice(i-u.length,i)===u}})},"8aa7":function(e,t,n){var r=n("da84"),i=n("d039"),a=n("1c7e"),o=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},9129:function(e,t,n){var r=n("23e7");r({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},"92fa":function(e,t){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,t){var i,a,o,s,u;for(o in t)if(i=e[o],a=t[o],i&&n.test(o))if("class"===o&&("string"===typeof i&&(u=i,e[o]=i={},i[u]=!0),"string"===typeof a&&(u=a,t[o]=a={},a[u]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in a)i[s]=r(i[s],a[s]);else if(Array.isArray(i))e[o]=i.concat(a);else if(Array.isArray(a))e[o]=[i].concat(a);else for(s in a)i[s]=a[s];else e[o]=t[o];return e}),{})}},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),a=n("0d3b"),o=n("6eeb"),s=n("e2cc"),u=n("d44e"),c=n("9ed3"),l=n("69f3"),f=n("19aa"),d=n("5135"),h=n("0366"),p=n("f5df"),g=n("825a"),m=n("861d"),v=n("7c73"),b=n("5c6c"),y=n("9a1f"),w=n("35a1"),S=n("b622"),T=i("fetch"),E=i("Headers"),x=S("iterator"),k="URLSearchParams",A=k+"Iterator",I=l.set,M=l.getterFor(k),C=l.getterFor(A),P=/\+/g,R=Array(4),N=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},D=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(N(n--),D);return t}},O=/[!'()~]|%20/g,_={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e){return _[e]},j=function(e){return encodeURIComponent(e).replace(O,U)},K=function(e,t){if(t){var n,r,i=t.split("&"),a=0;while(a<i.length)n=i[a++],n.length&&(r=n.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))}},B=function(e){this.entries.length=0,K(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){I(this,{type:A,iterator:y(M(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),z=function(){f(this,z,k);var e,t,n,r,i,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(I(l,{type:k,entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(m(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(i=y(g(r.value)),a=i.next,(o=a.call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}}else for(u in c)d(c,u)&&h.push({key:u,value:c[u]+""});else K(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=z.prototype;s(q,{append:function(e,t){F(arguments.length,2);var n=M(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);var t=M(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){F(arguments.length,1);var t=M(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,r=M(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)n=i[u],n.key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=M(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=M(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(q,x,q.entries),o(q,"toString",(function(){var e,t=M(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(j(e.key)+"="+j(e.value));return n.join("&")}),{enumerable:!0}),u(z,k),r({global:!0,forced:!a},{URLSearchParams:z}),a||"function"!=typeof T||"function"!=typeof E||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,p(n)===k&&(r=t.headers?new E(t.headers):new E,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:b(0,String(n)),headers:b(0,r)}))),i.push(t)),T.apply(this,i)}}),e.exports={URLSearchParams:z,getState:M}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),u=n("50c4"),c=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),h=n("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},w=!v||!b;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,a,o=s(this),f=l(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],y(a)){if(i=u(a.length),d+i>g)throw TypeError(m);for(n=0;n<i;n++,d++)n in a&&c(f,d,a[n])}else{if(d>=g)throw TypeError(m);c(f,d++,a)}return f.length=d,f}})},"9a1f":function(e,t,n){var r=n("825a"),i=n("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9a8c":function(e,t,n){"use strict";var r=n("ebb5"),i=n("145e"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},a078:function(e,t,n){var r=n("7b0b"),i=n("50c4"),a=n("35a1"),o=n("e95a"),s=n("0366"),u=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,l,f,d,h=r(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=a(h);if(void 0!=v&&!o(v)){f=v.call(h),d=f.next,h=[];while(!(l=d.call(f)).done)h.push(l.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),n=i(h.length),c=new(u(this))(n),t=0;n>t;t++)c[t]=m?g(h[t],t):h[t];return c}},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,u=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a2bf:function(e,t,n){"use strict";var r=n("e8b5"),i=n("50c4"),a=n("0366"),o=function(e,t,n,s,u,c,l,f){var d,h=u,p=0,g=!!l&&a(l,f,3);while(p<s){if(p in n){if(d=g?g(n[p],p,t):n[p],c>0&&r(d))h=o(e,t,d,i(d.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}p++}return h};e.exports=o},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),u=n("65f0"),c=n("8418"),l=n("1dde"),f=n("ae40"),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var n,r,l,f,d,h,b=s(this),y=o(b.length),w=i(e,y),S=arguments.length;if(0===S?n=r=0:1===S?(n=0,r=y-w):(n=S-2,r=g(p(a(t),0),y-w)),y+n-r>m)throw TypeError(v);for(l=u(b,r),f=0;f<r;f++)d=w+f,d in b&&c(l,f,b[d]);if(l.length=r,n<r){for(f=w;f<y-r;f++)d=f+r,h=f+n,d in b?b[h]=b[d]:delete b[h];for(f=y;f>y-r+n;f--)delete b[f-1]}else if(n>r)for(f=y-r;f>w;f--)d=f+r-1,h=f+n-1,d in b?b[h]=b[d]:delete b[h];for(f=0;f<n;f++)b[f+w]=arguments[f+2];return b.length=y-r+n,l}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),s=n("83ab"),u=n("4930"),c=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),h=n("861d"),p=n("825a"),g=n("7b0b"),m=n("fc6a"),v=n("c04e"),b=n("5c6c"),y=n("7c73"),w=n("df75"),S=n("241c"),T=n("057f"),E=n("7418"),x=n("06cf"),k=n("9bf2"),A=n("d1e7"),I=n("9112"),M=n("6eeb"),C=n("5692"),P=n("f772"),R=n("d012"),N=n("90e3"),D=n("b622"),L=n("e538"),O=n("746f"),_=n("d44e"),U=n("69f3"),j=n("b727").forEach,K=P("hidden"),B="Symbol",F="prototype",V=D("toPrimitive"),z=U.set,q=U.getterFor(B),H=Object[F],W=i.Symbol,G=a("JSON","stringify"),J=x.f,X=k.f,Y=T.f,Q=A.f,$=C("symbols"),Z=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[F]||!re[F].findChild,ae=s&&l((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=J(H,t);r&&delete H[t],X(e,t,n),r&&e!==H&&X(H,t,r)}:X,oe=function(e,t){var n=$[e]=y(W[F]);return z(n,{type:B,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ue=function(e,t,n){e===H&&ue(Z,t,n),p(e);var r=v(t,!0);return p(n),f($,r)?(n.enumerable?(f(e,K)&&e[K][r]&&(e[K][r]=!1),n=y(n,{enumerable:b(0,!1)})):(f(e,K)||X(e,K,b(1,{})),e[K][r]=!0),ae(e,r,n)):X(e,r,n)},ce=function(e,t){p(e);var n=m(t),r=w(n).concat(pe(n));return j(r,(function(t){s&&!fe.call(n,t)||ue(e,t,n[t])})),e},le=function(e,t){return void 0===t?y(e):ce(y(e),t)},fe=function(e){var t=v(e,!0),n=Q.call(this,t);return!(this===H&&f($,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f($,t)||f(this,K)&&this[K][t])||n)},de=function(e,t){var n=m(e),r=v(t,!0);if(n!==H||!f($,r)||f(Z,r)){var i=J(n,r);return!i||!f($,r)||f(n,K)&&n[K][r]||(i.enumerable=!0),i}},he=function(e){var t=Y(m(e)),n=[];return j(t,(function(e){f($,e)||f(R,e)||n.push(e)})),n},pe=function(e){var t=e===H,n=Y(t?Z:m(e)),r=[];return j(n,(function(e){!f($,e)||t&&!f(H,e)||r.push($[e])})),r};if(u||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),n=function(e){this===H&&n.call(Z,e),f(this,K)&&f(this[K],t)&&(this[K][t]=!1),ae(this,t,b(1,e))};return s&&ie&&ae(H,t,{configurable:!0,set:n}),oe(t,e)},M(W[F],"toString",(function(){return q(this).tag})),M(W,"withoutSetter",(function(e){return oe(N(e),e)})),A.f=fe,k.f=ue,x.f=de,S.f=T.f=he,E.f=pe,L.f=function(e){return oe(D(e),e)},s&&(X(W[F],"description",{configurable:!0,get:function(){return q(this).description}}),o||M(H,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),j(w(ne),(function(e){O(e)})),r({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(g(e))}}),G){var ge=!u||l((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));r({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,G.apply(null,i)}})}W[F][V]||I(W[F],V,W[F].valueOf),_(W,B),R[K]=!0},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-primary is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-5-tablet is-4-desktop is-3-widescreen"},[n("div",{staticClass:"box"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Email")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:"e.g. bobsmith@gmail.com"},domProps:{value:e.input.email},on:{input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),e._m(0)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Password")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._m(1)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Platform")]),n("div",{staticClass:"control has-icons-right"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.platform,expression:"platform"}],staticClass:"input",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.platform=t.target.multiple?n:n[0]}}},[n("option",[e._v("prod")]),n("option",[e._v("preprod")])]),e._m(2)])]),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-success",on:{click:function(t){return e.login()}}},[e._v(" Login ")])])])])])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-envelope"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])}],a=(n("99af"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),o=n("5530"),s=n("2f62"),u={name:"Login",data:function(){return{input:{email:"",password:""}}},computed:{platform:{get:function(){return localStorage.getItem("platform")},set:function(e){localStorage.setItem("platform",e)}}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["fetchWishList","fetchMovieRentals"])),{},{getAuthToken:function(e){var t=this;return new Promise((function(n,r){var i=new Headers;i.append("Authorization","Basic ".concat(t.$parent.raaAuth)),i.append("Content-Type","application/x-www-form-urlencoded");var a=new URLSearchParams;a.append("raa_token",e),a.append("grant_type","raa_token");var o={method:"POST",headers:i,body:a,redirect:"follow"};fetch("https://hfozhlnmfh.execute-api.ap-southeast-2.amazonaws.com/v1/auth/tokens",o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},signIn:function(){var e=this;return new Promise((function(t,n){var r=new Headers;r.append("Authorization","Basic ".concat(e.$parent.basicAuth));var i={method:"POST",headers:r,redirect:"follow"};fetch("https://services.bigpond.com/rest/v1/AuthenticationService/authenticate?authToken=".concat(e.input.password,"&userIdentifier=").concat(e.input.email,"&userIdentifierType=EMAIL"),i).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.signIn();case 3:return n=t.sent,t.next=6,e.getAuthToken(n.data.artifactValue);case 6:r=t.sent,console.log(r),r.access_token&&(localStorage.setItem("authData",JSON.stringify(r)),e.$parent.authenticated=!0,e.fetchMovieRentals({authData:r}),e.$router.replace({name:"Assets"})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$parent.authenticated=!1;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}})},c=u,l=(n("d6db"),n("2877")),f=Object(l["a"])(c,r,i,!1,null,null,null);t["default"]=f.exports},a623:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").every,a=n("a640"),o=n("ae40"),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},a965:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showModal&&e.asset.images?n("div",{staticClass:"is-active modal",style:"--hero-image: url("+e.asset.images[0].url+");"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-content"},[n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container is-fullhd"},[n("h1",{staticClass:"has-text-light is-size-1 title has-text-left"},[e._v(" "+e._s(e.asset.displayTitle)+" ")]),n("h2",{staticClass:"has-text-light is-size-5 sub-title has-text-left"},[e._v(" "+e._s(e.asset.descriptionShort)+" ")]),n("div",{staticClass:"pt-5 has-text-left"},[e.asset.availability?n("button",{staticClass:"button is-white mr-4",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.availability.embedCode,posterImg:e.asset.images[0].url},query:{offerId:e.asset.availability.offerId}})}}},[e._v(" Watch ")]):e._e(),e.asset.trailer?n("button",{staticClass:"button is-white",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.trailer.embedCode,posterImg:e.asset.images[0].url}})}}},[e._v(" Watch Trailer ")]):e._e()])])])])]),n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){return e.closeModal()}}})]):e._e()},i=[],a=(n("99af"),n("4de4"),n("d3b7"),{props:["assetId"],data:function(){return{asset:Object,showModal:!1,authData:null}},watch:{$route:function(e,t){var n=this;this.asset=e.params.assetId,this.getAsset(this.assetId,this.authData).then((function(e){n.asset=e[0];var t=e[0].availability.filter((function(e){return e.isEntitled}));n.asset.availability=t[0]})),this.showModal=e.meta&&t.meta.showModal}},mounted:function(){var e=this;this.authData=JSON.parse(localStorage.getItem("authData")),this.asset=this.assetId,this.getAsset(this.assetId,this.authData).then((function(t){e.asset=t[0];var n=t[0].availability.filter((function(e){return e.isEntitled}));e.asset.availability=n[0]})),this.showModal=!0},methods:{closeModal:function(){this.showModal=!1},getAsset:function(e,t){return new Promise((function(n,r){var i=new Headers;i.append("Authorization","Bearer ".concat(t.access_token)),i.append("Content-Type","application/json");var a={method:"GET",headers:i,redirect:"follow"};fetch("https://hfozhlnmfh.execute-api.ap-southeast-2.amazonaws.com/v1/ttvbo/assets/".concat(e,"?attributes=*&uuid=").concat(t.uuid),a).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))}}}),o=a,s=(n("ecda"),n("2877")),u=Object(s["a"])(o,r,i,!1,null,null,null);t["default"]=u.exports},a975:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9e3:function(e,t,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),f=n("d039"),d=n("7c73"),h=n("241c").f,p=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,v="Number",b=i[v],y=b.prototype,w=u(d(y))==v,S=function(e){var t,n,r,i,a,o,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>i)return NaN;return parseInt(a,r)}return+c};if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var T,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(w?f((function(){y.valueOf.call(n)})):u(n)!=v)?c(new b(S(t)),n,E):S(t)},x=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)s(b,T=x[k])&&!s(E,T)&&g(E,T,p(b,T));E.prototype=y,y.constructor=E,o(i,v,E)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},aff5:function(e,t,n){var r=n("23e7");r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b39a:function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("d039"),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!o&&a((function(){c.call(new o(1))})),d=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),d)},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),o=n("d039"),s=o((function(){a(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return a(i(e))}})},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("a691"),a=n("408a"),o=n("1148"),s=n("d039"),u=1..toFixed,c=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},d=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,n,r,s,u=a(this),d=i(e),h=[0,0,0,0,0,0],p="",g="0",m=function(e,t){var n=-1,r=t;while(++n<6)r+=e*h[n],h[n]=r%1e7,r=c(r/1e7)},v=function(e){var t=6,n=0;while(--t>=0)n+=h[t],h[t]=c(n/e),n=n%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(t=f(u*l(2,69,1))-69,n=t<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),r=d;while(r>=7)m(1e7,0),r-=7;m(l(10,r,1),0),r=t-1;while(r>=23)v(1<<23),r-=23;v(1<<r),m(1,1),v(2),g=b()}else m(0,n),m(1<<-t,0),g=b()+o.call("0",d);return d>0?(s=g.length,g=p+(s<=d?"0."+o.call("0",d-s)+g:g.slice(0,s-d)+"."+g.slice(s-d))):g=p+g,g}})},baa5:function(e,t,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c19f:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("621a"),o=n("2626"),s="ArrayBuffer",u=a[s],c=i[s];r({global:!0,forced:c!==u},{ArrayBuffer:u}),o(s)},c1ac:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").filter,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,u=t.length,c=new(s(n))(u);while(u>r)c[r]=t[r++];return c}))},c1c5:function(e,t,n){var r,i;n("fb6a"),n("c19f"),n("d3b7"),n("143c"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t=function(e){var t=void 0===t?1/0:t;return s.kf(e,t,Int32Array)},n=function(){this.l=[0,1,2,4,8,16,32,64,128,27,54],this.m=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.g=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.j=new Uint32Array(256),this.h=new Uint32Array(256),this.i=new Uint32Array(0),this.c=this.a=this.f=this.b=null;var e=this.j,t=this.h,n=this.m,r=n[0],i=n[1],a=n[2];n=n[3];var o=this.g,s=o[0],u=o[1],c=o[2];o=o[3];var l,f=new Uint32Array(256),d=0,h=0;for(l=0;256>l;l++)f[l]=128>l?l<<1:l<<1^283;for(l=0;256>l;l++){var p=h^h<<1^h<<2^h<<3^h<<4;p=p>>>8^255&p^99,e[d]=p,t[p]=d;var g=f[d],m=f[g],v=f[m],b=257*f[p]^16843008*p;r[d]=b<<24|b>>>8,i[d]=b<<16|b>>>16,a[d]=b<<8|b>>>24,n[d]=b,b=16843009*v^65537*m^257*g^16843008*d,s[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,c[p]=b<<8|b>>>24,o[p]=b,d?(d=g^f[f[f[v^g]]],h^=f[f[h]]):d=h=1}},r=function(e){e=new DataView(e);for(var t=new Uint32Array(4),n=0;4>n;n++)t[n]=e.getUint32(4*n);return t},i=function(){this.a=null},o=function(){this.b=this.c=null,this.h=this.Oi.bind(this),this.g={},this.a=null,this.f=new s.E("clpp.crypto")},u=function(e,t){var n,r;return s.z((function(i){return 1==i.a?e.g[t]?i["return"](e.g[t]):(n=s.hg(t),s.x(i,e.b.fetch(n).promise,2)):(r=i.b,e.g[t]=r.data,i["return"](r.data))}))},c=function(e,t,n){var r,i,a,o;return s.z((function(c){switch(c.a){case 1:return r=new ArrayBuffer(0),c.c=2,s.x(c,u(e,n.url),4);case 4:r=c.b,s.Be(c,3);break;case 2:return i=s.Ce(c),e.f.debug("Could not fetch key"),e.c.onError(new s.K(1,7,7104,null,i)),c["return"](t);case 3:return c.c=5,s.x(c,e.a.importKey(r),7);case 7:return s.x(c,e.a.decrypt(t,n.iv.buffer),8);case 8:return a=c.b,c["return"](a);case 5:return o=s.Ce(c),e.f.warn("Could not decrypt segment data!",o),e.c.onError(new s.K(1,3,3103,null,o)),c["return"](t)}}))};n.prototype.importKey=function(e){e=r(e);for(var t=!0,n=0;n<e.length&&t;)t=e[n]===this.i[n],n++;if(t)return new Promise((function(e){return e()}));if(this.i=e,this.a=e.length,4!==this.a&&6!==this.a&&8!==this.a)throw Error("Invalid aes key size="+this.a);this.c=4*(this.a+7),this.b=new Uint32Array(this.c),this.f=new Uint32Array(this.c),t=this.j;var i=this.l,a=this.g;n=a[0];var o=a[1],s=a[2],u=a[3];for(a=0;a<this.c;a++)if(a<this.a)var c=this.b[a]=e[a];else 0===a%this.a?(c=c<<8|c>>>24,c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c],c^=i[a/this.a|0]<<24):6<this.a&&4===a%this.a&&(c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c]),c=(this.b[a-this.a]^c)>>>0,this.b[a]=c;for(e=0;e<this.c;e++)a=this.c-e,c=3&e?this.b[a]:this.b[a-4],this.f[e]=4>e||4>=a?c:n[t[c>>>24]]^o[t[c>>>16&255]]^s[t[c>>>8&255]]^u[t[255&c]],this.f[e]>>>=0;return new Promise((function(e){return e()}))},n.prototype.decrypt=function(e,n){var i=0,a=this.a+6,o=this.f,s=this.h,u=this.g,c=u[0],l=u[1],f=u[2];u=u[3];var d=r(n),h=d[0],p=d[1],g=d[2];d=d[3];for(var m,v,b,y,w,S,T,E,x,k,A,I,M,C=t(e),P=new Int32Array(C.length),R=this.o.bind(this);i<C.length;){for(E=R(C[i]),x=R(C[i+1]),k=R(C[i+2]),A=R(C[i+3]),w=E^o[0],S=A^o[1],T=k^o[2],y=x^o[3],I=4,M=1;M<a;M++)m=c[w>>>24]^l[S>>16&255]^f[T>>8&255]^u[255&y]^o[I],v=c[S>>>24]^l[T>>16&255]^f[y>>8&255]^u[255&w]^o[I+1],b=c[T>>>24]^l[y>>16&255]^f[w>>8&255]^u[255&S]^o[I+2],y=c[y>>>24]^l[w>>16&255]^f[S>>8&255]^u[255&T]^o[I+3],w=m,S=v,T=b,I+=4;m=s[w>>>24]<<24^s[S>>16&255]<<16^s[T>>8&255]<<8^s[255&y]^o[I],v=s[S>>>24]<<24^s[T>>16&255]<<16^s[y>>8&255]<<8^s[255&w]^o[I+1],b=s[T>>>24]<<24^s[y>>16&255]<<16^s[w>>8&255]<<8^s[255&S]^o[I+2],y=s[y>>>24]<<24^s[w>>16&255]<<16^s[S>>8&255]<<8^s[255&T]^o[I+3],I+=3,P[i]=R(m^h),P[i+1]=R(y^p),P[i+2]=R(b^g),P[i+3]=R(v^d),h=E,p=x,g=k,d=A,i+=4}return new Promise((function(e){var t=P.buffer,n=t.byteLength,r=n&&new DataView(t).getUint8(n-1);t=r?t.slice(0,n-r):t,e(t)}))},n.prototype.destroy=function(){return this.l=this.f=this.b=this.g=this.m=this.h=this.j=this.c=this.a=this.i=null,new Promise((function(e){return e()}))},n.prototype.o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},i.prototype.importKey=function(e){var t,n=this;return s.z((function(r){if(1==r.a)return t=n,s.x(r,crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"]),2);t.a=r.b,s.y(r)}))},i.prototype.decrypt=function(e,t){var n,r=this;return s.z((function(i){return 1==i.a?s.x(i,crypto.subtle.decrypt({name:"AES-CBC",iv:t},r.a,e),2):(n=i.b,i["return"](n))}))},i.prototype.destroy=function(){return this.a=null,new Promise((function(e){return e()}))},s.w(o,s.wl),s.r=o.prototype,s.r.ub=function(e){this.c=e},s.r.cb=function(){this.c=null},s.r.lc=function(){if(e.crypto&&e.crypto.subtle){var t=e.crypto.subtle.decrypt;t=a(e.crypto.subtle.importKey)===s.Cc&&a(t)===s.Cc}else t=!1;t?this.a=new i:(this.f.warn("No WebCrypto APIs found. Will fallback to software AES"),this.a=new n),this.b=this.c.getNetworkEngine(),this.b.qd(this.h)},s.r.release=function(){this.b&&this.b.$d(this.h),this.a&&(this.a.destroy(),this.a=null),this.b=null,this.g={}},s.r.id=function(){return"clpp.component.crypto"},s.r.Oi=function(e){var t,n,r=this;return s.z((function(i){return 1==i.a?(t=e.request||null,t&&t.type===s.Bn&&t.keyInfo&&e.data?(r.f.debug("Decrypt data"),n=e,s.x(i,c(r,e.data,t.keyInfo),4)):void(i.a=2)):(2!=i.a&&(n.data=i.b),i["return"](e))}))},s.B("clpp.crypto.CryptoComponent",o)};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else r=[n("3f2b")],i=function(e){return c=e._,u.call(o,this),o}.apply(t,r),void 0===i||(e.exports=i)})()},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,a=n("44d2"),o=n("ae40"),s="findIndex",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},ca91:function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,n){var r=n("23e7"),i=n("81d5"),a=n("44d2");r({target:"Array",proto:!0},{fill:i}),a("fill")},cd26:function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},d139:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d28b:function(e,t,n){var r=n("746f");r("iterator")},d570:function(e,t,n){var r,i;n("4de4"),n("7db0"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("a434"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="Channel parsing failure! Ignoring scheme and value",n="ContentProtection",r="EssentialProperty",i="SegmentBase does not contain sufficient segment information:",a="SegmentList does not contain sufficient segment information:",u="SegmentTemplate does not contain sufficient segment information:",c="SegmentTimeline",l='The last "S" element cannot have a negative repeat',f="duration",d='ignoring the remaining "S" elements.',h="presentationTimeOffset",p="schemeIdUri",g="static",m="timescale",v="urn:microsoft:playready",b="urn:mpeg:cenc:2013",y="urn:mpeg:dash:utc:http-head:2014",w="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",S="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",T=function(e,t){for(var n=0;n<e.a.length;++n)if(e.a[n].endTime>t)return void e.a.splice(0,n);e.a=[]},E=function(e){return new o.vj(Promise.reject(e),(function(){return Promise.resolve()}))},x=function(e){return new o.vj(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},k=function(e,t){return e.find((function(e){return Ee.get(e.Za)===t}))},A=function(e){var t=o.Q.Uc(e.node,v,"pro");return t?(e=o.di(t.textContent),e=o.ij(e),e=o.ej(e.a),{keyId:null,Za:S,node:document.createElement("null"),init:[{initData:o.bj(e),initDataType:o.Zb,keyId:null}]}):(o.C("Missing <ms:pro/> node in ContentProtection element",e),null)},I=function(e){var t=o.Q.Uc(e.node,b,"pssh");if(!t)return o.C("Missing <cenc:pssh/> node in ContentProtection element",e),null;e=o.di(t.textContent),e=new o.Th(new DataView(e.buffer),!1),e.skip(12),e.skip(16),e.skip(4),t=o.Wh(e),o.bi(e),8===t&&e.skip(2),o.Wh(e),t=o.Wh(e);for(var n=new Uint8Array(t),r=0;r<t;r++)n[r]=o.Wh(e);return e=o.fi(n),e=o.ej(e).a,t=o.ei(e),t=o.gj(t),n=o.ci(t),t=o.N(o.vf('<WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"><DATA><PROTECTINFO><KEYLEN>'+t.byteLength+"</KEYLEN><ALGID>AESCTR</ALGID></PROTECTINFO><KID>"+n+"</KID></DATA></WRMHEADER>",!0)),e=new o.fj(o.hj,e,null,t),{keyId:null,Za:w,node:document.createElement("null"),init:[{initData:o.bj(e),initDataType:o.Zb,keyId:null}]}},M=function(e,t){var n=R(e),r=null,i=[],a=[],s=k(n,o.lc),u=k(n,o.kc);if(u&&!s){var c=A(u);c&&n.push(c)}if(s&&!u&&(s=I(s))&&n.push(s),s=new Set(n.map((function(e){return e.keyId}))),s["delete"](null),1<s.size)throw new o.K(o.M,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Za||(r=e.init||r,!1)})),a.length&&(i=P(r,a),0==i.length&&(i=[o.oi("",r)]))),n.length&&(t||!a.length))for(i=[],n=o.v(Ee.values()),a=n.next();!a.done;a=n.next())a=a.value,a!=o.dd&&i.push(o.oi(a,r));if(n=Array.from(s)[0]||null)for(a=o.v(i),s=a.next();!s.done;s=a.next())for(s=o.v(s.value.initData),u=s.next();!u.done;u=s.next())u.value.keyId=n;return{Ke:n,jj:r,drmInfos:i,Se:!0}},C=function(e,t,n){var r=M(e,n);if(t.Se)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==r.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=r.drmInfos),t.Se=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return r.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new o.K(o.M,4,4008);return r.Ke||t.Ke},P=function(e,t){for(var n=[],r=o.v(t),i=r.next();!i.done;i=r.next()){i=i.value;var a=Ee.get(i.Za);if(a){var s=o.oi(a,i.init||e);(a=xe.get(a))&&(s.licenseServerUri=a(i)),n.push(s)}}return n},R=function(e){var t=[];e=o.v(e);for(var n=e.next();!n.done;n=e.next())(n=N(n.value))&&t.push(n);return t},N=function(e){var t=e.getAttribute(p),n=o.Q.getAttributeNS(e,b,"default_KID"),r=o.Q.Re(e,b,"pssh").map(o.Q.lb);if(!t)return o.Te("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new o.K(o.M,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:o.Zb,initData:o.di(e),keyId:null}}))}catch(s){throw new o.K(o.M,4,4007)}return{node:e,Za:t,keyId:n,init:0<i.length?i:null}},D=function(e,t,n,r){var i,a=(new o.ri).T("sidx",(function(e){i=L(t,r,n,e)}));if(e&&a.parse(e),i)return i;throw o.Te('Invalid box type, expected "sidx".'),new o.K(o.M,3,3004)},L=function(e,t,n,r){var i=[];r.s.skip(4);var a=o.Yh(r.s);if(0==a)throw o.Te("Invalid timescale."),new o.K(o.M,3,3005);if(0==r.version)var s=o.Yh(r.s),u=o.Yh(r.s);else s=o.$h(r.s),u=o.$h(r.s);r.s.skip(2);var c=o.Xh(r.s);for(e=e+r.size+u,u=0;u<c;u++){var l=o.Yh(r.s),f=(2147483648&l)>>>31;l&=2147483647;var d=o.Yh(r.s);if(r.s.skip(4),1==f)throw o.Te("Heirarchical SIDXs are not supported."),new o.K(o.M,3,3006);i.push(new o.kn(i.length,s/a-t,(s+d)/a-t,(function(){return n}),e,e+l-1)),s+=d,e+=l}return r.Pa.stop(),i},O=function(e){this.b=e,this.a=new o.Th(e,!1)},_=function(e){var t=U(e);if(7<t.length)throw new o.K(o.M,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=U(e);e:{r=o.v(ke);for(var i=r.next();!i.done;i=r.next())if(o.gi(n,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.getPosition();else{if(8==n.length&&224&n[1])throw new o.K(o.M,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.getPosition()+n<=e.b.byteLength?n:e.b.byteLength-e.a.getPosition(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.getPosition(),n),e.a.skip(n),new j(t,r)},U=function(e){var t,n=o.Wh(e.a);for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new o.K(o.M,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=o.Wh(e.a);return r},j=function(e,t){this.id=e,this.a=t},K=function(e){if(8<e.a.byteLength)throw new o.K(o.M,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new o.K(o.M,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){var r=e.a.getUint8(n);t=256*t+r}return t},B=function(){},F=function(e,t,n,r,i,a){function s(){return i}var u=[];e=new O(e.a);for(var c=null,l=null;o.Uh(e.a);){var f=_(e);if(187==f.id){var d=V(f);d&&(f=n*d.Vi,d=t+d.Ii,null!=c&&u.push(new o.kn(u.length,c-a,f-a,s,l,d-1)),c=f,l=d)}}return null!=c&&u.push(new o.kn(u.length,c-a,r-a,s,l,null)),u},V=function(e){var t=new O(e.a);if(e=_(t),179!=e.id)throw o.C("Not a CueTime element."),new o.K(o.M,3,3013);if(e=K(e),t=_(t),183!=t.id)throw o.C("Not a CueTrackPositions element."),new o.K(o.M,3,3012);t=new O(t.a);for(var n=0;o.Uh(t.a);){var r=_(t);if(241==r.id){n=K(r);break}}return{Vi:e,Ii:n}},z=function(e,t){var n=Te.Gd(e,t,"Initialization");if(!n)return null;var r=e.B.ra,i=n.getAttribute("sourceURL");i&&(r=o.ni(e.B.ra,[i])),i=0;var a=null;return(n=o.Q.L(n,"range",o.Q.cd))&&(i=n.start,a=n.end),new o.jn((function(){return r}),i,a)},q=function(e,t){var n=Number(Te.va(e,W,h))||0,r=Te.va(e,W,m),a=1;if(r&&(a=o.Q.bd(r)||1),n=n/a||0,r=z(e,W),a=e.B.mimeType.split("/")[1],e.B.contentType!=o.k&&a!=o.Vc&&a!=o.ge)throw o.Te("SegmentBase specifies an unsupported container type.",e.B),new o.K(o.M,4,4006);if(a==o.ge&&!r)throw o.Te(i,"the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.B),new o.K(o.M,4,4005);var s=Te.Gd(e,W,"RepresentationIndex"),u=Te.va(e,W,"indexRange"),c=e.B.ra;if(u=o.Q.cd(u||""),s){var l=s.getAttribute("sourceURL");l&&(c=o.ni(e.B.ra,[l])),u=o.Q.L(s,"range",o.Q.cd,u)}if(!u)throw o.Te(i,"the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.B),new o.K(o.M,4,4002);return a=H(e,t,r,c,u.start,u.end,a,n),{createSegmentIndex:a.createSegmentIndex,findSegmentPosition:a.findSegmentPosition,getSegmentReference:a.getSegmentReference,adjustSegmentDurations:a.adjustSegmentDurations,getDuration:a.getDuration,initSegmentReference:r,pa:n}},H=function(e,t,n,r,i,a,s,u){var c=e.presentationTimeline,l=!e.Ub||!e.O.Jd,f=e.O.start,d=e.O.duration,h=t,p=null;return{createSegmentIndex:function(){var e,t,g,m,v,b;return o.z((function(y){return 1==y.a?(e=[h(r,i,a),s==o.ge?h(n.c(),n.b,n.a):null],h=null,o.x(y,Promise.all(e),2)):(t=y.b,g=t[0],m=t[1]||null,v=null,s==o.Vc?v=D(g,i,r,u):(b=new B,v=b.parse(g,m,r,u)),o.pn(c,v,f),p=new o.ln(v),l&&o.mn(p,d),y["return"](t))}))},findSegmentPosition:function(e){return p.find(e)},getSegmentReference:function(e){return p.get(e)},adjustSegmentDurations:function(e,t){return p.Pb(e,t)},getDuration:function(){return p.getDuration()}}},W=function(e){return e.Cc},G=function(e,t){var n=z(e,J),r=Y(e),i=Te.qf(e,J),s=i.Ib;0==s&&(o.C("SegmentList@startNumber must be > 0"),s=1);var u=0;if(i.$?u=i.$*(s-1):i.timeline&&0<i.timeline.length&&(u=i.timeline[0].start),r={$:i.$,startTime:u,Ib:s,pa:i.pa,timeline:i.timeline,zb:r},!r.$&&!r.timeline&&1<r.zb.length)throw o.C(a,"the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.B),new o.K(o.M,4,4002);if(!r.$&&!e.O.duration&&!r.timeline&&1==r.zb.length)throw o.C(a,"the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.B),new o.K(o.M,4,4002);if(r.timeline&&0==r.timeline.length)throw o.C(a,"the SegmentList has an empty timeline.",e.B),new o.K(o.M,4,4002);return s=i=null,e.oa.id&&e.B.id&&(s=e.oa.id+","+e.B.id,i=t[s]),u=X(e.O.duration,r.Ib,e.B.ra,r),i?(i.Va(u),s=o.sn(e.presentationTimeline),T(i,s-e.O.start)):(o.pn(e.presentationTimeline,u,e.O.start),i=new o.ln(u),s&&e.Ub&&(t[s]=i)),e.Ub&&e.O.Jd||o.mn(i,e.O.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),adjustSegmentDurations:i.Pb.bind(i),getDuration:i.getDuration.bind(i),initSegmentReference:n,pa:r.pa}},J=function(e){return e.ab},X=function(e,t,n,r){var i=r.zb.length;r.timeline&&r.timeline.length!=r.zb.length&&(i=Math.min(r.timeline.length,r.zb.length),o.C("The number of items in the segment timeline and the number of segment","URLs do not match, truncating",r.zb.length,"to",i));for(var a=[],s=r.startTime,u={},c=0;c<i;u={md:u.md},c++){var l=r.zb[c];u.md=o.ni(n,[l.Rh]);var f=void 0;f=null!=r.$?s+r.$:r.timeline?r.timeline[c].end:s+e,a.push(new o.kn(c+t,s,f,function(e){return function(){return e.md}}(u),l.start,l.end)),s=f}return a},Y=function(e){return[e.B.ab,e.Y.ab,e.oa.ab].filter(o.mi.La).map((function(e){return o.Q.J(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){t.getAttribute("indexRange")&&!e.Fd&&(e.Fd=!0,o.C("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate."));var n=t.getAttribute("media");return t=o.Q.L(t,"mediaRange",o.Q.cd,{start:0,end:null}),{Rh:n,start:t.start,end:t.end}}))},Q=function(e,t,n,r){var i=te(e),a=Te.qf(e,$),s=Te.va(e,$,"media"),c=Te.va(e,$,"index");if(a={$:a.$,timescale:a.timescale,Ib:a.Ib,pa:a.pa,ee:a.ee,timeline:a.timeline,Md:s,sc:c,rd:a.rd},s=a.sc?1:0,s+=a.timeline?1:0,s+=a.$?1:0,0==s)throw o.Te("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.B),new o.K(o.M,4,4002);if(1!=s&&(o.C("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.B),a.sc?(o.Se("Using the index URL template by default."),a.timeline=null):o.Se("Using the SegmentTimeline by default."),a.$=null),!a.sc&&!a.Md)throw o.Te(u,"the SegmentTemplate's media URL template is missing.",e.B),new o.K(o.M,4,4002);if(a.sc){if(n=e.B.mimeType.split("/")[1],n!=o.Vc&&n!=o.ge)throw o.Te("SegmentTemplate specifies an unsupported container type.",e.B),new o.K(o.M,4,4006);if(n==o.ge&&!i)throw o.Te(u,"the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",e.B),new o.K(o.M,4,4005);r=Te.Tc(a.sc,e.B.id,null,e.bandwidth||null,null),r=o.ni(e.B.ra,[r]),e=H(e,t,i,r,0,null,n,a.pa)}else a.$?(r||(n=e.presentationTimeline,n.i=Math.max(n.i,a.rd),n.l.debug("notifyAvailabilityTimeOffset: maxAvailabilityTimeOffset="+n.i),o.qn(e.presentationTimeline,a.$),o.on(e.presentationTimeline,e.O.start)),e=Z(e,a)):(s=t=null,e.oa.id&&e.B.id&&(s=e.oa.id+","+e.B.id,t=n[s]),c=ee(e,a),r=!e.Ub||!e.O.Jd,t?(r&&o.mn(new o.ln(c),e.O.duration),t.Va(c),n=o.sn(e.presentationTimeline),T(t,n-e.O.start)):(o.pn(e.presentationTimeline,c,e.O.start),t=new o.ln(c),s&&e.Ub&&(n[s]=t)),r&&o.mn(t,e.O.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),adjustSegmentDurations:t.Pb.bind(t),getDuration:t.getDuration.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,adjustSegmentDurations:e.adjustSegmentDurations,getDuration:e.getDuration,initSegmentReference:i,pa:a.pa}},$=function(e){return e.Gb},Z=function(e,t){var n=e.O.duration,r=t.$,i=t.Ib,a=t.timescale,s=t.Md,u=e.bandwidth||null,c=e.B.id,l=e.B.ra;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,f=t+r;return n&&(f=Math.min(f,n)),0>f||n&&t>=n?null:new o.kn(e,t,f,(function(){var n=Te.Tc(s,c,e+i,u,t*a);return o.ni(l,[n])}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return n}}},ee=function(e,t){for(var n=[],r=0;r<t.timeline.length;r++){var i=r+t.Ib;n.push(new o.kn(i,t.timeline[r].start,t.timeline[r].end,function(e,t,n,r,i,a){return e=Te.Tc(e,t,i,n,a),o.ni(r,[e]).map((function(e){return e.toString()}))}.bind(null,t.Md,e.B.id,e.bandwidth||null,e.B.ra,i,t.timeline[r].Ui+t.ee),0,null))}return n},te=function(e){var t=Te.va(e,$,"initialization");if(!t)return null;var n=e.B.id,r=e.bandwidth||null,i=e.B.ra;return new o.jn((function(){var e=Te.Tc(t,n,null,r,null);return o.ni(i,[e])}),0,null)},ne=function(){var e=this;this.b=this.c=null,this.g=[],this.f=null,this.m=[],this.i=1,this.o={},this.l=0,this.u=new o.rl(5),this.j=new o.sg((function(){fe(e)})),this.h=new o.eg,this.a=new o.E("clpp.dash.DashParser")},re=function(e){var t,n,r,i,a,s,u;return o.z((function(c){return 1==c.a?(t=o.hg(e.g,e.c.attemptParameters),t.type=1,n=e.b.networkingEngine,r=Date.now(),i=n.fetch(t),o.ql(e.h,i),o.x(c,i.promise,2)):3!=c.a?(a=c.b,e.b?(a.uri&&!e.g.includes(a.uri)&&e.g.unshift(a.uri),o.x(c,ie(e,a.data,a.uri),3)):c["return"](0)):(s=Date.now(),u=(s-r)/1e3,o.sl(e.u,1,u),c["return"](u))}))},ie=function(e,t,n){var r,i,a,s,u;return o.z((function(c){if(1==c.a){if(r=Te,i=o.Q.rf(t,"MPD"),!i)throw new o.K(o.M,4,4001,n);return a=e.c.xlinkFailGracefully,s=r.dd(i,e.c.attemptParameters,a,n,e.b.networkingEngine),o.ql(e.h,s),o.x(c,s.promise,2)}return u=c.b,c["return"](ae(e,u,n))}))},ae=function(e,t,n){var r,i,a,s,u,c,l,d,h,p,m,v,b,y,w,S,T,E,x,k,A,I;return o.z((function(M){if(1==M.a){r=o.mi,i=o.Q,a=[n],s=i.J(t,"Location").map(i.lb).filter(r.La),0<s.length&&(u=o.ni(a,s),a=e.g=u),c=i.J(t,"BaseURL").map(i.lb),l=o.ni(a,c),d=i.L(t,"minBufferTime",i.Oa,0),e.l=i.L(t,"minimumUpdatePeriod",i.Oa,-1),h=i.L(t,"availabilityStartTime",i.Ei),p=i.L(t,"timeShiftBufferDepth",i.Oa),m=i.L(t,"suggestedPresentationDelay",i.Oa),v=i.L(t,"maxSegmentDuration",i.Oa),b=t.getAttribute("type")||g,e.f?y=e.f.presentationTimeline:(w=3*d,S=null!=m?m:w,y=new o.nn(h,S,!!e.c.autoCorrectDrift)),T={Ub:b!=g,presentationTimeline:y,oa:null,O:null,Y:null,B:null,bandwidth:0,Fd:!1};for(var C=o.Q.L(t,"mediaPresentationDuration",o.Q.Oa),P=[],R=0,N=o.Q.J(t,"Period"),D=0;D<N.length;D++){var L=N[D];R=o.Q.L(L,o.yd,o.Q.Oa,R);var O=o.Q.L(L,f,o.Q.Oa),_=null;if(D!=N.length-1){var U=o.Q.L(N[D+1],o.yd,o.Q.Oa);null!=U&&(_=U-R)}else null!=C&&(_=C-R);if(U=o.In,_&&O&&Math.abs(_-O)>U&&e.a.warn("There is a gap/overlap between Periods",L),null==_&&(_=O),L=oe(e,T,l,{start:R,duration:_,node:L,Jd:null==_||D==N.length-1}),P.push(L),O=T.oa.id,e.m.includes(O)||(e.m.push(O),e.f&&(e.b.filterNewPeriod(L),e.f.periods.push(L))),null==_){D!=N.length-1&&e.a.warn("Skipping Period",D+1,"and any subsequent Periods:","Period",D+1,"does not have a valid start time.",P[D+1]),R=null;break}R+=_}return null==e.f&&e.b.filterAllPeriods(P),null!=C?(R!=C&&e.a.warn("@mediaPresentationDuration does not match the total duration of ","all Periods."),C={periods:P,duration:C,Le:!1}):C={periods:P,duration:R,Le:!0},E=C,x=E.duration,k=E.periods,y.b=b==g,b!=g&&E.Le||y.bb(x||1/0),y.isLive()&&e.c.availabilityWindowOverride&&!isNaN(e.c.availabilityWindowOverride)&&(p=e.c.availabilityWindowOverride),null==p&&(p=1/0),y.Fb=p,o.qn(y,v||1),e.f?void(M.a=0):(e.f={presentationTimeline:y,periods:k,offlineSessionIds:[],minBufferTime:d||0},null==y.h||null!=y.f?void(M.a=0):(A=i.J(t,"UTCTiming"),o.x(M,ve(e,l,A),4)))}if(I=M.b,!e.b)return M["return"]();y.j=I,o.y(M)}))},oe=function(e,t,n,r){t.oa=he(e,r.node,null,n),t.O=r,t.oa.id||(e.a.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),t.oa.id="__shaka_period_"+r.start),n=o.Q.J(r.node,"EventStream"),n=o.v(n);for(var i=n.next();!i.done;i=n.next())be(e,r.start,r.duration,i.value);if(i=o.Q.J(r.node,o.ha).map((function(n){return ce(e,t,n)})).filter(o.mi.La),t.Ub){n=[];for(var a=o.v(i),s=a.next();!s.done;s=a.next()){s=o.v(s.value.Mi);for(var u=s.next();!u.done;u=s.next())n.push(u.value)}if(n.length!=new Set(n).size)throw new o.K(o.M,4,4018)}for(n=i.filter((function(e){return!e.de})),i=i.filter((function(e){return e.de})),i=o.v(i),a=i.next();!a.done;a=i.next()){s=a.value,a=s.streams[0],s=s.de,u=o.v(n);for(var c=u.next();!c.done;c=u.next())if(c=c.value,c.id==s){c=o.v(c.streams);for(var l=c.next();!l.done;l=c.next())l.value.trickModeVideo=a}}if(a=se(n,o.Xd),s=se(n,o.Ib),!a.length&&!s.length)throw new o.K(o.M,4,4004);for(s.length||(s=[null]),a.length||(a=[null]),i=[],s=o.v(s),u=s.next();!u.done;u=s.next())for(u=u.value,c=o.v(a),l=c.next();!l.done;l=c.next())ue(e,u,l.value,i);for(s=se(n,o.k),a=[],s=o.v(s),u=s.next();!u.done;u=s.next())a.push.apply(a,u.value.streams);for(s=se(n,"image"),n=[],s=o.v(s),u=s.next();!u.done;u=s.next())n.push.apply(n,u.value.streams);return{startTime:r.start,textStreams:a,thumbStreams:n,variants:i}},se=function(e,t){return e.filter((function(e){return e.contentType==t}))},ue=function(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<o.Zi(i,a).length){a=o.Zi(t.drmInfos,n.drmInfos);var s=o.v(t.streams);for(i=s.next();!i.done;i=s.next()){var u=i.value,c=o.v(n.streams);for(i=c.next();!i.done;i=c.next()){var l=i.value;i=(l.bandwidth||0)+(u.bandwidth||0),i={id:e.i++,language:t.language,primary:t.Ld||n.Ld,audio:u,video:l,bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}}}else for(a=t||n,s=o.v(a.streams),i=s.next();!i.done;i=s.next())u=i.value,i=u.bandwidth||0,i={id:e.i++,language:a.language||o.Od,primary:a.Ld,audio:t?u:null,video:n?u:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)},ce=function(e,t,i){t.Y=he(e,i,t.oa,null);var a=!1,s=o.Q.J(i,"Role"),u=s.map((function(e){return e.getAttribute(o.Ud)})).filter(o.mi.La),c=null,l=o.Q.J(i,"Label").map((function(e){return e.textContent})).filter(o.mi.La);l&&0<l.length&&(c=l[l.length-1]);var f=void 0;(l=t.Y.contentType==o.k)&&(f=o.Cd),s=o.v(s);for(var d=s.next();!d.done;d=s.next()){d=d.value;var h=d.getAttribute(p);if(null==h||"urn:mpeg:dash:role:2011"==h)switch(d=d.getAttribute(o.Ud),d){case"main":a=!0;break;case"caption":case o.Cd:f=d}}h=o.Q.J(i,r),s=null,d=!1,h=o.v(h);for(var g=h.next();!g.done;g=h.next())g=g.value,"http://dashif.org/guidelines/trickmode"==g.getAttribute(p)?s=g.getAttribute(o.Ud):d=!0;h=o.Q.J(i,"Accessibility");var m=new Map;for(h=o.v(h),g=h.next();!g.done;g=h.next()){var v=g.value;if(g=v.getAttribute(p),"urn:scte:dash:cc:cea-608:2015"==g||"urn:scte:dash:cc:cea-708:2015"==g)if(g=1,v=v.getAttribute(o.Ud),null!=v){v=o.v(v.split(";"));for(var b=v.next();!b.done;b=v.next()){var y=b.value,w=b=void 0;y.includes("=")?(y=y.split("="),b=y[0].startsWith("CC")?y[0]:"CC"+y[0],w=y[1].split(",")[0].split(":").pop()):(b="CC"+g,g+=2,w=y),m.set(b,o.vl(w))}}else m.set("CC1",o.Od)}if(d)return null;d=o.Q.J(i,n);var S=M(d,e.c.ignoreDrmInfo),T=o.vl(i.getAttribute("lang")||o.Od);if(null==c&&(c=i.getAttribute("label")),d=o.Q.J(i,o.Oa),i=d.map((function(n){return le(e,t,S,f,T,c,a,u,m,n)})).filter((function(e){return!!e})),0==i.length){if(l)return null;throw new o.K(o.M,4,4003)}if(!t.Y.contentType||t.Y.contentType==o.zb)for(t.Y.contentType=we(i[0].mimeType,i[0].codecs),l=o.v(i),h=l.next();!h.done;h=l.next())h.value.type=t.Y.contentType;for(l=o.v(i),h=l.next();!h.done;h=l.next())for(h=h.value,g=o.v(S.drmInfos),v=g.next();!v.done;v=g.next())v=v.value,h.keyId&&v.keyIds.push(h.keyId);return l=d.map((function(e){return e.getAttribute("id")})).filter(o.mi.La),{id:t.Y.id||"__fake__"+e.i++,contentType:t.Y.contentType,language:T,Ld:a,streams:i,drmInfos:S.drmInfos,de:s,Mi:l}},le=function(e,t,i,a,s,u,c,l,d,h){var g=o.Q.Db;if(t.B=he(e,h,t.Y,null),!ge(e,t.B))return e.a.warn("Skipping Representation",t.B),null;t.bandwidth=o.Q.L(h,"bandwidth",o.Q.bd)||0;var m=t.B.contentType,v=m==o.k||m==o.zb,b="image"==m;try{if(m=function(t,n,r){return ye(e,t,n,r)},t.B.Cc)var y=q(t,m);else if(t.B.ab)y=G(t,e.o);else if(t.B.Gb)y=Q(t,m,e.o,!!e.f);else{var w=t.B.ra,S=t.O.duration||0;y={createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return 0<=e&&e<S?1:null},getSegmentReference:function(e){return 1!=e?null:new o.kn(1,0,S,(function(){return w}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return S},initSegmentReference:null,pa:0}}}catch(T){if(v&&4002==T.code)return null;throw T}return v=o.Q.J(h,n),v=C(v,i,e.c.ignoreDrmInfo),m=void 0,b&&(b=(h=o.Q.qc(h,r))&&h.getAttribute(p),Te.Mh(b||"")&&(h=(h=h.getAttribute(o.Ud))&&h.split("x").map((function(e){return parseInt(e,10)})))&&2==h.length&&(y.horizontalTiles=h[0],y.verticalTiles=h[1],h=y.horizontalTiles*y.verticalTiles,null!==t.Y.Gb&&(m=(g=o.Q.L(t.Y.Gb,f,g)||0)?g/h:void 0))),{id:e.i++,originalId:t.B.id,createSegmentIndex:y.createSegmentIndex,findSegmentPosition:y.findSegmentPosition,getSegmentReference:y.getSegmentReference,initSegmentReference:y.initSegmentReference,adjustSegmentDurations:y.adjustSegmentDurations,getDuration:y.getDuration,presentationTimeOffset:y.pa,mimeType:t.B.mimeType,codecs:t.B.codecs,frameRate:t.B.frameRate,bandwidth:t.bandwidth,width:t.B.width,height:t.B.height,kind:a,encrypted:0<i.drmInfos.length,keyId:v,language:s,label:u,type:t.Y.contentType,primary:c,trickModeVideo:null,emsgSchemeIdUris:t.B.emsgSchemeIdUris,roles:l,channelsCount:t.B.Od,closedCaptions:d,horizontalTiles:y.horizontalTiles,verticalTiles:y.verticalTiles,durationPerTile:m}},fe=function(e){var t,n;o.z((function(r){switch(r.a){case 1:return e.a.info(o.Ya),t=0,r.c=2,o.x(r,re(e),4);case 4:t=r.b,o.Be(r,3);break;case 2:n=o.Ce(r),e.b&&(o.jf(n,1),e.b.onError(n));case 3:if(!e.b)return r["return"]();de(e,t),o.y(r)}}))},de=function(e,t){0>e.l||e.j.P(Math.max(3,e.l-t,o.tl(e.u)))},he=function(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,Od:null},r=r||n.ra;var i=o.Q.Db,a=o.Q.ph,s=o.Q.J(t,"BaseURL").map(o.Q.lb),u=t.getAttribute("contentType")||n.contentType,c=t.getAttribute(o.Uc)||n.mimeType,l=t.getAttribute(o.hc)||n.codecs;a=o.Q.L(t,o.Ac,a)||n.frameRate;var f=o.Q.J(t,"InbandEventStream"),d=n.emsgSchemeIdUris.slice();f=o.v(f);for(var h=f.next();!h.done;h=f.next())h=h.value.getAttribute(p),d.includes(h)||d.push(h);return f=o.Q.J(t,"AudioChannelConfiguration"),e=pe(e,f)||n.Od,u||(u=we(c,l)),{ra:o.ni(r,s),Cc:o.Q.qc(t,"SegmentBase")||n.Cc,ab:o.Q.qc(t,"SegmentList")||n.ab,Gb:o.Q.qc(t,"SegmentTemplate")||n.Gb,width:o.Q.L(t,o.he,i)||n.width,height:o.Q.L(t,o.Dc,i)||n.height,contentType:u,mimeType:c,codecs:l,frameRate:a,emsgSchemeIdUris:d,id:t.getAttribute("id"),Od:e}},pe=function(e,n){for(var r=o.v(n),i=r.next();!i.done;i=r.next()){var a=i.value;if((i=a.getAttribute(p))&&(a=a.getAttribute(o.Ud)))switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return a.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var s=parseInt(a,10);if(!s){e.a.warn(t,i,a);continue}return s;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(s=parseInt(a,16),!s){e.a.warn(t,i,a);continue}for(r=0;s;)1&s&&++r,s>>=1;return r;default:e.a.warn("Unrecognized audio channel scheme:",i,a)}}return null},ge=function(e,t){var n=t.Cc?1:0;return n+=t.ab?1:0,n+=t.Gb?1:0,0==n?t.contentType==o.k||t.contentType==o.zb||(e.a.warn("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',t),!1):(1!=n&&(e.a.warn("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",t),t.Cc?(e.a.info("Using SegmentBase by default."),t.ab=null):e.a.info("Using SegmentList by default."),t.Gb=null),!0)},me=function(e,t,n,r){var i,a,s,u,c,l;return o.z((function(f){if(1==f.a)return i=o.ni(t,[n]),a=o.hg(i,e.c.attemptParameters),a.type=5,a.method=r,s=e.b.networkingEngine.fetch(a),o.ql(e.h,s),o.x(f,s.promise,2);if(u=f.b,"HEAD"==r){if(!u.headers||!u.headers.date)return e.a.warn("UTC timing response is missing","expected date header"),f["return"](0);c=u.headers.date}else c=o.mf(u.data);return l=Date.parse(c),isNaN(l)?(e.a.warn("Unable to parse date from UTC timing response"),f["return"](0)):f["return"](l-Date.now())}))},ve=function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute(p),value:e.getAttribute(o.Ud)}}));var r=e.c.clockSyncUri;return!n.length&&r&&n.push({scheme:y,value:r}),o.mi.lh(n,(function(n){var r=n.scheme;switch(n=n.value,r){case y:case"urn:mpeg:dash:utc:http-head:2012":return me(e,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return me(e,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return r=Date.parse(n),Promise.resolve(isNaN(r)?0:r-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return e.a.warn("NTP UTCTiming scheme is not supported"),Promise.reject();default:return e.a.warn("Unrecognized scheme in UTCTiming element",r),Promise.reject()}}))["catch"]((function(){return e.a.warn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))},be=function(e,t,n,r){var i=o.Q.Db,a=r.getAttribute(p)||"",s=r.getAttribute(o.Ud)||"",u=o.Q.L(r,m,i)||1;r=o.v(o.Q.J(r,"Event"));for(var c=r.next();!c.done;c=r.next()){c=c.value;var l=o.Q.L(c,"presentationTime",i)||0,d=o.Q.L(c,f,i)||0;l=l/u+t,d=l+d/u,null!=n&&(l=Math.min(l,t+n),d=Math.min(d,t+n));var h=a.startsWith("urn:scte:scte35"),g=o.Nn;c={schemeIdUri:a,value:s,startTime:l,endTime:d,id:c.getAttribute("id")||"",type:h?g.cj:g.UNKNOWN,eventElement:c},e.b.onTimelineCueAdded(c)}},ye=function(e,t,n,r){var i,a,s,u;return o.z((function(c){return 1==c.a?(i=o.pl(t,n,r,e.c.attemptParameters),i.type=o.Bn,a=e.b.networkingEngine,s=a.fetch(i),o.ql(e.h,s),o.x(c,s.promise,2)):(u=c.b,c["return"](u.data))}))},we=function(e,t){return o.Ml(o.pi(e,t))?o.k:e.split("/")[0]},Se=function(){},Te={fe:"http://www.w3.org/1999/xlink",Cf:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],Mh:function(e){return 0<=Te.Cf.indexOf(e)},Tc:function(t,n,r,i,a){var s={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(n,r,i,a){if("$$"==n)return"$";var u=s[r];if(null==u)return o.C("URL template does not have an available substitution for identifier",'"'+r+'":',t),n;switch("RepresentationID"==r&&i&&(o.C("URL template should not contain a width specifier for identifier",'"RepresentationID":',t),i=void 0),"Time"==r&&(u=Math.round(u)),a){case void 0:case"d":case"i":case"u":n=u.toString();break;case"o":n=u.toString(8);break;case"x":n=u.toString(16);break;case"X":n=u.toString(16).toUpperCase();break;default:n=u.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-n.length)+1).join("0")+n}))},mh:function(e,t,n,r){e=o.Q.J(e,"S");for(var i=[],a=0,s=0;s<e.length;++s){var u=e[s],c=o.Q.L(u,"t",o.Q.Db),f=o.Q.L(u,"d",o.Q.Db),h=o.Q.L(u,"r",o.Q.parseInt);if(null!=c&&(c-=n),!f){o.C('"S" element must have a duration:',d,u);break}if(c=null!=c?c:a,h=h||0,0>h)if(s+1<e.length){if(h=o.Q.L(e[s+1],"t",o.Q.Db),null==h){o.C('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:',d,u);break}if(c>=h){o.C('An "S" element cannot have a negative repeatif its start ','time exceeds the next "S" element\'s start time:',d,u);break}h=Math.ceil((h-c)/f)-1}else{if(1/0==r){o.C(l,"if the Period has an infinite duration:",'ignoring the last "S" element.',u);break}if(c/t>=r){o.C(l,"if its start time exceeds the Period's duration:",'igoring the last "S" element.',u);break}h=Math.ceil((r*t-c)/f)-1}for(0<i.length&&c!=a&&(Math.abs((c-a)/t)>=o.In&&o.C("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",u),i[i.length-1].end=c/t),u=0;u<=h;++u)a=c+f,i.push({start:c/t,end:a/t,Ui:c}),c=a}return i},qf:function(e,t){var n=Te.va(e,t,m),r=1;n&&(r=o.Q.bd(n)||1),n=Te.va(e,t,f),(n=o.Q.bd(n||""))&&(n/=r);var i=Te.va(e,t,"startNumber"),a=Number(Te.va(e,t,h))||0,s=o.Q.Db(i||"");null!=i&&null!=s||(s=1);var u=Te.Gd(e,t,c);i=null,u&&(i=Te.mh(u,r,a,e.O.duration||1/0)),u=a/r||0;var l=Te.va(e,t,"availabilityTimeOffset"),d=o.Q.parseFloat(l||"");return null!=l&&null!=d||(d=0),{timescale:r,$:n,Ib:s,pa:u,ee:a,timeline:i,rd:d}},va:function(e,t,n){return[t(e.B),t(e.Y),t(e.oa)].filter(o.mi.La).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))},Gd:function(e,t,n){return[t(e.B),t(e.Y),t(e.oa)].filter(o.mi.La).map((function(e){return o.Q.qc(e,n)})).reduce((function(e,t){return e||t}))},Jh:function(e,t,n,r,i,a){for(var s=Te.fe,u=o.Q.getAttributeNS(e,s,"href"),c=o.Q.getAttributeNS(e,s,"actuate")||"onRequest",l=0;l<e.attributes.length;l++){var f=e.attributes[l];f.namespaceURI==s&&(e.removeAttributeNS(f.namespaceURI,f.localName),--l)}if(5<=a)return E(new o.K(o.M,4,4028));if("onLoad"!=c)return E(new o.K(o.M,4,4027));var d=o.ni([r],[u]);return r=o.hg(d,t),r.type=1,i.fetch(r).Nc((function(r){if(r=o.Q.rf(r.data,e.tagName),!r)return E(new o.K(o.M,4,4001,{uri:u}));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var c=r.attributes[s].nodeName,l=r.getAttribute(c);e.setAttribute(c,l)}return Te.dd(e,t,n,d[0],i,a+1)}))},dd:function(e,t,n,r,i,a){a=void 0===a?0:a;var s=Te.fe;if(o.Q.getAttributeNS(e,s,"href"))return s=Te.Jh(e,t,n,r,i,a),n&&(s=s.Nc(void 0,(function(){return Te.dd(e,t,n,r,i,a)}))),s;for(var u=[],l=0;l<e.childNodes.length;l++){var f=e.childNodes[l];f instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==o.Q.getAttributeNS(f,s,"href")?(e.removeChild(f),--l):f.tagName!=c&&u.push(Te.dd(f,t,n,r,i,a)))}return x(u).Nc((function(){return e}))}},Ee=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",o.dd).set(S,o.lc).set(w,o.kc).set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95",o.kc).set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),xe=(new Map).set(o.lc,(function(e){return(e=o.Q.Uc(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set(o.kc,(function(e){return e=o.Q.Uc(e.node,v,"pro"),e?(e=o.di(e.textContent),o.ij(e).f||""):""})),ke=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];B.prototype.parse=function(e,t,n,r){if(t=new O(new DataView(t)),440786851!=_(t).id)throw o.Te("Not an EBML element."),new o.K(o.M,3,3008);var i=_(t);if(408125543!=i.id)throw o.Te("Not a Segment element."),new o.K(o.M,3,3009);t=i.a.byteOffset,i=new O(i.a);for(var a=null;o.Uh(i.a);){var s=_(i);if(357149030==s.id){a=s;break}}if(!a)throw o.Te("Not an Info element."),new o.K(o.M,3,3010);for(a=new O(a.a),s=1e6,i=null;o.Uh(a.a);){var u=_(a);if(2807729==u.id)s=K(u);else if(17545==u.id)if(4==u.a.byteLength)i=u.a.getFloat32(0);else{if(8!=u.a.byteLength)throw new o.K(o.M,3,3003);i=u.a.getFloat64(0)}}if(null==i)throw new o.K(o.M,3,3011);if(a=s/1e9,i*=a,e=_(new O(new DataView(e))),475249515!=e.id)throw o.Te("Not a Cues element."),new o.K(o.M,3,3007);return F(e,t,a,i,n,r)},o.r=ne.prototype,o.r.configure=function(e){this.c=e},o.r.start=function(e,t){var n,r=this;return o.z((function(i){if(1==i.a)return r.g=[e],r.b=t,o.x(i,re(r),2);if(n=i.b,r.b&&de(r,n),!r.b)throw new o.K(o.M,7,7001);return i["return"](r.f)}))},o.r.stop=function(){return this.c=this.b=null,this.g=[],this.f=null,this.m=[],this.o={},null!=this.j&&(this.j.stop(),this.j=null),this.h.destroy()},o.r.update=function(){var e=this;re(this)["catch"]((function(t){e.b&&t&&e.b.onError(t)}))},o.r.onExpirationUpdated=function(){},o.w(Se,o.wl),o.r=Se.prototype,o.r.ub=function(){o.Sn.ed("mpd",ne),o.Sn.Ac(o.Bk,ne)},o.r.cb=function(){o.Sn.Zd("mpd"),o.Sn.fd(o.Bk)},o.r.lc=function(){},o.r.release=function(){},o.r.id=function(){return"clpp.component.dash"},o.B("clpp.dash.DashComponent",Se)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else r=[n("3f2b")],i=function(e){return u=e._,s.call(a,this),a}.apply(t,r),void 0===i||(e.exports=i)}()},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),o=n("50c4"),s=function(e){return function(t,n,s,u){r(n);var c=i(t),l=a(c),f=o(c.length),d=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(d in l){u=l[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in l&&(u=n(u,l[d],d,c));return u}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d6db:function(e,t,n){"use strict";var r=n("e67a"),i=n.n(r);i.a},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=s.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&u(l,t,n);return l}})},dca8:function(e,t,n){var r=n("23e7"),i=n("bb2f"),a=n("d039"),o=n("861d"),s=n("f183").onFreeze,u=Object.freeze,c=a((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[u]!==l)try{o(h,u,l)}catch(g){h[u]=l}if(h[c]||o(h,c,f),i[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(g){h[p]=a[p]}}}},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("da84"),o=n("5135"),s=n("861d"),u=n("9bf2").f,c=n("e893"),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,g="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e04d:function(e,t,n){},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),u=i((function(){o(1)})),c=!s||u;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e58c:function(e,t,n){"use strict";var r=n("fc6a"),i=n("a691"),a=n("50c4"),o=n("a640"),s=n("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=l||!f||!d;e.exports=h?function(e){if(l)return c.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},e67a:function(e,t,n){},e91f:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,n){"use strict";var r,i=n("a981"),a=n("83ab"),o=n("da84"),s=n("861d"),u=n("5135"),c=n("f5df"),l=n("9112"),f=n("6eeb"),d=n("9bf2").f,h=n("e163"),p=n("d2bb"),g=n("b622"),m=n("90e3"),v=o.Int8Array,b=v&&v.prototype,y=o.Uint8ClampedArray,w=y&&y.prototype,S=v&&h(v),T=b&&h(b),E=Object.prototype,x=E.isPrototypeOf,k=g("toStringTag"),A=m("TYPED_ARRAY_TAG"),I=i&&!!p&&"Opera"!==c(o.opera),M=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){var t=c(e);return"DataView"===t||u(C,t)},R=function(e){return s(e)&&u(C,c(e))},N=function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},D=function(e){if(p){if(x.call(S,e))return e}else for(var t in C)if(u(C,r)){var n=o[t];if(n&&(e===n||x.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},L=function(e,t,n){if(a){if(n)for(var r in C){var i=o[r];i&&u(i.prototype,e)&&delete i.prototype[e]}T[e]&&!n||f(T,e,n?t:I&&b[e]||t)}},O=function(e,t,n){var r,i;if(a){if(p){if(n)for(r in C)i=o[r],i&&u(i,e)&&delete i[e];if(S[e]&&!n)return;try{return f(S,e,n?t:I&&v[e]||t)}catch(s){}}for(r in C)i=o[r],!i||i[e]&&!n||f(i,e,t)}};for(r in C)o[r]||(I=!1);if((!I||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},I))for(r in C)o[r]&&p(o[r],S);if((!I||!T||T===E)&&(T=S.prototype,I))for(r in C)o[r]&&p(o[r].prototype,T);if(I&&h(w)!==T&&p(w,T),a&&!u(T,k))for(r in M=!0,d(T,k,{get:function(){return s(this)?this[A]:void 0}}),C)o[r]&&l(o[r],A,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:M&&A,aTypedArray:N,aTypedArrayConstructor:D,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:O,isView:P,isTypedArray:R,TypedArray:S,TypedArrayPrototype:T}},ecda:function(e,t,n){"use strict";var r=n("003c"),i=n.n(r);i.a},f183:function(e,t,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),u=n("bb2f"),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},p=function(e,t){if(!a(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},g=function(e){return u&&m.REQUIRED&&f(e)&&!a(e,c)&&d(e),e},m=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:g};r[c]=!0},f8cd:function(e,t,n){var r=n("a691");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fb2c:function(e,t,n){var r=n("74e8");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),u=n("fc6a"),c=n("8418"),l=n("b622"),f=n("1dde"),d=n("ae40"),h=f("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,l,f=u(this),d=s(f.length),h=o(e,d),p=o(void 0===t?d:t,d);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,h,p);for(r=new(void 0===n?Array:n)(v(p-h,0)),l=0;h<p;h++,l++)h in f&&c(r,l,f[h]);return r.length=l,r}})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=about.cab302af.js.map